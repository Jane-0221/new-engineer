ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"Chassis.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "User/Software/Chassis.c"
  19              		.global	chassis_speed_pid_FL
  20              		.section	.bss.chassis_speed_pid_FL,"aw",%nobits
  21              		.align	2
  24              	chassis_speed_pid_FL:
  25 0000 00000000 		.space	52
  25      00000000 
  25      00000000 
  25      00000000 
  25      00000000 
  26              		.global	chassis_speed_pid_FR
  27              		.section	.bss.chassis_speed_pid_FR,"aw",%nobits
  28              		.align	2
  31              	chassis_speed_pid_FR:
  32 0000 00000000 		.space	52
  32      00000000 
  32      00000000 
  32      00000000 
  32      00000000 
  33              		.global	chassis_speed_pid_BL
  34              		.section	.bss.chassis_speed_pid_BL,"aw",%nobits
  35              		.align	2
  38              	chassis_speed_pid_BL:
  39 0000 00000000 		.space	52
  39      00000000 
  39      00000000 
  39      00000000 
  39      00000000 
  40              		.global	chassis_speed_pid_BR
  41              		.section	.bss.chassis_speed_pid_BR,"aw",%nobits
  42              		.align	2
  45              	chassis_speed_pid_BR:
  46 0000 00000000 		.space	52
  46      00000000 
  46      00000000 
  46      00000000 
  46      00000000 
  47              		.global	Vx_ramp
  48              		.section	.bss.Vx_ramp,"aw",%nobits
  49              		.align	2
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 2


  52              	Vx_ramp:
  53 0000 00000000 		.space	28
  53      00000000 
  53      00000000 
  53      00000000 
  53      00000000 
  54              		.global	Vy_ramp
  55              		.section	.bss.Vy_ramp,"aw",%nobits
  56              		.align	2
  59              	Vy_ramp:
  60 0000 00000000 		.space	28
  60      00000000 
  60      00000000 
  60      00000000 
  60      00000000 
  61              		.global	AHRS_yaw_set
  62              		.section	.bss.AHRS_yaw_set,"aw",%nobits
  63              		.align	2
  66              	AHRS_yaw_set:
  67 0000 00000000 		.space	4
  68              		.global	yaw_pid
  69              		.section	.bss.yaw_pid,"aw",%nobits
  70              		.align	2
  73              	yaw_pid:
  74 0000 00000000 		.space	52
  74      00000000 
  74      00000000 
  74      00000000 
  74      00000000 
  75              		.section	.text.Chassis_init,"ax",%progbits
  76              		.align	1
  77              		.global	Chassis_init
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	Chassis_init:
  83              	.LFB147:
   1:User/Software/Chassis.c **** #include "Chassis.h"
   2:User/Software/Chassis.c **** #include "Global_status.h"
   3:User/Software/Chassis.c **** #include "Gimbal.h"
   4:User/Software/Chassis.c **** #include "ui.h"
   5:User/Software/Chassis.c **** #include "IMU_updata.h"
   6:User/Software/Chassis.c **** #include "referee_system.h"
   7:User/Software/Chassis.c **** #include "supercup.h"
   8:User/Software/Chassis.c **** #include "stm32_time.h"
   9:User/Software/Chassis.c **** #include "remote_control.h"
  10:User/Software/Chassis.c **** #include "pid.h"
  11:User/Software/Chassis.c **** #include "ramp_generator.h"
  12:User/Software/Chassis.c **** #include "User_math.h"
  13:User/Software/Chassis.c **** #include "DT7.h"
  14:User/Software/Chassis.c **** pid_t chassis_speed_pid_FL, chassis_speed_pid_FR, chassis_speed_pid_BL, chassis_speed_pid_BR; // 轮
  15:User/Software/Chassis.c **** RampGenerator Vx_ramp, Vy_ramp;
  16:User/Software/Chassis.c **** extern pid_t yaw_auto_location_pid;
  17:User/Software/Chassis.c **** 
  18:User/Software/Chassis.c **** float AHRS_yaw_set = 0;
  19:User/Software/Chassis.c **** pid_t yaw_pid;
  20:User/Software/Chassis.c **** 
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 3


  21:User/Software/Chassis.c **** /**
  22:User/Software/Chassis.c ****  * @brief 底盘初始化
  23:User/Software/Chassis.c ****  *
  24:User/Software/Chassis.c ****  */
  25:User/Software/Chassis.c **** void Chassis_init()
  26:User/Software/Chassis.c **** {
  84              		.loc 1 26 1
  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 0
  87              		@ frame_needed = 1, uses_anonymous_args = 0
  88 0000 80B5     		push	{r7, lr}
  89              	.LCFI0:
  90              		.cfi_def_cfa_offset 8
  91              		.cfi_offset 7, -8
  92              		.cfi_offset 14, -4
  93 0002 00AF     		add	r7, sp, #0
  94              	.LCFI1:
  95              		.cfi_def_cfa_register 7
  27:User/Software/Chassis.c ****     /*电机初始化*/
  28:User/Software/Chassis.c ****     CHASSISMotor_init(M3508_P, WHEEL_FL);
  96              		.loc 1 28 5
  97 0004 0121     		movs	r1, #1
  98 0006 1320     		movs	r0, #19
  99 0008 FFF7FEFF 		bl	DJIMotor_init
  29:User/Software/Chassis.c ****     CHASSISMotor_init(M3508_P, WHEEL_FR);
 100              		.loc 1 29 5
 101 000c 0021     		movs	r1, #0
 102 000e 1320     		movs	r0, #19
 103 0010 FFF7FEFF 		bl	DJIMotor_init
  30:User/Software/Chassis.c ****     CHASSISMotor_init(M3508_P, WHEEL_BL);
 104              		.loc 1 30 5
 105 0014 0221     		movs	r1, #2
 106 0016 1320     		movs	r0, #19
 107 0018 FFF7FEFF 		bl	DJIMotor_init
  31:User/Software/Chassis.c ****     CHASSISMotor_init(M3508_P, WHEEL_BR);
 108              		.loc 1 31 5
 109 001c 0321     		movs	r1, #3
 110 001e 1320     		movs	r0, #19
 111 0020 FFF7FEFF 		bl	DJIMotor_init
  32:User/Software/Chassis.c **** 
  33:User/Software/Chassis.c ****     /*轮组电机PID速度环初始化*/
  34:User/Software/Chassis.c ****     pid_set(&chassis_speed_pid_FR, 9000, 0, 120, CHASSISMOTOR_MAX_CURRENT, 5000); // 16000 1000
 112              		.loc 1 34 5
 113 0024 9FED212A 		vldr.32	s4, .L2
 114 0028 DFED211A 		vldr.32	s3, .L2+4
 115 002c 9FED211A 		vldr.32	s2, .L2+8
 116 0030 DFED210A 		vldr.32	s1, .L2+12
 117 0034 9FED210A 		vldr.32	s0, .L2+16
 118 0038 2148     		ldr	r0, .L2+20
 119 003a FFF7FEFF 		bl	pid_set
  35:User/Software/Chassis.c ****     pid_set(&chassis_speed_pid_FL, 9000, 0, 120, CHASSISMOTOR_MAX_CURRENT, 5000);
 120              		.loc 1 35 5
 121 003e 9FED1B2A 		vldr.32	s4, .L2
 122 0042 DFED1B1A 		vldr.32	s3, .L2+4
 123 0046 9FED1B1A 		vldr.32	s2, .L2+8
 124 004a DFED1B0A 		vldr.32	s1, .L2+12
 125 004e 9FED1B0A 		vldr.32	s0, .L2+16
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 4


 126 0052 1C48     		ldr	r0, .L2+24
 127 0054 FFF7FEFF 		bl	pid_set
  36:User/Software/Chassis.c ****     pid_set(&chassis_speed_pid_BL, 9000, 0, 120, CHASSISMOTOR_MAX_CURRENT, 5000);
 128              		.loc 1 36 5
 129 0058 9FED142A 		vldr.32	s4, .L2
 130 005c DFED141A 		vldr.32	s3, .L2+4
 131 0060 9FED141A 		vldr.32	s2, .L2+8
 132 0064 DFED140A 		vldr.32	s1, .L2+12
 133 0068 9FED140A 		vldr.32	s0, .L2+16
 134 006c 1648     		ldr	r0, .L2+28
 135 006e FFF7FEFF 		bl	pid_set
  37:User/Software/Chassis.c ****     pid_set(&chassis_speed_pid_BR, 9000, 0, 120, CHASSISMOTOR_MAX_CURRENT, 5000);
 136              		.loc 1 37 5
 137 0072 9FED0E2A 		vldr.32	s4, .L2
 138 0076 DFED0E1A 		vldr.32	s3, .L2+4
 139 007a 9FED0E1A 		vldr.32	s2, .L2+8
 140 007e DFED0E0A 		vldr.32	s1, .L2+12
 141 0082 9FED0E0A 		vldr.32	s0, .L2+16
 142 0086 1148     		ldr	r0, .L2+32
 143 0088 FFF7FEFF 		bl	pid_set
  38:User/Software/Chassis.c ****     //
  39:User/Software/Chassis.c ****     pid_set(&yaw_pid, 3.0, 0.0, 0.5, 100.0, 2.0);
 144              		.loc 1 39 5
 145 008c B0EE002A 		vmov.f32	s4, #2.0e+0
 146 0090 DFED0F1A 		vldr.32	s3, .L2+36
 147 0094 B6EE001A 		vmov.f32	s2, #5.0e-1
 148 0098 DFED070A 		vldr.32	s1, .L2+12
 149 009c B0EE080A 		vmov.f32	s0, #3.0e+0
 150 00a0 0C48     		ldr	r0, .L2+40
 151 00a2 FFF7FEFF 		bl	pid_set
  40:User/Software/Chassis.c **** }
 152              		.loc 1 40 1
 153 00a6 00BF     		nop
 154 00a8 80BD     		pop	{r7, pc}
 155              	.L3:
 156 00aa 00BF     		.align	2
 157              	.L2:
 158 00ac 00409C45 		.word	1167867904
 159 00b0 00008046 		.word	1182793728
 160 00b4 0000F042 		.word	1123024896
 161 00b8 00000000 		.word	0
 162 00bc 00A00C46 		.word	1175232512
 163 00c0 00000000 		.word	chassis_speed_pid_FR
 164 00c4 00000000 		.word	chassis_speed_pid_FL
 165 00c8 00000000 		.word	chassis_speed_pid_BL
 166 00cc 00000000 		.word	chassis_speed_pid_BR
 167 00d0 0000C842 		.word	1120403456
 168 00d4 00000000 		.word	yaw_pid
 169              		.cfi_endproc
 170              	.LFE147:
 172              		.section	.text.Chassis_set_x,"ax",%progbits
 173              		.align	1
 174              		.global	Chassis_set_x
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 179              	Chassis_set_x:
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 5


 180              	.LFB148:
  41:User/Software/Chassis.c **** 
  42:User/Software/Chassis.c **** /**
  43:User/Software/Chassis.c ****  * @brief 设置底盘移动速度
  44:User/Software/Chassis.c ****  *
  45:User/Software/Chassis.c ****  */
  46:User/Software/Chassis.c **** void Chassis_set_x(float x)
  47:User/Software/Chassis.c **** {
 181              		.loc 1 47 1
 182              		.cfi_startproc
 183              		@ args = 0, pretend = 0, frame = 8
 184              		@ frame_needed = 1, uses_anonymous_args = 0
 185 0000 80B5     		push	{r7, lr}
 186              	.LCFI2:
 187              		.cfi_def_cfa_offset 8
 188              		.cfi_offset 7, -8
 189              		.cfi_offset 14, -4
 190 0002 82B0     		sub	sp, sp, #8
 191              	.LCFI3:
 192              		.cfi_def_cfa_offset 16
 193 0004 00AF     		add	r7, sp, #0
 194              	.LCFI4:
 195              		.cfi_def_cfa_register 7
 196 0006 87ED010A 		vstr.32	s0, [r7, #4]
  48:User/Software/Chassis.c ****      RampGenerator_SetTarget(&Vx_ramp, x);
 197              		.loc 1 48 6
 198 000a 97ED010A 		vldr.32	s0, [r7, #4]
 199 000e 0548     		ldr	r0, .L5
 200 0010 FFF7FEFF 		bl	RampGenerator_SetTarget
  49:User/Software/Chassis.c ****     Global.Chssis.input.x = x;
 201              		.loc 1 49 27
 202 0014 044A     		ldr	r2, .L5+4
 203 0016 7B68     		ldr	r3, [r7, #4]	@ float
 204 0018 5360     		str	r3, [r2, #4]	@ float
  50:User/Software/Chassis.c **** }
 205              		.loc 1 50 1
 206 001a 00BF     		nop
 207 001c 0837     		adds	r7, r7, #8
 208              	.LCFI5:
 209              		.cfi_def_cfa_offset 8
 210 001e BD46     		mov	sp, r7
 211              	.LCFI6:
 212              		.cfi_def_cfa_register 13
 213              		@ sp needed
 214 0020 80BD     		pop	{r7, pc}
 215              	.L6:
 216 0022 00BF     		.align	2
 217              	.L5:
 218 0024 00000000 		.word	Vx_ramp
 219 0028 00000000 		.word	Global
 220              		.cfi_endproc
 221              	.LFE148:
 223              		.section	.text.Chassis_set_y,"ax",%progbits
 224              		.align	1
 225              		.global	Chassis_set_y
 226              		.syntax unified
 227              		.thumb
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 6


 228              		.thumb_func
 230              	Chassis_set_y:
 231              	.LFB149:
  51:User/Software/Chassis.c **** void Chassis_set_y(float y)
  52:User/Software/Chassis.c **** {
 232              		.loc 1 52 1
 233              		.cfi_startproc
 234              		@ args = 0, pretend = 0, frame = 8
 235              		@ frame_needed = 1, uses_anonymous_args = 0
 236              		@ link register save eliminated.
 237 0000 80B4     		push	{r7}
 238              	.LCFI7:
 239              		.cfi_def_cfa_offset 4
 240              		.cfi_offset 7, -4
 241 0002 83B0     		sub	sp, sp, #12
 242              	.LCFI8:
 243              		.cfi_def_cfa_offset 16
 244 0004 00AF     		add	r7, sp, #0
 245              	.LCFI9:
 246              		.cfi_def_cfa_register 7
 247 0006 87ED010A 		vstr.32	s0, [r7, #4]
  53:User/Software/Chassis.c ****     // RampGenerator_SetTarget(&Vy_ramp, y);
  54:User/Software/Chassis.c ****     Global.Chssis.input.y = y;
 248              		.loc 1 54 27
 249 000a 044A     		ldr	r2, .L8
 250 000c 7B68     		ldr	r3, [r7, #4]	@ float
 251 000e 9360     		str	r3, [r2, #8]	@ float
  55:User/Software/Chassis.c **** }
 252              		.loc 1 55 1
 253 0010 00BF     		nop
 254 0012 0C37     		adds	r7, r7, #12
 255              	.LCFI10:
 256              		.cfi_def_cfa_offset 4
 257 0014 BD46     		mov	sp, r7
 258              	.LCFI11:
 259              		.cfi_def_cfa_register 13
 260              		@ sp needed
 261 0016 5DF8047B 		ldr	r7, [sp], #4
 262              	.LCFI12:
 263              		.cfi_restore 7
 264              		.cfi_def_cfa_offset 0
 265 001a 7047     		bx	lr
 266              	.L9:
 267              		.align	2
 268              	.L8:
 269 001c 00000000 		.word	Global
 270              		.cfi_endproc
 271              	.LFE149:
 273              		.section	.text.Chassis_set_r,"ax",%progbits
 274              		.align	1
 275              		.global	Chassis_set_r
 276              		.syntax unified
 277              		.thumb
 278              		.thumb_func
 280              	Chassis_set_r:
 281              	.LFB150:
  56:User/Software/Chassis.c **** void Chassis_set_r(float r)
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 7


  57:User/Software/Chassis.c **** {
 282              		.loc 1 57 1
 283              		.cfi_startproc
 284              		@ args = 0, pretend = 0, frame = 8
 285              		@ frame_needed = 1, uses_anonymous_args = 0
 286              		@ link register save eliminated.
 287 0000 80B4     		push	{r7}
 288              	.LCFI13:
 289              		.cfi_def_cfa_offset 4
 290              		.cfi_offset 7, -4
 291 0002 83B0     		sub	sp, sp, #12
 292              	.LCFI14:
 293              		.cfi_def_cfa_offset 16
 294 0004 00AF     		add	r7, sp, #0
 295              	.LCFI15:
 296              		.cfi_def_cfa_register 7
 297 0006 87ED010A 		vstr.32	s0, [r7, #4]
  58:User/Software/Chassis.c ****     Global.Chssis.input.r = r;
 298              		.loc 1 58 27
 299 000a 044A     		ldr	r2, .L11
 300 000c 7B68     		ldr	r3, [r7, #4]	@ float
 301 000e D360     		str	r3, [r2, #12]	@ float
  59:User/Software/Chassis.c **** }
 302              		.loc 1 59 1
 303 0010 00BF     		nop
 304 0012 0C37     		adds	r7, r7, #12
 305              	.LCFI16:
 306              		.cfi_def_cfa_offset 4
 307 0014 BD46     		mov	sp, r7
 308              	.LCFI17:
 309              		.cfi_def_cfa_register 13
 310              		@ sp needed
 311 0016 5DF8047B 		ldr	r7, [sp], #4
 312              	.LCFI18:
 313              		.cfi_restore 7
 314              		.cfi_def_cfa_offset 0
 315 001a 7047     		bx	lr
 316              	.L12:
 317              		.align	2
 318              	.L11:
 319 001c 00000000 		.word	Global
 320              		.cfi_endproc
 321              	.LFE150:
 323              		.section	.text.Chassis_set_accel,"ax",%progbits
 324              		.align	1
 325              		.global	Chassis_set_accel
 326              		.syntax unified
 327              		.thumb
 328              		.thumb_func
 330              	Chassis_set_accel:
 331              	.LFB151:
  60:User/Software/Chassis.c **** 
  61:User/Software/Chassis.c **** void Chassis_set_accel(float acc)
  62:User/Software/Chassis.c **** {
 332              		.loc 1 62 1
 333              		.cfi_startproc
 334              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 8


 335              		@ frame_needed = 1, uses_anonymous_args = 0
 336 0000 80B5     		push	{r7, lr}
 337              	.LCFI19:
 338              		.cfi_def_cfa_offset 8
 339              		.cfi_offset 7, -8
 340              		.cfi_offset 14, -4
 341 0002 82B0     		sub	sp, sp, #8
 342              	.LCFI20:
 343              		.cfi_def_cfa_offset 16
 344 0004 00AF     		add	r7, sp, #0
 345              	.LCFI21:
 346              		.cfi_def_cfa_register 7
 347 0006 87ED010A 		vstr.32	s0, [r7, #4]
  63:User/Software/Chassis.c ****     RampGenerator_SetAccel(&Vx_ramp, acc);
 348              		.loc 1 63 5
 349 000a 97ED010A 		vldr.32	s0, [r7, #4]
 350 000e 0648     		ldr	r0, .L14
 351 0010 FFF7FEFF 		bl	RampGenerator_SetAccel
  64:User/Software/Chassis.c ****     RampGenerator_SetAccel(&Vy_ramp, acc);
 352              		.loc 1 64 5
 353 0014 97ED010A 		vldr.32	s0, [r7, #4]
 354 0018 0448     		ldr	r0, .L14+4
 355 001a FFF7FEFF 		bl	RampGenerator_SetAccel
  65:User/Software/Chassis.c **** }
 356              		.loc 1 65 1
 357 001e 00BF     		nop
 358 0020 0837     		adds	r7, r7, #8
 359              	.LCFI22:
 360              		.cfi_def_cfa_offset 8
 361 0022 BD46     		mov	sp, r7
 362              	.LCFI23:
 363              		.cfi_def_cfa_register 13
 364              		@ sp needed
 365 0024 80BD     		pop	{r7, pc}
 366              	.L15:
 367 0026 00BF     		.align	2
 368              	.L14:
 369 0028 00000000 		.word	Vx_ramp
 370 002c 00000000 		.word	Vy_ramp
 371              		.cfi_endproc
 372              	.LFE151:
 374              		.global	Vx_now
 375              		.section	.bss.Vx_now,"aw",%nobits
 376              		.align	2
 379              	Vx_now:
 380 0000 00000000 		.space	4
 381              		.global	Vy_now
 382              		.section	.bss.Vy_now,"aw",%nobits
 383              		.align	2
 386              	Vy_now:
 387 0000 00000000 		.space	4
 388              		.global	W_now
 389              		.section	.bss.W_now,"aw",%nobits
 390              		.align	2
 393              	W_now:
 394 0000 00000000 		.space	4
 395              		.global	T_FR
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 9


 396              		.section	.bss.T_FR,"aw",%nobits
 397              		.align	2
 400              	T_FR:
 401 0000 00000000 		.space	4
 402              		.global	T_FL
 403              		.section	.bss.T_FL,"aw",%nobits
 404              		.align	2
 407              	T_FL:
 408 0000 00000000 		.space	4
 409              		.global	T_BR
 410              		.section	.bss.T_BR,"aw",%nobits
 411              		.align	2
 414              	T_BR:
 415 0000 00000000 		.space	4
 416              		.global	T_BL
 417              		.section	.bss.T_BL,"aw",%nobits
 418              		.align	2
 421              	T_BL:
 422 0000 00000000 		.space	4
 423              		.global	K
 424              		.section	.bss.K,"aw",%nobits
 425              		.align	2
 428              	K:
 429 0000 00000000 		.space	4
 430              		.section	.text.ChassisMotor_Control,"ax",%progbits
 431              		.align	1
 432              		.global	ChassisMotor_Control
 433              		.syntax unified
 434              		.thumb
 435              		.thumb_func
 437              	ChassisMotor_Control:
 438              	.LFB152:
  66:User/Software/Chassis.c **** 
  67:User/Software/Chassis.c **** /**
  68:User/Software/Chassis.c ****  * @brief 底盘电机控制
  69:User/Software/Chassis.c ****  *
  70:User/Software/Chassis.c ****  * @param FL_speed 左前轮速度
  71:User/Software/Chassis.c ****  * @param FR_speed 右前轮速度
  72:User/Software/Chassis.c ****  * @param BL_speed 左后轮速度
  73:User/Software/Chassis.c ****  * @param BR_speed 右后轮速度
  74:User/Software/Chassis.c ****  */
  75:User/Software/Chassis.c **** float Vx_now, Vy_now, W_now;
  76:User/Software/Chassis.c **** float T_FR, T_FL, T_BR, T_BL, K;
  77:User/Software/Chassis.c **** void ChassisMotor_Control(float Vx_speed, float Vy_speed, float R_speed)
  78:User/Software/Chassis.c **** {
 439              		.loc 1 78 1
 440              		.cfi_startproc
 441              		@ args = 0, pretend = 0, frame = 616
 442              		@ frame_needed = 1, uses_anonymous_args = 0
 443 0000 80B5     		push	{r7, lr}
 444              	.LCFI24:
 445              		.cfi_def_cfa_offset 8
 446              		.cfi_offset 7, -8
 447              		.cfi_offset 14, -4
 448 0002 2DED028B 		vpush.64	{d8}
 449              	.LCFI25:
 450              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 10


 451              		.cfi_offset 80, -16
 452              		.cfi_offset 81, -12
 453 0006 ADF51A7D 		sub	sp, sp, #616
 454              	.LCFI26:
 455              		.cfi_def_cfa_offset 632
 456 000a 00AF     		add	r7, sp, #0
 457              	.LCFI27:
 458              		.cfi_def_cfa_register 7
 459 000c 07F51A73 		add	r3, r7, #616
 460 0010 A3F51773 		sub	r3, r3, #604
 461 0014 83ED000A 		vstr.32	s0, [r3]
 462 0018 07F51A73 		add	r3, r7, #616
 463 001c A3F51873 		sub	r3, r3, #608
 464 0020 C3ED000A 		vstr.32	s1, [r3]
 465 0024 07F51A73 		add	r3, r7, #616
 466 0028 A3F51973 		sub	r3, r3, #612
 467 002c 83ED001A 		vstr.32	s2, [r3]
  79:User/Software/Chassis.c ****     float FL_speed, FR_speed, BL_speed, BR_speed;
  80:User/Software/Chassis.c **** 
  81:User/Software/Chassis.c ****     float CHASSIS_WZ_SET_SCALE = 0.0f; // 底盘转角速度设置比例
 468              		.loc 1 81 11
 469 0030 4FF00003 		mov	r3, #0
 470 0034 C7F86032 		str	r3, [r7, #608]	@ float
  82:User/Software/Chassis.c **** 
  83:User/Software/Chassis.c ****     /*逆解轮速*/
  84:User/Software/Chassis.c ****     FR_speed = +Vx_speed - Vy_speed + (1 + CHASSIS_WZ_SET_SCALE) * R_speed;
 471              		.loc 1 84 26
 472 0038 07F51A73 		add	r3, r7, #616
 473 003c A3F51772 		sub	r2, r3, #604
 474 0040 07F51A73 		add	r3, r7, #616
 475 0044 A3F51873 		sub	r3, r3, #608
 476 0048 92ED007A 		vldr.32	s14, [r2]
 477 004c D3ED007A 		vldr.32	s15, [r3]
 478 0050 37EE677A 		vsub.f32	s14, s14, s15
 479              		.loc 1 84 42
 480 0054 D7ED987A 		vldr.32	s15, [r7, #608]
 481 0058 F7EE006A 		vmov.f32	s13, #1.0e+0
 482 005c 77EEA66A 		vadd.f32	s13, s15, s13
 483              		.loc 1 84 66
 484 0060 07F51A73 		add	r3, r7, #616
 485 0064 A3F51973 		sub	r3, r3, #612
 486 0068 D3ED007A 		vldr.32	s15, [r3]
 487 006c 66EEA77A 		vmul.f32	s15, s13, s15
 488              		.loc 1 84 14
 489 0070 77EE277A 		vadd.f32	s15, s14, s15
 490 0074 C7ED977A 		vstr.32	s15, [r7, #604]
  85:User/Software/Chassis.c ****     FL_speed = +Vx_speed + Vy_speed + (1 + CHASSIS_WZ_SET_SCALE) * R_speed;
 491              		.loc 1 85 26
 492 0078 07F51A73 		add	r3, r7, #616
 493 007c A3F51772 		sub	r2, r3, #604
 494 0080 07F51A73 		add	r3, r7, #616
 495 0084 A3F51873 		sub	r3, r3, #608
 496 0088 92ED007A 		vldr.32	s14, [r2]
 497 008c D3ED007A 		vldr.32	s15, [r3]
 498 0090 37EE277A 		vadd.f32	s14, s14, s15
 499              		.loc 1 85 42
 500 0094 D7ED987A 		vldr.32	s15, [r7, #608]
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 11


 501 0098 F7EE006A 		vmov.f32	s13, #1.0e+0
 502 009c 77EEA66A 		vadd.f32	s13, s15, s13
 503              		.loc 1 85 66
 504 00a0 07F51A73 		add	r3, r7, #616
 505 00a4 A3F51973 		sub	r3, r3, #612
 506 00a8 D3ED007A 		vldr.32	s15, [r3]
 507 00ac 66EEA77A 		vmul.f32	s15, s13, s15
 508              		.loc 1 85 14
 509 00b0 77EE277A 		vadd.f32	s15, s14, s15
 510 00b4 C7ED967A 		vstr.32	s15, [r7, #600]
  86:User/Software/Chassis.c ****     BL_speed = -Vx_speed + Vy_speed + (1 - CHASSIS_WZ_SET_SCALE) * R_speed;
 511              		.loc 1 86 26
 512 00b8 07F51A73 		add	r3, r7, #616
 513 00bc A3F51872 		sub	r2, r3, #608
 514 00c0 07F51A73 		add	r3, r7, #616
 515 00c4 A3F51773 		sub	r3, r3, #604
 516 00c8 92ED007A 		vldr.32	s14, [r2]
 517 00cc D3ED007A 		vldr.32	s15, [r3]
 518 00d0 37EE677A 		vsub.f32	s14, s14, s15
 519              		.loc 1 86 42
 520 00d4 F7EE006A 		vmov.f32	s13, #1.0e+0
 521 00d8 D7ED987A 		vldr.32	s15, [r7, #608]
 522 00dc 76EEE76A 		vsub.f32	s13, s13, s15
 523              		.loc 1 86 66
 524 00e0 07F51A73 		add	r3, r7, #616
 525 00e4 A3F51973 		sub	r3, r3, #612
 526 00e8 D3ED007A 		vldr.32	s15, [r3]
 527 00ec 66EEA77A 		vmul.f32	s15, s13, s15
 528              		.loc 1 86 14
 529 00f0 77EE277A 		vadd.f32	s15, s14, s15
 530 00f4 C7ED957A 		vstr.32	s15, [r7, #596]
  87:User/Software/Chassis.c ****     BR_speed = -Vx_speed - Vy_speed + (1 - CHASSIS_WZ_SET_SCALE) * R_speed;
 531              		.loc 1 87 16
 532 00f8 07F51A73 		add	r3, r7, #616
 533 00fc A3F51773 		sub	r3, r3, #604
 534 0100 D3ED007A 		vldr.32	s15, [r3]
 535 0104 B1EE677A 		vneg.f32	s14, s15
 536              		.loc 1 87 26
 537 0108 07F51A73 		add	r3, r7, #616
 538 010c A3F51873 		sub	r3, r3, #608
 539 0110 D3ED007A 		vldr.32	s15, [r3]
 540 0114 37EE677A 		vsub.f32	s14, s14, s15
 541              		.loc 1 87 42
 542 0118 F7EE006A 		vmov.f32	s13, #1.0e+0
 543 011c D7ED987A 		vldr.32	s15, [r7, #608]
 544 0120 76EEE76A 		vsub.f32	s13, s13, s15
 545              		.loc 1 87 66
 546 0124 07F51A73 		add	r3, r7, #616
 547 0128 A3F51973 		sub	r3, r3, #612
 548 012c D3ED007A 		vldr.32	s15, [r3]
 549 0130 66EEA77A 		vmul.f32	s15, s13, s15
 550              		.loc 1 87 14
 551 0134 77EE277A 		vadd.f32	s15, s14, s15
 552 0138 C7ED947A 		vstr.32	s15, [r7, #592]
  88:User/Software/Chassis.c **** 
  89:User/Software/Chassis.c ****     /*正解车速*/
  90:User/Software/Chassis.c ****     Vx_now = CHASSISMotor_get_data(WHEEL_FL).speed_rpm / 2.0f - CHASSISMotor_get_data(WHEEL_BL).spe
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 12


 553              		.loc 1 90 14
 554 013c 07F51A73 		add	r3, r7, #616
 555 0140 A3F51273 		sub	r3, r3, #584
 556 0144 0121     		movs	r1, #1
 557 0146 1846     		mov	r0, r3
 558 0148 FFF7FEFF 		bl	DJIMotor_get_data
 559              		.loc 1 90 45 discriminator 1
 560 014c 07F51A73 		add	r3, r7, #616
 561 0150 A3F51273 		sub	r3, r3, #584
 562 0154 B3F90630 		ldrsh	r3, [r3, #6]
 563              		.loc 1 90 56 discriminator 1
 564 0158 07EE903A 		vmov	s15, r3	@ int
 565 015c F8EEE77A 		vcvt.f32.s32	s15, s15
 566 0160 B0EE007A 		vmov.f32	s14, #2.0e+0
 567 0164 87EE878A 		vdiv.f32	s16, s15, s14
 568              		.loc 1 90 65 discriminator 1
 569 0168 07F51A73 		add	r3, r7, #616
 570 016c A3F50473 		sub	r3, r3, #528
 571 0170 0221     		movs	r1, #2
 572 0172 1846     		mov	r0, r3
 573 0174 FFF7FEFF 		bl	DJIMotor_get_data
 574              		.loc 1 90 96 discriminator 2
 575 0178 07F51A73 		add	r3, r7, #616
 576 017c A3F50473 		sub	r3, r3, #528
 577 0180 B3F90630 		ldrsh	r3, [r3, #6]
 578              		.loc 1 90 107 discriminator 2
 579 0184 07EE903A 		vmov	s15, r3	@ int
 580 0188 B8EEE77A 		vcvt.f32.s32	s14, s15
 581 018c F0EE006A 		vmov.f32	s13, #2.0e+0
 582 0190 C7EE267A 		vdiv.f32	s15, s14, s13
 583              		.loc 1 90 63 discriminator 2
 584 0194 78EE677A 		vsub.f32	s15, s16, s15
 585              		.loc 1 90 12 discriminator 2
 586 0198 D54B     		ldr	r3, .L25+16
 587 019a C3ED007A 		vstr.32	s15, [r3]
  91:User/Software/Chassis.c ****     Vy_now = CHASSISMotor_get_data(WHEEL_FL).speed_rpm / 2.0f - CHASSISMotor_get_data(WHEEL_FR).spe
 588              		.loc 1 91 14
 589 019e 07F51A73 		add	r3, r7, #616
 590 01a2 A3F5EC73 		sub	r3, r3, #472
 591 01a6 0121     		movs	r1, #1
 592 01a8 1846     		mov	r0, r3
 593 01aa FFF7FEFF 		bl	DJIMotor_get_data
 594              		.loc 1 91 45 discriminator 1
 595 01ae 07F51A73 		add	r3, r7, #616
 596 01b2 A3F5EC73 		sub	r3, r3, #472
 597 01b6 B3F90630 		ldrsh	r3, [r3, #6]
 598              		.loc 1 91 56 discriminator 1
 599 01ba 07EE903A 		vmov	s15, r3	@ int
 600 01be F8EEE77A 		vcvt.f32.s32	s15, s15
 601 01c2 B0EE007A 		vmov.f32	s14, #2.0e+0
 602 01c6 87EE878A 		vdiv.f32	s16, s15, s14
 603              		.loc 1 91 65 discriminator 1
 604 01ca 07F51A73 		add	r3, r7, #616
 605 01ce A3F5D073 		sub	r3, r3, #416
 606 01d2 0021     		movs	r1, #0
 607 01d4 1846     		mov	r0, r3
 608 01d6 FFF7FEFF 		bl	DJIMotor_get_data
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 13


 609              		.loc 1 91 96 discriminator 2
 610 01da 07F51A73 		add	r3, r7, #616
 611 01de A3F5D073 		sub	r3, r3, #416
 612 01e2 B3F90630 		ldrsh	r3, [r3, #6]
 613              		.loc 1 91 107 discriminator 2
 614 01e6 07EE903A 		vmov	s15, r3	@ int
 615 01ea B8EEE77A 		vcvt.f32.s32	s14, s15
 616 01ee F0EE006A 		vmov.f32	s13, #2.0e+0
 617 01f2 C7EE267A 		vdiv.f32	s15, s14, s13
 618              		.loc 1 91 63 discriminator 2
 619 01f6 78EE677A 		vsub.f32	s15, s16, s15
 620              		.loc 1 91 12 discriminator 2
 621 01fa BE4B     		ldr	r3, .L25+20
 622 01fc C3ED007A 		vstr.32	s15, [r3]
  92:User/Software/Chassis.c ****     W_now = CHASSISMotor_get_data(WHEEL_FR).speed_rpm / 2.0f + CHASSISMotor_get_data(WHEEL_BL).spee
 623              		.loc 1 92 13
 624 0200 07F51A73 		add	r3, r7, #616
 625 0204 A3F5B473 		sub	r3, r3, #360
 626 0208 0021     		movs	r1, #0
 627 020a 1846     		mov	r0, r3
 628 020c FFF7FEFF 		bl	DJIMotor_get_data
 629              		.loc 1 92 44 discriminator 1
 630 0210 07F51A73 		add	r3, r7, #616
 631 0214 A3F5B473 		sub	r3, r3, #360
 632 0218 B3F90630 		ldrsh	r3, [r3, #6]
 633              		.loc 1 92 55 discriminator 1
 634 021c 07EE903A 		vmov	s15, r3	@ int
 635 0220 F8EEE77A 		vcvt.f32.s32	s15, s15
 636 0224 B0EE007A 		vmov.f32	s14, #2.0e+0
 637 0228 87EE878A 		vdiv.f32	s16, s15, s14
 638              		.loc 1 92 64 discriminator 1
 639 022c 07F51A73 		add	r3, r7, #616
 640 0230 A3F59873 		sub	r3, r3, #304
 641 0234 0221     		movs	r1, #2
 642 0236 1846     		mov	r0, r3
 643 0238 FFF7FEFF 		bl	DJIMotor_get_data
 644              		.loc 1 92 95 discriminator 2
 645 023c 07F51A73 		add	r3, r7, #616
 646 0240 A3F59873 		sub	r3, r3, #304
 647 0244 B3F90630 		ldrsh	r3, [r3, #6]
 648              		.loc 1 92 106 discriminator 2
 649 0248 07EE903A 		vmov	s15, r3	@ int
 650 024c B8EEE77A 		vcvt.f32.s32	s14, s15
 651 0250 F0EE006A 		vmov.f32	s13, #2.0e+0
 652 0254 C7EE267A 		vdiv.f32	s15, s14, s13
 653              		.loc 1 92 62 discriminator 2
 654 0258 78EE277A 		vadd.f32	s15, s16, s15
 655              		.loc 1 92 11 discriminator 2
 656 025c A64B     		ldr	r3, .L25+24
 657 025e C3ED007A 		vstr.32	s15, [r3]
  93:User/Software/Chassis.c **** 
  94:User/Software/Chassis.c ****     /*电流计算*/
  95:User/Software/Chassis.c ****     float current[4] = {0};
 658              		.loc 1 95 11
 659 0262 07F51A73 		add	r3, r7, #616
 660 0266 A3F51673 		sub	r3, r3, #600
 661 026a 1A46     		mov	r2, r3
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 14


 662 026c 0023     		movs	r3, #0
 663 026e 1360     		str	r3, [r2]
 664 0270 5360     		str	r3, [r2, #4]
 665 0272 9360     		str	r3, [r2, #8]
 666 0274 D360     		str	r3, [r2, #12]
  96:User/Software/Chassis.c ****     current[1] = pid_cal(&chassis_speed_pid_FR, (CHASSISMotor_get_data(WHEEL_FR).speed_rpm) / 19.0f
 667              		.loc 1 96 50
 668 0276 07F5B873 		add	r3, r7, #368
 669 027a 0021     		movs	r1, #0
 670 027c 1846     		mov	r0, r3
 671 027e FFF7FEFF 		bl	DJIMotor_get_data
 672              		.loc 1 96 81 discriminator 1
 673 0282 B7F97631 		ldrsh	r3, [r7, #374]
 674              		.loc 1 96 93 discriminator 1
 675 0286 07EE903A 		vmov	s15, r3	@ int
 676 028a B8EEE77A 		vcvt.f32.s32	s14, s15
 677 028e F3EE036A 		vmov.f32	s13, #1.9e+1
 678 0292 C7EE267A 		vdiv.f32	s15, s14, s13
 679 0296 B7EEE77A 		vcvt.f64.f32	d7, s15
 680              		.loc 1 96 101 discriminator 1
 681 029a 9FED916B 		vldr.64	d6, .L25
 682 029e 27EE067B 		vmul.f64	d7, d7, d6
 683              		.loc 1 96 115 discriminator 1
 684 02a2 9FED916B 		vldr.64	d6, .L25+8
 685 02a6 27EE067B 		vmul.f64	d7, d7, d6
 686              		.loc 1 96 18 discriminator 1
 687 02aa F7EEC77B 		vcvt.f32.f64	s15, d7
 688 02ae D7ED970A 		vldr.32	s1, [r7, #604]
 689 02b2 B0EE670A 		vmov.f32	s0, s15
 690 02b6 9148     		ldr	r0, .L25+28
 691 02b8 FFF7FEFF 		bl	pid_cal
 692 02bc F0EE407A 		vmov.f32	s15, s0
 693              		.loc 1 96 16 discriminator 2
 694 02c0 07F51A73 		add	r3, r7, #616
 695 02c4 A3F51673 		sub	r3, r3, #600
 696 02c8 C3ED017A 		vstr.32	s15, [r3, #4]
  97:User/Software/Chassis.c ****     current[3] = pid_cal(&chassis_speed_pid_BR, (CHASSISMotor_get_data(WHEEL_BR).speed_rpm) / 19.0f
 697              		.loc 1 97 50
 698 02cc 07F5D473 		add	r3, r7, #424
 699 02d0 0321     		movs	r1, #3
 700 02d2 1846     		mov	r0, r3
 701 02d4 FFF7FEFF 		bl	DJIMotor_get_data
 702              		.loc 1 97 81 discriminator 1
 703 02d8 B7F9AE31 		ldrsh	r3, [r7, #430]
 704              		.loc 1 97 93 discriminator 1
 705 02dc 07EE903A 		vmov	s15, r3	@ int
 706 02e0 B8EEE77A 		vcvt.f32.s32	s14, s15
 707 02e4 F3EE036A 		vmov.f32	s13, #1.9e+1
 708 02e8 C7EE267A 		vdiv.f32	s15, s14, s13
 709 02ec B7EEE77A 		vcvt.f64.f32	d7, s15
 710              		.loc 1 97 101 discriminator 1
 711 02f0 9FED7B6B 		vldr.64	d6, .L25
 712 02f4 27EE067B 		vmul.f64	d7, d7, d6
 713              		.loc 1 97 115 discriminator 1
 714 02f8 9FED7B6B 		vldr.64	d6, .L25+8
 715 02fc 27EE067B 		vmul.f64	d7, d7, d6
 716              		.loc 1 97 18 discriminator 1
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 15


 717 0300 F7EEC77B 		vcvt.f32.f64	s15, d7
 718 0304 D7ED940A 		vldr.32	s1, [r7, #592]
 719 0308 B0EE670A 		vmov.f32	s0, s15
 720 030c 7C48     		ldr	r0, .L25+32
 721 030e FFF7FEFF 		bl	pid_cal
 722 0312 F0EE407A 		vmov.f32	s15, s0
 723              		.loc 1 97 16 discriminator 2
 724 0316 07F51A73 		add	r3, r7, #616
 725 031a A3F51673 		sub	r3, r3, #600
 726 031e C3ED037A 		vstr.32	s15, [r3, #12]
  98:User/Software/Chassis.c ****     current[0] = pid_cal(&chassis_speed_pid_FL, (CHASSISMotor_get_data(WHEEL_FL).speed_rpm) / 19.0f
 727              		.loc 1 98 50
 728 0322 07F5F073 		add	r3, r7, #480
 729 0326 0121     		movs	r1, #1
 730 0328 1846     		mov	r0, r3
 731 032a FFF7FEFF 		bl	DJIMotor_get_data
 732              		.loc 1 98 81 discriminator 1
 733 032e B7F9E631 		ldrsh	r3, [r7, #486]
 734              		.loc 1 98 93 discriminator 1
 735 0332 07EE903A 		vmov	s15, r3	@ int
 736 0336 B8EEE77A 		vcvt.f32.s32	s14, s15
 737 033a F3EE036A 		vmov.f32	s13, #1.9e+1
 738 033e C7EE267A 		vdiv.f32	s15, s14, s13
 739 0342 B7EEE77A 		vcvt.f64.f32	d7, s15
 740              		.loc 1 98 101 discriminator 1
 741 0346 9FED666B 		vldr.64	d6, .L25
 742 034a 27EE067B 		vmul.f64	d7, d7, d6
 743              		.loc 1 98 115 discriminator 1
 744 034e 9FED666B 		vldr.64	d6, .L25+8
 745 0352 27EE067B 		vmul.f64	d7, d7, d6
 746              		.loc 1 98 18 discriminator 1
 747 0356 F7EEC77B 		vcvt.f32.f64	s15, d7
 748 035a D7ED960A 		vldr.32	s1, [r7, #600]
 749 035e B0EE670A 		vmov.f32	s0, s15
 750 0362 6848     		ldr	r0, .L25+36
 751 0364 FFF7FEFF 		bl	pid_cal
 752 0368 F0EE407A 		vmov.f32	s15, s0
 753              		.loc 1 98 16 discriminator 2
 754 036c 07F51A73 		add	r3, r7, #616
 755 0370 A3F51673 		sub	r3, r3, #600
 756 0374 C3ED007A 		vstr.32	s15, [r3]
  99:User/Software/Chassis.c ****     current[2] = pid_cal(&chassis_speed_pid_BL, (CHASSISMotor_get_data(WHEEL_BL).speed_rpm) / 19.0f
 757              		.loc 1 99 50
 758 0378 07F50673 		add	r3, r7, #536
 759 037c 0221     		movs	r1, #2
 760 037e 1846     		mov	r0, r3
 761 0380 FFF7FEFF 		bl	DJIMotor_get_data
 762              		.loc 1 99 81 discriminator 1
 763 0384 B7F91E32 		ldrsh	r3, [r7, #542]
 764              		.loc 1 99 93 discriminator 1
 765 0388 07EE903A 		vmov	s15, r3	@ int
 766 038c B8EEE77A 		vcvt.f32.s32	s14, s15
 767 0390 F3EE036A 		vmov.f32	s13, #1.9e+1
 768 0394 C7EE267A 		vdiv.f32	s15, s14, s13
 769 0398 B7EEE77A 		vcvt.f64.f32	d7, s15
 770              		.loc 1 99 101 discriminator 1
 771 039c 9FED506B 		vldr.64	d6, .L25
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 16


 772 03a0 27EE067B 		vmul.f64	d7, d7, d6
 773              		.loc 1 99 115 discriminator 1
 774 03a4 9FED506B 		vldr.64	d6, .L25+8
 775 03a8 27EE067B 		vmul.f64	d7, d7, d6
 776              		.loc 1 99 18 discriminator 1
 777 03ac F7EEC77B 		vcvt.f32.f64	s15, d7
 778 03b0 D7ED950A 		vldr.32	s1, [r7, #596]
 779 03b4 B0EE670A 		vmov.f32	s0, s15
 780 03b8 5348     		ldr	r0, .L25+40
 781 03ba FFF7FEFF 		bl	pid_cal
 782 03be F0EE407A 		vmov.f32	s15, s0
 783              		.loc 1 99 16 discriminator 2
 784 03c2 07F51A73 		add	r3, r7, #616
 785 03c6 A3F51673 		sub	r3, r3, #600
 786 03ca C3ED027A 		vstr.32	s15, [r3, #8]
 787              	.LBB2:
 100:User/Software/Chassis.c ****     for (int i = 0; i < 4; i++)
 788              		.loc 1 100 14
 789 03ce 0023     		movs	r3, #0
 790 03d0 C7F86432 		str	r3, [r7, #612]
 791              		.loc 1 100 5
 792 03d4 3AE0     		b	.L17
 793              	.L22:
 101:User/Software/Chassis.c ****     {
 102:User/Software/Chassis.c ****         if (current[i] >= (CHASSISMOTOR_MAX_CURRENT - 1))
 794              		.loc 1 102 20
 795 03d6 07F51A73 		add	r3, r7, #616
 796 03da A3F51672 		sub	r2, r3, #600
 797 03de D7F86432 		ldr	r3, [r7, #612]
 798 03e2 9B00     		lsls	r3, r3, #2
 799 03e4 1344     		add	r3, r3, r2
 800 03e6 D3ED007A 		vldr.32	s15, [r3]
 801              		.loc 1 102 12
 802 03ea 9FED487A 		vldr.32	s14, .L25+44
 803 03ee F4EEC77A 		vcmpe.f32	s15, s14
 804 03f2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 805 03f6 09DB     		blt	.L18
 103:User/Software/Chassis.c ****             current[i] = CHASSISMOTOR_MAX_CURRENT - 1;
 806              		.loc 1 103 24
 807 03f8 07F51A73 		add	r3, r7, #616
 808 03fc A3F51672 		sub	r2, r3, #600
 809 0400 D7F86432 		ldr	r3, [r7, #612]
 810 0404 9B00     		lsls	r3, r3, #2
 811 0406 1344     		add	r3, r3, r2
 812 0408 414A     		ldr	r2, .L25+48
 813 040a 1A60     		str	r2, [r3]	@ float
 814              	.L18:
 104:User/Software/Chassis.c ****         if (current[i] <= -(CHASSISMOTOR_MAX_CURRENT - 1))
 815              		.loc 1 104 20
 816 040c 07F51A73 		add	r3, r7, #616
 817 0410 A3F51672 		sub	r2, r3, #600
 818 0414 D7F86432 		ldr	r3, [r7, #612]
 819 0418 9B00     		lsls	r3, r3, #2
 820 041a 1344     		add	r3, r3, r2
 821 041c D3ED007A 		vldr.32	s15, [r3]
 822              		.loc 1 104 12
 823 0420 9FED3C7A 		vldr.32	s14, .L25+52
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 17


 824 0424 F4EEC77A 		vcmpe.f32	s15, s14
 825 0428 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 826 042c 09D8     		bhi	.L20
 105:User/Software/Chassis.c ****             current[i] = -(CHASSISMOTOR_MAX_CURRENT - 1);
 827              		.loc 1 105 24
 828 042e 07F51A73 		add	r3, r7, #616
 829 0432 A3F51672 		sub	r2, r3, #600
 830 0436 D7F86432 		ldr	r3, [r7, #612]
 831 043a 9B00     		lsls	r3, r3, #2
 832 043c 1344     		add	r3, r3, r2
 833 043e 364A     		ldr	r2, .L25+56
 834 0440 1A60     		str	r2, [r3]	@ float
 835              	.L20:
 100:User/Software/Chassis.c ****     {
 836              		.loc 1 100 29 discriminator 2
 837 0442 D7F86432 		ldr	r3, [r7, #612]
 838 0446 0133     		adds	r3, r3, #1
 839 0448 C7F86432 		str	r3, [r7, #612]
 840              	.L17:
 100:User/Software/Chassis.c ****     {
 841              		.loc 1 100 23 discriminator 1
 842 044c D7F86432 		ldr	r3, [r7, #612]
 843 0450 032B     		cmp	r3, #3
 844 0452 C0DD     		ble	.L22
 845              	.LBE2:
 106:User/Software/Chassis.c ****     }
 107:User/Software/Chassis.c **** 
 108:User/Software/Chassis.c ****     /*电流设置*/
 109:User/Software/Chassis.c ****     CHASSISMotor_set(current[0], WHEEL_FL);
 846              		.loc 1 109 29
 847 0454 07F51A73 		add	r3, r7, #616
 848 0458 A3F51673 		sub	r3, r3, #600
 849 045c D3ED007A 		vldr.32	s15, [r3]
 850              		.loc 1 109 5
 851 0460 FDEEE77A 		vcvt.s32.f32	s15, s15
 852 0464 17EE903A 		vmov	r3, s15	@ int
 853 0468 1BB2     		sxth	r3, r3
 854 046a 0121     		movs	r1, #1
 855 046c 1846     		mov	r0, r3
 856 046e FFF7FEFF 		bl	DJIMotor_set
 110:User/Software/Chassis.c ****     CHASSISMotor_set(current[1], WHEEL_FR);
 857              		.loc 1 110 29
 858 0472 07F51A73 		add	r3, r7, #616
 859 0476 A3F51673 		sub	r3, r3, #600
 860 047a D3ED017A 		vldr.32	s15, [r3, #4]
 861              		.loc 1 110 5
 862 047e FDEEE77A 		vcvt.s32.f32	s15, s15
 863 0482 17EE903A 		vmov	r3, s15	@ int
 864 0486 1BB2     		sxth	r3, r3
 865 0488 0021     		movs	r1, #0
 866 048a 1846     		mov	r0, r3
 867 048c FFF7FEFF 		bl	DJIMotor_set
 111:User/Software/Chassis.c ****     CHASSISMotor_set(current[2], WHEEL_BL);
 868              		.loc 1 111 29
 869 0490 07F51A73 		add	r3, r7, #616
 870 0494 A3F51673 		sub	r3, r3, #600
 871 0498 D3ED027A 		vldr.32	s15, [r3, #8]
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 18


 872              		.loc 1 111 5
 873 049c FDEEE77A 		vcvt.s32.f32	s15, s15
 874 04a0 17EE903A 		vmov	r3, s15	@ int
 875 04a4 1BB2     		sxth	r3, r3
 876 04a6 0221     		movs	r1, #2
 877 04a8 1846     		mov	r0, r3
 878 04aa FFF7FEFF 		bl	DJIMotor_set
 112:User/Software/Chassis.c ****     CHASSISMotor_set(current[3], WHEEL_BR);
 879              		.loc 1 112 29
 880 04ae 07F51A73 		add	r3, r7, #616
 881 04b2 A3F51673 		sub	r3, r3, #600
 882 04b6 D3ED037A 		vldr.32	s15, [r3, #12]
 883              		.loc 1 112 5
 884 04ba FDEEE77A 		vcvt.s32.f32	s15, s15
 885 04be 17EE903A 		vmov	r3, s15	@ int
 886 04c2 1BB2     		sxth	r3, r3
 887 04c4 0321     		movs	r1, #3
 888 04c6 1846     		mov	r0, r3
 889 04c8 FFF7FEFF 		bl	DJIMotor_set
 113:User/Software/Chassis.c **** }
 890              		.loc 1 113 1
 891 04cc 00BF     		nop
 892 04ce 07F51A77 		add	r7, r7, #616
 893              	.LCFI28:
 894              		.cfi_def_cfa_offset 16
 895 04d2 BD46     		mov	sp, r7
 896              	.LCFI29:
 897              		.cfi_def_cfa_register 13
 898              		@ sp needed
 899 04d4 BDEC028B 		vldm	sp!, {d8}
 900              	.LCFI30:
 901              		.cfi_restore 80
 902              		.cfi_restore 81
 903              		.cfi_def_cfa_offset 8
 904 04d8 80BD     		pop	{r7, pc}
 905              	.L26:
 906 04da 00BFAFF3 		.align	3
 906      0080
 907              	.L25:
 908 04e0 9A5AF8F2 		.word	-218604902
 909 04e4 E9CEBA3F 		.word	1069207273
 910 04e8 83C0CAA1 		.word	-1580547965
 911 04ec 45B6B33F 		.word	1068742213
 912 04f0 00000000 		.word	Vx_now
 913 04f4 00000000 		.word	Vy_now
 914 04f8 00000000 		.word	W_now
 915 04fc 00000000 		.word	chassis_speed_pid_FR
 916 0500 00000000 		.word	chassis_speed_pid_BR
 917 0504 00000000 		.word	chassis_speed_pid_FL
 918 0508 00000000 		.word	chassis_speed_pid_BL
 919 050c 00FC7F46 		.word	1182792704
 920 0510 00FC7F46 		.word	1182792704
 921 0514 00FC7FC6 		.word	-964690944
 922 0518 00FC7FC6 		.word	-964690944
 923              		.cfi_endproc
 924              	.LFE152:
 926              		.section	.text.Chassis_move,"ax",%progbits
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 19


 927              		.align	1
 928              		.global	Chassis_move
 929              		.syntax unified
 930              		.thumb
 931              		.thumb_func
 933              	Chassis_move:
 934              	.LFB153:
 114:User/Software/Chassis.c **** 
 115:User/Software/Chassis.c **** /**
 116:User/Software/Chassis.c ****  * @brief 底盘移动解算
 117:User/Software/Chassis.c ****  *
 118:User/Software/Chassis.c ****  */
 119:User/Software/Chassis.c **** void Chassis_move()
 120:User/Software/Chassis.c **** {
 935              		.loc 1 120 1
 936              		.cfi_startproc
 937              		@ args = 0, pretend = 0, frame = 16
 938              		@ frame_needed = 1, uses_anonymous_args = 0
 939 0000 80B5     		push	{r7, lr}
 940              	.LCFI31:
 941              		.cfi_def_cfa_offset 8
 942              		.cfi_offset 7, -8
 943              		.cfi_offset 14, -4
 944 0002 84B0     		sub	sp, sp, #16
 945              	.LCFI32:
 946              		.cfi_def_cfa_offset 24
 947 0004 00AF     		add	r7, sp, #0
 948              	.LCFI33:
 949              		.cfi_def_cfa_register 7
 121:User/Software/Chassis.c ****     float X_speed, Y_speed, R_speed;
 122:User/Software/Chassis.c **** 
 123:User/Software/Chassis.c ****     /*运动分解*/
 124:User/Software/Chassis.c ****     X_speed = Global.Chssis.input.x;
 950              		.loc 1 124 13
 951 0006 234B     		ldr	r3, .L30
 952 0008 5B68     		ldr	r3, [r3, #4]	@ float
 953 000a BB60     		str	r3, [r7, #8]	@ float
 125:User/Software/Chassis.c ****     Y_speed = Global.Chssis.input.y;
 954              		.loc 1 125 13
 955 000c 214B     		ldr	r3, .L30
 956 000e 9B68     		ldr	r3, [r3, #8]	@ float
 957 0010 7B60     		str	r3, [r7, #4]	@ float
 126:User/Software/Chassis.c ****     R_speed = Global.Chssis.input.r;
 958              		.loc 1 126 13
 959 0012 204B     		ldr	r3, .L30
 960 0014 DB68     		ldr	r3, [r3, #12]	@ float
 961 0016 FB60     		str	r3, [r7, #12]	@ float
 127:User/Software/Chassis.c **** 
 128:User/Software/Chassis.c ****     // Chassisui_change(relative_angle);//UI
 129:User/Software/Chassis.c **** 
 130:User/Software/Chassis.c ****     /*模式x*/
 131:User/Software/Chassis.c ****     switch (Global.Chssis.mode)
 962              		.loc 1 131 26
 963 0018 1E4B     		ldr	r3, .L30
 964 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 965              		.loc 1 131 5
 966 001c 002B     		cmp	r3, #0
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 20


 967 001e 2CD1     		bne	.L28
 132:User/Software/Chassis.c ****     {
 133:User/Software/Chassis.c ****     case FLOW:
 134:User/Software/Chassis.c ****         if (SBUS_CH.CH4 != 1024)
 968              		.loc 1 134 20
 969 0020 1D4B     		ldr	r3, .L30+4
 970 0022 DB88     		ldrh	r3, [r3, #6]
 971              		.loc 1 134 12
 972 0024 B3F5806F 		cmp	r3, #1024
 973 0028 13D0     		beq	.L29
 135:User/Software/Chassis.c ****         {
 136:User/Software/Chassis.c ****             AHRS_yaw_set = IMU_data.AHRS.yaw - (SBUS_CH.CH4 - 1024) / 1000.0f;
 974              		.loc 1 136 41
 975 002a 1C4B     		ldr	r3, .L30+8
 976 002c 93ED297A 		vldr.32	s14, [r3, #164]
 977              		.loc 1 136 56
 978 0030 194B     		ldr	r3, .L30+4
 979 0032 DB88     		ldrh	r3, [r3, #6]
 980              		.loc 1 136 61
 981 0034 A3F58063 		sub	r3, r3, #1024
 982              		.loc 1 136 69
 983 0038 07EE903A 		vmov	s15, r3	@ int
 984 003c F8EEE76A 		vcvt.f32.s32	s13, s15
 985 0040 9FED176A 		vldr.32	s12, .L30+12
 986 0044 C6EE867A 		vdiv.f32	s15, s13, s12
 987              		.loc 1 136 46
 988 0048 77EE677A 		vsub.f32	s15, s14, s15
 989              		.loc 1 136 26
 990 004c 154B     		ldr	r3, .L30+16
 991 004e C3ED007A 		vstr.32	s15, [r3]
 992              	.L29:
 137:User/Software/Chassis.c ****         }
 138:User/Software/Chassis.c ****         // pid计算
 139:User/Software/Chassis.c ****         R_speed = -pid_cal(&yaw_pid, IMU_data.AHRS.yaw, AHRS_yaw_set);
 993              		.loc 1 139 20
 994 0052 124B     		ldr	r3, .L30+8
 995 0054 D3ED297A 		vldr.32	s15, [r3, #164]
 996 0058 124B     		ldr	r3, .L30+16
 997 005a 93ED007A 		vldr.32	s14, [r3]
 998 005e F0EE470A 		vmov.f32	s1, s14
 999 0062 B0EE670A 		vmov.f32	s0, s15
 1000 0066 1048     		ldr	r0, .L30+20
 1001 0068 FFF7FEFF 		bl	pid_cal
 1002 006c F0EE407A 		vmov.f32	s15, s0
 1003              		.loc 1 139 17 discriminator 1
 1004 0070 F1EE677A 		vneg.f32	s15, s15
 1005 0074 C7ED037A 		vstr.32	s15, [r7, #12]
 140:User/Software/Chassis.c ****         break;
 1006              		.loc 1 140 9
 1007 0078 00BF     		nop
 1008              	.L28:
 141:User/Software/Chassis.c ****     }
 142:User/Software/Chassis.c ****   
 143:User/Software/Chassis.c ****     /*底盘电机控制*/
 144:User/Software/Chassis.c ****     ChassisMotor_Control(X_speed, Y_speed, R_speed);
 1009              		.loc 1 144 5
 1010 007a 97ED031A 		vldr.32	s2, [r7, #12]
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 21


 1011 007e D7ED010A 		vldr.32	s1, [r7, #4]
 1012 0082 97ED020A 		vldr.32	s0, [r7, #8]
 1013 0086 FFF7FEFF 		bl	ChassisMotor_Control
 145:User/Software/Chassis.c **** }...
 1014              		.loc 1 145 1
 1015 008a 00BF     		nop
 1016 008c 1037     		adds	r7, r7, #16
 1017              	.LCFI34:
 1018              		.cfi_def_cfa_offset 8
 1019 008e BD46     		mov	sp, r7
 1020              	.LCFI35:
 1021              		.cfi_def_cfa_register 13
 1022              		@ sp needed
 1023 0090 80BD     		pop	{r7, pc}
 1024              	.L31:
 1025 0092 00BF     		.align	2
 1026              	.L30:
 1027 0094 00000000 		.word	Global
 1028 0098 00000000 		.word	SBUS_CH
 1029 009c 00000000 		.word	IMU_data
 1030 00a0 00007A44 		.word	1148846080
 1031 00a4 00000000 		.word	AHRS_yaw_set
 1032 00a8 00000000 		.word	yaw_pid
 1033              		.cfi_endproc
 1034              	.LFE153:
 1036              		.text
 1037              	.Letext0:
 1038              		.file 2 "C:/msys64/mingw64/arm-none-eabi/include/machine/_default_types.h"
 1039              		.file 3 "C:/msys64/mingw64/arm-none-eabi/include/sys/_stdint.h"
 1040              		.file 4 "User/Hardware/motor.h"
 1041              		.file 5 "User/Software/Global_status.h"
 1042              		.file 6 "Core/Inc/struct_typedef.h"
 1043              		.file 7 "Algorithm/Kalman_Filter_c.h"
 1044              		.file 8 "User/Hardware/IMU_updata.h"
 1045              		.file 9 "Algorithm/pid.h"
 1046              		.file 10 "Algorithm/ramp_generator.h"
 1047              		.file 11 "User/Hardware/DT7.h"
 1048              		.file 12 "User/Software/Gimbal.h"
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 22


DEFINED SYMBOLS
                            *ABS*:00000000 Chassis.c
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:24     .bss.chassis_speed_pid_FL:00000000 chassis_speed_pid_FL
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:21     .bss.chassis_speed_pid_FL:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:31     .bss.chassis_speed_pid_FR:00000000 chassis_speed_pid_FR
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:28     .bss.chassis_speed_pid_FR:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:38     .bss.chassis_speed_pid_BL:00000000 chassis_speed_pid_BL
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:35     .bss.chassis_speed_pid_BL:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:45     .bss.chassis_speed_pid_BR:00000000 chassis_speed_pid_BR
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:42     .bss.chassis_speed_pid_BR:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:52     .bss.Vx_ramp:00000000 Vx_ramp
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:49     .bss.Vx_ramp:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:59     .bss.Vy_ramp:00000000 Vy_ramp
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:56     .bss.Vy_ramp:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:66     .bss.AHRS_yaw_set:00000000 AHRS_yaw_set
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:63     .bss.AHRS_yaw_set:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:73     .bss.yaw_pid:00000000 yaw_pid
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:70     .bss.yaw_pid:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:76     .text.Chassis_init:00000000 $t
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:82     .text.Chassis_init:00000000 Chassis_init
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:158    .text.Chassis_init:000000ac $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:173    .text.Chassis_set_x:00000000 $t
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:179    .text.Chassis_set_x:00000000 Chassis_set_x
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:218    .text.Chassis_set_x:00000024 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:224    .text.Chassis_set_y:00000000 $t
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:230    .text.Chassis_set_y:00000000 Chassis_set_y
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:269    .text.Chassis_set_y:0000001c $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:274    .text.Chassis_set_r:00000000 $t
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:280    .text.Chassis_set_r:00000000 Chassis_set_r
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:319    .text.Chassis_set_r:0000001c $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:324    .text.Chassis_set_accel:00000000 $t
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:330    .text.Chassis_set_accel:00000000 Chassis_set_accel
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:369    .text.Chassis_set_accel:00000028 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:379    .bss.Vx_now:00000000 Vx_now
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:376    .bss.Vx_now:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:386    .bss.Vy_now:00000000 Vy_now
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:383    .bss.Vy_now:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:393    .bss.W_now:00000000 W_now
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:390    .bss.W_now:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:400    .bss.T_FR:00000000 T_FR
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:397    .bss.T_FR:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:407    .bss.T_FL:00000000 T_FL
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:404    .bss.T_FL:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:414    .bss.T_BR:00000000 T_BR
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:411    .bss.T_BR:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:421    .bss.T_BL:00000000 T_BL
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:418    .bss.T_BL:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:428    .bss.K:00000000 K
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:425    .bss.K:00000000 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:431    .text.ChassisMotor_Control:00000000 $t
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:437    .text.ChassisMotor_Control:00000000 ChassisMotor_Control
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:908    .text.ChassisMotor_Control:000004e0 $d
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:927    .text.Chassis_move:00000000 $t
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:933    .text.Chassis_move:00000000 Chassis_move
C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s:1027   .text.Chassis_move:00000094 $d

UNDEFINED SYMBOLS
ARM GAS  C:\Users\fffff\AppData\Local\Temp\ccw0wGNU.s 			page 23


DJIMotor_init
pid_set
RampGenerator_SetTarget
Global
RampGenerator_SetAccel
DJIMotor_get_data
pid_cal
DJIMotor_set
SBUS_CH
IMU_data
