ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"Chassis.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "User/Software/Chassis.c"
  19              		.global	chassis_speed_pid_FL
  20              		.section	.bss.chassis_speed_pid_FL,"aw",%nobits
  21              		.align	2
  24              	chassis_speed_pid_FL:
  25 0000 00000000 		.space	52
  25      00000000 
  25      00000000 
  25      00000000 
  25      00000000 
  26              		.global	chassis_speed_pid_FR
  27              		.section	.bss.chassis_speed_pid_FR,"aw",%nobits
  28              		.align	2
  31              	chassis_speed_pid_FR:
  32 0000 00000000 		.space	52
  32      00000000 
  32      00000000 
  32      00000000 
  32      00000000 
  33              		.global	chassis_speed_pid_BL
  34              		.section	.bss.chassis_speed_pid_BL,"aw",%nobits
  35              		.align	2
  38              	chassis_speed_pid_BL:
  39 0000 00000000 		.space	52
  39      00000000 
  39      00000000 
  39      00000000 
  39      00000000 
  40              		.global	chassis_speed_pid_BR
  41              		.section	.bss.chassis_speed_pid_BR,"aw",%nobits
  42              		.align	2
  45              	chassis_speed_pid_BR:
  46 0000 00000000 		.space	52
  46      00000000 
  46      00000000 
  46      00000000 
  46      00000000 
  47              		.global	Vx_ramp
  48              		.section	.bss.Vx_ramp,"aw",%nobits
  49              		.align	2
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 2


  52              	Vx_ramp:
  53 0000 00000000 		.space	28
  53      00000000 
  53      00000000 
  53      00000000 
  53      00000000 
  54              		.global	Vy_ramp
  55              		.section	.bss.Vy_ramp,"aw",%nobits
  56              		.align	2
  59              	Vy_ramp:
  60 0000 00000000 		.space	28
  60      00000000 
  60      00000000 
  60      00000000 
  60      00000000 
  61              		.global	AHRS_yaw_set
  62              		.section	.bss.AHRS_yaw_set,"aw",%nobits
  63              		.align	2
  66              	AHRS_yaw_set:
  67 0000 00000000 		.space	4
  68              		.global	yaw_pid
  69              		.section	.bss.yaw_pid,"aw",%nobits
  70              		.align	2
  73              	yaw_pid:
  74 0000 00000000 		.space	52
  74      00000000 
  74      00000000 
  74      00000000 
  74      00000000 
  75              		.section	.text.Chassis_init,"ax",%progbits
  76              		.align	1
  77              		.global	Chassis_init
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	Chassis_init:
  83              	.LFB147:
   1:User/Software/Chassis.c **** #include "Chassis.h"
   2:User/Software/Chassis.c **** #include "Global_status.h"
   3:User/Software/Chassis.c **** #include "Gimbal.h"
   4:User/Software/Chassis.c **** #include "ui.h"
   5:User/Software/Chassis.c **** #include "IMU_updata.h"
   6:User/Software/Chassis.c **** #include "referee_system.h"
   7:User/Software/Chassis.c **** #include "supercup.h"
   8:User/Software/Chassis.c **** #include "stm32_time.h"
   9:User/Software/Chassis.c **** #include "remote_control.h"
  10:User/Software/Chassis.c **** #include "pid.h"
  11:User/Software/Chassis.c **** #include "ramp_generator.h"
  12:User/Software/Chassis.c **** #include "User_math.h"
  13:User/Software/Chassis.c **** 
  14:User/Software/Chassis.c **** pid_t chassis_speed_pid_FL, chassis_speed_pid_FR, chassis_speed_pid_BL, chassis_speed_pid_BR; // 轮
  15:User/Software/Chassis.c **** RampGenerator Vx_ramp, Vy_ramp;
  16:User/Software/Chassis.c **** extern pid_t yaw_auto_location_pid;
  17:User/Software/Chassis.c **** 
  18:User/Software/Chassis.c **** float AHRS_yaw_set = 0;
  19:User/Software/Chassis.c **** pid_t yaw_pid;
  20:User/Software/Chassis.c **** pid_t yaw_pid;
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 3


  21:User/Software/Chassis.c **** 
  22:User/Software/Chassis.c **** /**
  23:User/Software/Chassis.c ****  * @brief 底盘初始化
  24:User/Software/Chassis.c ****  *
  25:User/Software/Chassis.c ****  */
  26:User/Software/Chassis.c **** void Chassis_init()
  27:User/Software/Chassis.c **** {
  84              		.loc 1 27 1
  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 0
  87              		@ frame_needed = 1, uses_anonymous_args = 0
  88 0000 80B5     		push	{r7, lr}
  89              	.LCFI0:
  90              		.cfi_def_cfa_offset 8
  91              		.cfi_offset 7, -8
  92              		.cfi_offset 14, -4
  93 0002 00AF     		add	r7, sp, #0
  94              	.LCFI1:
  95              		.cfi_def_cfa_register 7
  28:User/Software/Chassis.c ****     /*电机初始化*/
  29:User/Software/Chassis.c ****     CHASSISMotor_init(M3508_P, WHEEL_FL);
  96              		.loc 1 29 5
  97 0004 0121     		movs	r1, #1
  98 0006 1320     		movs	r0, #19
  99 0008 FFF7FEFF 		bl	DJIMotor_init
  30:User/Software/Chassis.c ****     CHASSISMotor_init(M3508_P, WHEEL_FR);
 100              		.loc 1 30 5
 101 000c 0021     		movs	r1, #0
 102 000e 1320     		movs	r0, #19
 103 0010 FFF7FEFF 		bl	DJIMotor_init
  31:User/Software/Chassis.c ****     CHASSISMotor_init(M3508_P, WHEEL_BL);
 104              		.loc 1 31 5
 105 0014 0221     		movs	r1, #2
 106 0016 1320     		movs	r0, #19
 107 0018 FFF7FEFF 		bl	DJIMotor_init
  32:User/Software/Chassis.c ****     CHASSISMotor_init(M3508_P, WHEEL_BR);
 108              		.loc 1 32 5
 109 001c 0321     		movs	r1, #3
 110 001e 1320     		movs	r0, #19
 111 0020 FFF7FEFF 		bl	DJIMotor_init
  33:User/Software/Chassis.c **** 
  34:User/Software/Chassis.c ****     /*轮组电机PID速度环初始化*/
  35:User/Software/Chassis.c ****     pid_set(&chassis_speed_pid_FR, 9000, 0, 120, CHASSISMOTOR_MAX_CURRENT, 5000); // 16000 1000
 112              		.loc 1 35 5
 113 0024 9FED1A2A 		vldr.32	s4, .L2
 114 0028 DFED1A1A 		vldr.32	s3, .L2+4
 115 002c 9FED1A1A 		vldr.32	s2, .L2+8
 116 0030 DFED1A0A 		vldr.32	s1, .L2+12
 117 0034 9FED1A0A 		vldr.32	s0, .L2+16
 118 0038 1A48     		ldr	r0, .L2+20
 119 003a FFF7FEFF 		bl	pid_set
  36:User/Software/Chassis.c ****     pid_set(&chassis_speed_pid_FL, 9000, 0, 120, CHASSISMOTOR_MAX_CURRENT, 5000);
 120              		.loc 1 36 5
 121 003e 9FED142A 		vldr.32	s4, .L2
 122 0042 DFED141A 		vldr.32	s3, .L2+4
 123 0046 9FED141A 		vldr.32	s2, .L2+8
 124 004a DFED140A 		vldr.32	s1, .L2+12
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 4


 125 004e 9FED140A 		vldr.32	s0, .L2+16
 126 0052 1548     		ldr	r0, .L2+24
 127 0054 FFF7FEFF 		bl	pid_set
  37:User/Software/Chassis.c ****     pid_set(&chassis_speed_pid_BL, 9000, 0, 120, CHASSISMOTOR_MAX_CURRENT, 5000);
 128              		.loc 1 37 5
 129 0058 9FED0D2A 		vldr.32	s4, .L2
 130 005c DFED0D1A 		vldr.32	s3, .L2+4
 131 0060 9FED0D1A 		vldr.32	s2, .L2+8
 132 0064 DFED0D0A 		vldr.32	s1, .L2+12
 133 0068 9FED0D0A 		vldr.32	s0, .L2+16
 134 006c 0F48     		ldr	r0, .L2+28
 135 006e FFF7FEFF 		bl	pid_set
  38:User/Software/Chassis.c ****     pid_set(&chassis_speed_pid_BR, 9000, 0, 120, CHASSISMOTOR_MAX_CURRENT, 5000);
 136              		.loc 1 38 5
 137 0072 9FED072A 		vldr.32	s4, .L2
 138 0076 DFED071A 		vldr.32	s3, .L2+4
 139 007a 9FED071A 		vldr.32	s2, .L2+8
 140 007e DFED070A 		vldr.32	s1, .L2+12
 141 0082 9FED070A 		vldr.32	s0, .L2+16
 142 0086 0A48     		ldr	r0, .L2+32
 143 0088 FFF7FEFF 		bl	pid_set
  39:User/Software/Chassis.c **** }
 144              		.loc 1 39 1
 145 008c 00BF     		nop
 146 008e 80BD     		pop	{r7, pc}
 147              	.L3:
 148              		.align	2
 149              	.L2:
 150 0090 00409C45 		.word	1167867904
 151 0094 00008046 		.word	1182793728
 152 0098 0000F042 		.word	1123024896
 153 009c 00000000 		.word	0
 154 00a0 00A00C46 		.word	1175232512
 155 00a4 00000000 		.word	chassis_speed_pid_FR
 156 00a8 00000000 		.word	chassis_speed_pid_FL
 157 00ac 00000000 		.word	chassis_speed_pid_BL
 158 00b0 00000000 		.word	chassis_speed_pid_BR
 159              		.cfi_endproc
 160              	.LFE147:
 162              		.section	.text.Chassis_set_x,"ax",%progbits
 163              		.align	1
 164              		.global	Chassis_set_x
 165              		.syntax unified
 166              		.thumb
 167              		.thumb_func
 169              	Chassis_set_x:
 170              	.LFB148:
  40:User/Software/Chassis.c **** 
  41:User/Software/Chassis.c **** /**
  42:User/Software/Chassis.c ****  * @brief 设置底盘移动速度
  43:User/Software/Chassis.c ****  *
  44:User/Software/Chassis.c ****  */
  45:User/Software/Chassis.c **** void Chassis_set_x(float x)
  46:User/Software/Chassis.c **** {
 171              		.loc 1 46 1
 172              		.cfi_startproc
 173              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 5


 174              		@ frame_needed = 1, uses_anonymous_args = 0
 175              		@ link register save eliminated.
 176 0000 80B4     		push	{r7}
 177              	.LCFI2:
 178              		.cfi_def_cfa_offset 4
 179              		.cfi_offset 7, -4
 180 0002 83B0     		sub	sp, sp, #12
 181              	.LCFI3:
 182              		.cfi_def_cfa_offset 16
 183 0004 00AF     		add	r7, sp, #0
 184              	.LCFI4:
 185              		.cfi_def_cfa_register 7
 186 0006 87ED010A 		vstr.32	s0, [r7, #4]
  47:User/Software/Chassis.c ****     // RampGenerator_SetTarget(&Vx_ramp, x);
  48:User/Software/Chassis.c ****     Global.Chssis.input.x = x;
 187              		.loc 1 48 27
 188 000a 044A     		ldr	r2, .L5
 189 000c 7B68     		ldr	r3, [r7, #4]	@ float
 190 000e 5360     		str	r3, [r2, #4]	@ float
  49:User/Software/Chassis.c **** }
 191              		.loc 1 49 1
 192 0010 00BF     		nop
 193 0012 0C37     		adds	r7, r7, #12
 194              	.LCFI5:
 195              		.cfi_def_cfa_offset 4
 196 0014 BD46     		mov	sp, r7
 197              	.LCFI6:
 198              		.cfi_def_cfa_register 13
 199              		@ sp needed
 200 0016 5DF8047B 		ldr	r7, [sp], #4
 201              	.LCFI7:
 202              		.cfi_restore 7
 203              		.cfi_def_cfa_offset 0
 204 001a 7047     		bx	lr
 205              	.L6:
 206              		.align	2
 207              	.L5:
 208 001c 00000000 		.word	Global
 209              		.cfi_endproc
 210              	.LFE148:
 212              		.section	.text.Chassis_set_y,"ax",%progbits
 213              		.align	1
 214              		.global	Chassis_set_y
 215              		.syntax unified
 216              		.thumb
 217              		.thumb_func
 219              	Chassis_set_y:
 220              	.LFB149:
  50:User/Software/Chassis.c **** void Chassis_set_y(float y)
  51:User/Software/Chassis.c **** {
 221              		.loc 1 51 1
 222              		.cfi_startproc
 223              		@ args = 0, pretend = 0, frame = 8
 224              		@ frame_needed = 1, uses_anonymous_args = 0
 225              		@ link register save eliminated.
 226 0000 80B4     		push	{r7}
 227              	.LCFI8:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 6


 228              		.cfi_def_cfa_offset 4
 229              		.cfi_offset 7, -4
 230 0002 83B0     		sub	sp, sp, #12
 231              	.LCFI9:
 232              		.cfi_def_cfa_offset 16
 233 0004 00AF     		add	r7, sp, #0
 234              	.LCFI10:
 235              		.cfi_def_cfa_register 7
 236 0006 87ED010A 		vstr.32	s0, [r7, #4]
  52:User/Software/Chassis.c ****     // RampGenerator_SetTarget(&Vy_ramp, y);
  53:User/Software/Chassis.c ****     Global.Chssis.input.y = y;
 237              		.loc 1 53 27
 238 000a 044A     		ldr	r2, .L8
 239 000c 7B68     		ldr	r3, [r7, #4]	@ float
 240 000e 9360     		str	r3, [r2, #8]	@ float
  54:User/Software/Chassis.c **** }
 241              		.loc 1 54 1
 242 0010 00BF     		nop
 243 0012 0C37     		adds	r7, r7, #12
 244              	.LCFI11:
 245              		.cfi_def_cfa_offset 4
 246 0014 BD46     		mov	sp, r7
 247              	.LCFI12:
 248              		.cfi_def_cfa_register 13
 249              		@ sp needed
 250 0016 5DF8047B 		ldr	r7, [sp], #4
 251              	.LCFI13:
 252              		.cfi_restore 7
 253              		.cfi_def_cfa_offset 0
 254 001a 7047     		bx	lr
 255              	.L9:
 256              		.align	2
 257              	.L8:
 258 001c 00000000 		.word	Global
 259              		.cfi_endproc
 260              	.LFE149:
 262              		.section	.text.Chassis_set_r,"ax",%progbits
 263              		.align	1
 264              		.global	Chassis_set_r
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 269              	Chassis_set_r:
 270              	.LFB150:
  55:User/Software/Chassis.c **** void Chassis_set_r(float r)
  56:User/Software/Chassis.c **** {
 271              		.loc 1 56 1
 272              		.cfi_startproc
 273              		@ args = 0, pretend = 0, frame = 8
 274              		@ frame_needed = 1, uses_anonymous_args = 0
 275              		@ link register save eliminated.
 276 0000 80B4     		push	{r7}
 277              	.LCFI14:
 278              		.cfi_def_cfa_offset 4
 279              		.cfi_offset 7, -4
 280 0002 83B0     		sub	sp, sp, #12
 281              	.LCFI15:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 7


 282              		.cfi_def_cfa_offset 16
 283 0004 00AF     		add	r7, sp, #0
 284              	.LCFI16:
 285              		.cfi_def_cfa_register 7
 286 0006 87ED010A 		vstr.32	s0, [r7, #4]
  57:User/Software/Chassis.c ****     Global.Chssis.input.r = r;
 287              		.loc 1 57 27
 288 000a 044A     		ldr	r2, .L11
 289 000c 7B68     		ldr	r3, [r7, #4]	@ float
 290 000e D360     		str	r3, [r2, #12]	@ float
  58:User/Software/Chassis.c **** }
 291              		.loc 1 58 1
 292 0010 00BF     		nop
 293 0012 0C37     		adds	r7, r7, #12
 294              	.LCFI17:
 295              		.cfi_def_cfa_offset 4
 296 0014 BD46     		mov	sp, r7
 297              	.LCFI18:
 298              		.cfi_def_cfa_register 13
 299              		@ sp needed
 300 0016 5DF8047B 		ldr	r7, [sp], #4
 301              	.LCFI19:
 302              		.cfi_restore 7
 303              		.cfi_def_cfa_offset 0
 304 001a 7047     		bx	lr
 305              	.L12:
 306              		.align	2
 307              	.L11:
 308 001c 00000000 		.word	Global
 309              		.cfi_endproc
 310              	.LFE150:
 312              		.section	.text.Chassis_set_accel,"ax",%progbits
 313              		.align	1
 314              		.global	Chassis_set_accel
 315              		.syntax unified
 316              		.thumb
 317              		.thumb_func
 319              	Chassis_set_accel:
 320              	.LFB151:
  59:User/Software/Chassis.c **** 
  60:User/Software/Chassis.c **** void Chassis_set_accel(float acc)
  61:User/Software/Chassis.c **** {
 321              		.loc 1 61 1
 322              		.cfi_startproc
 323              		@ args = 0, pretend = 0, frame = 8
 324              		@ frame_needed = 1, uses_anonymous_args = 0
 325 0000 80B5     		push	{r7, lr}
 326              	.LCFI20:
 327              		.cfi_def_cfa_offset 8
 328              		.cfi_offset 7, -8
 329              		.cfi_offset 14, -4
 330 0002 82B0     		sub	sp, sp, #8
 331              	.LCFI21:
 332              		.cfi_def_cfa_offset 16
 333 0004 00AF     		add	r7, sp, #0
 334              	.LCFI22:
 335              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 8


 336 0006 87ED010A 		vstr.32	s0, [r7, #4]
  62:User/Software/Chassis.c ****     RampGenerator_SetAccel(&Vx_ramp, acc);
 337              		.loc 1 62 5
 338 000a 97ED010A 		vldr.32	s0, [r7, #4]
 339 000e 0648     		ldr	r0, .L14
 340 0010 FFF7FEFF 		bl	RampGenerator_SetAccel
  63:User/Software/Chassis.c ****     RampGenerator_SetAccel(&Vy_ramp, acc);
 341              		.loc 1 63 5
 342 0014 97ED010A 		vldr.32	s0, [r7, #4]
 343 0018 0448     		ldr	r0, .L14+4
 344 001a FFF7FEFF 		bl	RampGenerator_SetAccel
  64:User/Software/Chassis.c **** }
 345              		.loc 1 64 1
 346 001e 00BF     		nop
 347 0020 0837     		adds	r7, r7, #8
 348              	.LCFI23:
 349              		.cfi_def_cfa_offset 8
 350 0022 BD46     		mov	sp, r7
 351              	.LCFI24:
 352              		.cfi_def_cfa_register 13
 353              		@ sp needed
 354 0024 80BD     		pop	{r7, pc}
 355              	.L15:
 356 0026 00BF     		.align	2
 357              	.L14:
 358 0028 00000000 		.word	Vx_ramp
 359 002c 00000000 		.word	Vy_ramp
 360              		.cfi_endproc
 361              	.LFE151:
 363              		.global	Vx_now
 364              		.section	.bss.Vx_now,"aw",%nobits
 365              		.align	2
 368              	Vx_now:
 369 0000 00000000 		.space	4
 370              		.global	Vy_now
 371              		.section	.bss.Vy_now,"aw",%nobits
 372              		.align	2
 375              	Vy_now:
 376 0000 00000000 		.space	4
 377              		.global	W_now
 378              		.section	.bss.W_now,"aw",%nobits
 379              		.align	2
 382              	W_now:
 383 0000 00000000 		.space	4
 384              		.global	T_FR
 385              		.section	.bss.T_FR,"aw",%nobits
 386              		.align	2
 389              	T_FR:
 390 0000 00000000 		.space	4
 391              		.global	T_FL
 392              		.section	.bss.T_FL,"aw",%nobits
 393              		.align	2
 396              	T_FL:
 397 0000 00000000 		.space	4
 398              		.global	T_BR
 399              		.section	.bss.T_BR,"aw",%nobits
 400              		.align	2
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 9


 403              	T_BR:
 404 0000 00000000 		.space	4
 405              		.global	T_BL
 406              		.section	.bss.T_BL,"aw",%nobits
 407              		.align	2
 410              	T_BL:
 411 0000 00000000 		.space	4
 412              		.global	K
 413              		.section	.bss.K,"aw",%nobits
 414              		.align	2
 417              	K:
 418 0000 00000000 		.space	4
 419              		.section	.text.ChassisMotor_Control,"ax",%progbits
 420              		.align	1
 421              		.global	ChassisMotor_Control
 422              		.syntax unified
 423              		.thumb
 424              		.thumb_func
 426              	ChassisMotor_Control:
 427              	.LFB152:
  65:User/Software/Chassis.c **** 
  66:User/Software/Chassis.c **** /**
  67:User/Software/Chassis.c ****  * @brief 底盘电机控制
  68:User/Software/Chassis.c ****  *
  69:User/Software/Chassis.c ****  * @param FL_speed 左前轮速度
  70:User/Software/Chassis.c ****  * @param FR_speed 右前轮速度
  71:User/Software/Chassis.c ****  * @param BL_speed 左后轮速度
  72:User/Software/Chassis.c ****  * @param BR_speed 右后轮速度
  73:User/Software/Chassis.c ****  */
  74:User/Software/Chassis.c **** float Vx_now, Vy_now, W_now;
  75:User/Software/Chassis.c **** float T_FR, T_FL, T_BR, T_BL, K;
  76:User/Software/Chassis.c **** void ChassisMotor_Control(float Vx_speed, float Vy_speed, float R_speed)
  77:User/Software/Chassis.c **** {
 428              		.loc 1 77 1
 429              		.cfi_startproc
 430              		@ args = 0, pretend = 0, frame = 616
 431              		@ frame_needed = 1, uses_anonymous_args = 0
 432 0000 80B5     		push	{r7, lr}
 433              	.LCFI25:
 434              		.cfi_def_cfa_offset 8
 435              		.cfi_offset 7, -8
 436              		.cfi_offset 14, -4
 437 0002 2DED028B 		vpush.64	{d8}
 438              	.LCFI26:
 439              		.cfi_def_cfa_offset 16
 440              		.cfi_offset 80, -16
 441              		.cfi_offset 81, -12
 442 0006 ADF51A7D 		sub	sp, sp, #616
 443              	.LCFI27:
 444              		.cfi_def_cfa_offset 632
 445 000a 00AF     		add	r7, sp, #0
 446              	.LCFI28:
 447              		.cfi_def_cfa_register 7
 448 000c 07F51A73 		add	r3, r7, #616
 449 0010 A3F51773 		sub	r3, r3, #604
 450 0014 83ED000A 		vstr.32	s0, [r3]
 451 0018 07F51A73 		add	r3, r7, #616
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 10


 452 001c A3F51873 		sub	r3, r3, #608
 453 0020 C3ED000A 		vstr.32	s1, [r3]
 454 0024 07F51A73 		add	r3, r7, #616
 455 0028 A3F51973 		sub	r3, r3, #612
 456 002c 83ED001A 		vstr.32	s2, [r3]
  78:User/Software/Chassis.c ****     float FL_speed, FR_speed, BL_speed, BR_speed;
  79:User/Software/Chassis.c **** 
  80:User/Software/Chassis.c ****     float CHASSIS_WZ_SET_SCALE = 0.0f; // 底盘转角速度设置比例
 457              		.loc 1 80 11
 458 0030 4FF00003 		mov	r3, #0
 459 0034 C7F86032 		str	r3, [r7, #608]	@ float
  81:User/Software/Chassis.c **** 
  82:User/Software/Chassis.c ****     /*逆解轮速*/
  83:User/Software/Chassis.c ****     FR_speed = +Vx_speed - Vy_speed + (1 + CHASSIS_WZ_SET_SCALE) * R_speed;
 460              		.loc 1 83 26
 461 0038 07F51A73 		add	r3, r7, #616
 462 003c A3F51772 		sub	r2, r3, #604
 463 0040 07F51A73 		add	r3, r7, #616
 464 0044 A3F51873 		sub	r3, r3, #608
 465 0048 92ED007A 		vldr.32	s14, [r2]
 466 004c D3ED007A 		vldr.32	s15, [r3]
 467 0050 37EE677A 		vsub.f32	s14, s14, s15
 468              		.loc 1 83 42
 469 0054 D7ED987A 		vldr.32	s15, [r7, #608]
 470 0058 F7EE006A 		vmov.f32	s13, #1.0e+0
 471 005c 77EEA66A 		vadd.f32	s13, s15, s13
 472              		.loc 1 83 66
 473 0060 07F51A73 		add	r3, r7, #616
 474 0064 A3F51973 		sub	r3, r3, #612
 475 0068 D3ED007A 		vldr.32	s15, [r3]
 476 006c 66EEA77A 		vmul.f32	s15, s13, s15
 477              		.loc 1 83 14
 478 0070 77EE277A 		vadd.f32	s15, s14, s15
 479 0074 C7ED977A 		vstr.32	s15, [r7, #604]
  84:User/Software/Chassis.c ****     FL_speed = +Vx_speed + Vy_speed + (1 + CHASSIS_WZ_SET_SCALE) * R_speed;
 480              		.loc 1 84 26
 481 0078 07F51A73 		add	r3, r7, #616
 482 007c A3F51772 		sub	r2, r3, #604
 483 0080 07F51A73 		add	r3, r7, #616
 484 0084 A3F51873 		sub	r3, r3, #608
 485 0088 92ED007A 		vldr.32	s14, [r2]
 486 008c D3ED007A 		vldr.32	s15, [r3]
 487 0090 37EE277A 		vadd.f32	s14, s14, s15
 488              		.loc 1 84 42
 489 0094 D7ED987A 		vldr.32	s15, [r7, #608]
 490 0098 F7EE006A 		vmov.f32	s13, #1.0e+0
 491 009c 77EEA66A 		vadd.f32	s13, s15, s13
 492              		.loc 1 84 66
 493 00a0 07F51A73 		add	r3, r7, #616
 494 00a4 A3F51973 		sub	r3, r3, #612
 495 00a8 D3ED007A 		vldr.32	s15, [r3]
 496 00ac 66EEA77A 		vmul.f32	s15, s13, s15
 497              		.loc 1 84 14
 498 00b0 77EE277A 		vadd.f32	s15, s14, s15
 499 00b4 C7ED967A 		vstr.32	s15, [r7, #600]
  85:User/Software/Chassis.c ****     BL_speed = -Vx_speed + Vy_speed + (1 - CHASSIS_WZ_SET_SCALE) * R_speed;
 500              		.loc 1 85 26
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 11


 501 00b8 07F51A73 		add	r3, r7, #616
 502 00bc A3F51872 		sub	r2, r3, #608
 503 00c0 07F51A73 		add	r3, r7, #616
 504 00c4 A3F51773 		sub	r3, r3, #604
 505 00c8 92ED007A 		vldr.32	s14, [r2]
 506 00cc D3ED007A 		vldr.32	s15, [r3]
 507 00d0 37EE677A 		vsub.f32	s14, s14, s15
 508              		.loc 1 85 42
 509 00d4 F7EE006A 		vmov.f32	s13, #1.0e+0
 510 00d8 D7ED987A 		vldr.32	s15, [r7, #608]
 511 00dc 76EEE76A 		vsub.f32	s13, s13, s15
 512              		.loc 1 85 66
 513 00e0 07F51A73 		add	r3, r7, #616
 514 00e4 A3F51973 		sub	r3, r3, #612
 515 00e8 D3ED007A 		vldr.32	s15, [r3]
 516 00ec 66EEA77A 		vmul.f32	s15, s13, s15
 517              		.loc 1 85 14
 518 00f0 77EE277A 		vadd.f32	s15, s14, s15
 519 00f4 C7ED957A 		vstr.32	s15, [r7, #596]
  86:User/Software/Chassis.c ****     BR_speed = -Vx_speed - Vy_speed + (1 - CHASSIS_WZ_SET_SCALE) * R_speed;
 520              		.loc 1 86 16
 521 00f8 07F51A73 		add	r3, r7, #616
 522 00fc A3F51773 		sub	r3, r3, #604
 523 0100 D3ED007A 		vldr.32	s15, [r3]
 524 0104 B1EE677A 		vneg.f32	s14, s15
 525              		.loc 1 86 26
 526 0108 07F51A73 		add	r3, r7, #616
 527 010c A3F51873 		sub	r3, r3, #608
 528 0110 D3ED007A 		vldr.32	s15, [r3]
 529 0114 37EE677A 		vsub.f32	s14, s14, s15
 530              		.loc 1 86 42
 531 0118 F7EE006A 		vmov.f32	s13, #1.0e+0
 532 011c D7ED987A 		vldr.32	s15, [r7, #608]
 533 0120 76EEE76A 		vsub.f32	s13, s13, s15
 534              		.loc 1 86 66
 535 0124 07F51A73 		add	r3, r7, #616
 536 0128 A3F51973 		sub	r3, r3, #612
 537 012c D3ED007A 		vldr.32	s15, [r3]
 538 0130 66EEA77A 		vmul.f32	s15, s13, s15
 539              		.loc 1 86 14
 540 0134 77EE277A 		vadd.f32	s15, s14, s15
 541 0138 C7ED947A 		vstr.32	s15, [r7, #592]
  87:User/Software/Chassis.c **** 
  88:User/Software/Chassis.c ****     /*正解车速*/
  89:User/Software/Chassis.c ****     Vx_now = CHASSISMotor_get_data(WHEEL_FL).speed_rpm / 2.0f - CHASSISMotor_get_data(WHEEL_BL).spe
 542              		.loc 1 89 14
 543 013c 07F51A73 		add	r3, r7, #616
 544 0140 A3F51273 		sub	r3, r3, #584
 545 0144 0121     		movs	r1, #1
 546 0146 1846     		mov	r0, r3
 547 0148 FFF7FEFF 		bl	DJIMotor_get_data
 548              		.loc 1 89 45 discriminator 1
 549 014c 07F51A73 		add	r3, r7, #616
 550 0150 A3F51273 		sub	r3, r3, #584
 551 0154 B3F90630 		ldrsh	r3, [r3, #6]
 552              		.loc 1 89 56 discriminator 1
 553 0158 07EE903A 		vmov	s15, r3	@ int
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 12


 554 015c F8EEE77A 		vcvt.f32.s32	s15, s15
 555 0160 B0EE007A 		vmov.f32	s14, #2.0e+0
 556 0164 87EE878A 		vdiv.f32	s16, s15, s14
 557              		.loc 1 89 65 discriminator 1
 558 0168 07F51A73 		add	r3, r7, #616
 559 016c A3F50473 		sub	r3, r3, #528
 560 0170 0221     		movs	r1, #2
 561 0172 1846     		mov	r0, r3
 562 0174 FFF7FEFF 		bl	DJIMotor_get_data
 563              		.loc 1 89 96 discriminator 2
 564 0178 07F51A73 		add	r3, r7, #616
 565 017c A3F50473 		sub	r3, r3, #528
 566 0180 B3F90630 		ldrsh	r3, [r3, #6]
 567              		.loc 1 89 107 discriminator 2
 568 0184 07EE903A 		vmov	s15, r3	@ int
 569 0188 B8EEE77A 		vcvt.f32.s32	s14, s15
 570 018c F0EE006A 		vmov.f32	s13, #2.0e+0
 571 0190 C7EE267A 		vdiv.f32	s15, s14, s13
 572              		.loc 1 89 63 discriminator 2
 573 0194 78EE677A 		vsub.f32	s15, s16, s15
 574              		.loc 1 89 12 discriminator 2
 575 0198 D54B     		ldr	r3, .L25+16
 576 019a C3ED007A 		vstr.32	s15, [r3]
  90:User/Software/Chassis.c ****     Vy_now = CHASSISMotor_get_data(WHEEL_FL).speed_rpm / 2.0f - CHASSISMotor_get_data(WHEEL_FR).spe
 577              		.loc 1 90 14
 578 019e 07F51A73 		add	r3, r7, #616
 579 01a2 A3F5EC73 		sub	r3, r3, #472
 580 01a6 0121     		movs	r1, #1
 581 01a8 1846     		mov	r0, r3
 582 01aa FFF7FEFF 		bl	DJIMotor_get_data
 583              		.loc 1 90 45 discriminator 1
 584 01ae 07F51A73 		add	r3, r7, #616
 585 01b2 A3F5EC73 		sub	r3, r3, #472
 586 01b6 B3F90630 		ldrsh	r3, [r3, #6]
 587              		.loc 1 90 56 discriminator 1
 588 01ba 07EE903A 		vmov	s15, r3	@ int
 589 01be F8EEE77A 		vcvt.f32.s32	s15, s15
 590 01c2 B0EE007A 		vmov.f32	s14, #2.0e+0
 591 01c6 87EE878A 		vdiv.f32	s16, s15, s14
 592              		.loc 1 90 65 discriminator 1
 593 01ca 07F51A73 		add	r3, r7, #616
 594 01ce A3F5D073 		sub	r3, r3, #416
 595 01d2 0021     		movs	r1, #0
 596 01d4 1846     		mov	r0, r3
 597 01d6 FFF7FEFF 		bl	DJIMotor_get_data
 598              		.loc 1 90 96 discriminator 2
 599 01da 07F51A73 		add	r3, r7, #616
 600 01de A3F5D073 		sub	r3, r3, #416
 601 01e2 B3F90630 		ldrsh	r3, [r3, #6]
 602              		.loc 1 90 107 discriminator 2
 603 01e6 07EE903A 		vmov	s15, r3	@ int
 604 01ea B8EEE77A 		vcvt.f32.s32	s14, s15
 605 01ee F0EE006A 		vmov.f32	s13, #2.0e+0
 606 01f2 C7EE267A 		vdiv.f32	s15, s14, s13
 607              		.loc 1 90 63 discriminator 2
 608 01f6 78EE677A 		vsub.f32	s15, s16, s15
 609              		.loc 1 90 12 discriminator 2
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 13


 610 01fa BE4B     		ldr	r3, .L25+20
 611 01fc C3ED007A 		vstr.32	s15, [r3]
  91:User/Software/Chassis.c ****     W_now = CHASSISMotor_get_data(WHEEL_FR).speed_rpm / 2.0f + CHASSISMotor_get_data(WHEEL_BL).spee
 612              		.loc 1 91 13
 613 0200 07F51A73 		add	r3, r7, #616
 614 0204 A3F5B473 		sub	r3, r3, #360
 615 0208 0021     		movs	r1, #0
 616 020a 1846     		mov	r0, r3
 617 020c FFF7FEFF 		bl	DJIMotor_get_data
 618              		.loc 1 91 44 discriminator 1
 619 0210 07F51A73 		add	r3, r7, #616
 620 0214 A3F5B473 		sub	r3, r3, #360
 621 0218 B3F90630 		ldrsh	r3, [r3, #6]
 622              		.loc 1 91 55 discriminator 1
 623 021c 07EE903A 		vmov	s15, r3	@ int
 624 0220 F8EEE77A 		vcvt.f32.s32	s15, s15
 625 0224 B0EE007A 		vmov.f32	s14, #2.0e+0
 626 0228 87EE878A 		vdiv.f32	s16, s15, s14
 627              		.loc 1 91 64 discriminator 1
 628 022c 07F51A73 		add	r3, r7, #616
 629 0230 A3F59873 		sub	r3, r3, #304
 630 0234 0221     		movs	r1, #2
 631 0236 1846     		mov	r0, r3
 632 0238 FFF7FEFF 		bl	DJIMotor_get_data
 633              		.loc 1 91 95 discriminator 2
 634 023c 07F51A73 		add	r3, r7, #616
 635 0240 A3F59873 		sub	r3, r3, #304
 636 0244 B3F90630 		ldrsh	r3, [r3, #6]
 637              		.loc 1 91 106 discriminator 2
 638 0248 07EE903A 		vmov	s15, r3	@ int
 639 024c B8EEE77A 		vcvt.f32.s32	s14, s15
 640 0250 F0EE006A 		vmov.f32	s13, #2.0e+0
 641 0254 C7EE267A 		vdiv.f32	s15, s14, s13
 642              		.loc 1 91 62 discriminator 2
 643 0258 78EE277A 		vadd.f32	s15, s16, s15
 644              		.loc 1 91 11 discriminator 2
 645 025c A64B     		ldr	r3, .L25+24
 646 025e C3ED007A 		vstr.32	s15, [r3]
  92:User/Software/Chassis.c **** 
  93:User/Software/Chassis.c ****     /*电流计算*/
  94:User/Software/Chassis.c ****     float current[4] = {0};
 647              		.loc 1 94 11
 648 0262 07F51A73 		add	r3, r7, #616
 649 0266 A3F51673 		sub	r3, r3, #600
 650 026a 1A46     		mov	r2, r3
 651 026c 0023     		movs	r3, #0
 652 026e 1360     		str	r3, [r2]
 653 0270 5360     		str	r3, [r2, #4]
 654 0272 9360     		str	r3, [r2, #8]
 655 0274 D360     		str	r3, [r2, #12]
  95:User/Software/Chassis.c ****     current[1] = pid_cal(&chassis_speed_pid_FR, (CHASSISMotor_get_data(WHEEL_FR).speed_rpm) / 19.0f
 656              		.loc 1 95 50
 657 0276 07F5B873 		add	r3, r7, #368
 658 027a 0021     		movs	r1, #0
 659 027c 1846     		mov	r0, r3
 660 027e FFF7FEFF 		bl	DJIMotor_get_data
 661              		.loc 1 95 81 discriminator 1
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 14


 662 0282 B7F97631 		ldrsh	r3, [r7, #374]
 663              		.loc 1 95 93 discriminator 1
 664 0286 07EE903A 		vmov	s15, r3	@ int
 665 028a B8EEE77A 		vcvt.f32.s32	s14, s15
 666 028e F3EE036A 		vmov.f32	s13, #1.9e+1
 667 0292 C7EE267A 		vdiv.f32	s15, s14, s13
 668 0296 B7EEE77A 		vcvt.f64.f32	d7, s15
 669              		.loc 1 95 101 discriminator 1
 670 029a 9FED916B 		vldr.64	d6, .L25
 671 029e 27EE067B 		vmul.f64	d7, d7, d6
 672              		.loc 1 95 115 discriminator 1
 673 02a2 9FED916B 		vldr.64	d6, .L25+8
 674 02a6 27EE067B 		vmul.f64	d7, d7, d6
 675              		.loc 1 95 18 discriminator 1
 676 02aa F7EEC77B 		vcvt.f32.f64	s15, d7
 677 02ae D7ED970A 		vldr.32	s1, [r7, #604]
 678 02b2 B0EE670A 		vmov.f32	s0, s15
 679 02b6 9148     		ldr	r0, .L25+28
 680 02b8 FFF7FEFF 		bl	pid_cal
 681 02bc F0EE407A 		vmov.f32	s15, s0
 682              		.loc 1 95 16 discriminator 2
 683 02c0 07F51A73 		add	r3, r7, #616
 684 02c4 A3F51673 		sub	r3, r3, #600
 685 02c8 C3ED017A 		vstr.32	s15, [r3, #4]
  96:User/Software/Chassis.c ****     current[3] = pid_cal(&chassis_speed_pid_BR, (CHASSISMotor_get_data(WHEEL_BR).speed_rpm) / 19.0f
 686              		.loc 1 96 50
 687 02cc 07F5D473 		add	r3, r7, #424
 688 02d0 0321     		movs	r1, #3
 689 02d2 1846     		mov	r0, r3
 690 02d4 FFF7FEFF 		bl	DJIMotor_get_data
 691              		.loc 1 96 81 discriminator 1
 692 02d8 B7F9AE31 		ldrsh	r3, [r7, #430]
 693              		.loc 1 96 93 discriminator 1
 694 02dc 07EE903A 		vmov	s15, r3	@ int
 695 02e0 B8EEE77A 		vcvt.f32.s32	s14, s15
 696 02e4 F3EE036A 		vmov.f32	s13, #1.9e+1
 697 02e8 C7EE267A 		vdiv.f32	s15, s14, s13
 698 02ec B7EEE77A 		vcvt.f64.f32	d7, s15
 699              		.loc 1 96 101 discriminator 1
 700 02f0 9FED7B6B 		vldr.64	d6, .L25
 701 02f4 27EE067B 		vmul.f64	d7, d7, d6
 702              		.loc 1 96 115 discriminator 1
 703 02f8 9FED7B6B 		vldr.64	d6, .L25+8
 704 02fc 27EE067B 		vmul.f64	d7, d7, d6
 705              		.loc 1 96 18 discriminator 1
 706 0300 F7EEC77B 		vcvt.f32.f64	s15, d7
 707 0304 D7ED940A 		vldr.32	s1, [r7, #592]
 708 0308 B0EE670A 		vmov.f32	s0, s15
 709 030c 7C48     		ldr	r0, .L25+32
 710 030e FFF7FEFF 		bl	pid_cal
 711 0312 F0EE407A 		vmov.f32	s15, s0
 712              		.loc 1 96 16 discriminator 2
 713 0316 07F51A73 		add	r3, r7, #616
 714 031a A3F51673 		sub	r3, r3, #600
 715 031e C3ED037A 		vstr.32	s15, [r3, #12]
  97:User/Software/Chassis.c ****     current[0] = pid_cal(&chassis_speed_pid_FL, (CHASSISMotor_get_data(WHEEL_FL).speed_rpm) / 19.0f
 716              		.loc 1 97 50
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 15


 717 0322 07F5F073 		add	r3, r7, #480
 718 0326 0121     		movs	r1, #1
 719 0328 1846     		mov	r0, r3
 720 032a FFF7FEFF 		bl	DJIMotor_get_data
 721              		.loc 1 97 81 discriminator 1
 722 032e B7F9E631 		ldrsh	r3, [r7, #486]
 723              		.loc 1 97 93 discriminator 1
 724 0332 07EE903A 		vmov	s15, r3	@ int
 725 0336 B8EEE77A 		vcvt.f32.s32	s14, s15
 726 033a F3EE036A 		vmov.f32	s13, #1.9e+1
 727 033e C7EE267A 		vdiv.f32	s15, s14, s13
 728 0342 B7EEE77A 		vcvt.f64.f32	d7, s15
 729              		.loc 1 97 101 discriminator 1
 730 0346 9FED666B 		vldr.64	d6, .L25
 731 034a 27EE067B 		vmul.f64	d7, d7, d6
 732              		.loc 1 97 115 discriminator 1
 733 034e 9FED666B 		vldr.64	d6, .L25+8
 734 0352 27EE067B 		vmul.f64	d7, d7, d6
 735              		.loc 1 97 18 discriminator 1
 736 0356 F7EEC77B 		vcvt.f32.f64	s15, d7
 737 035a D7ED960A 		vldr.32	s1, [r7, #600]
 738 035e B0EE670A 		vmov.f32	s0, s15
 739 0362 6848     		ldr	r0, .L25+36
 740 0364 FFF7FEFF 		bl	pid_cal
 741 0368 F0EE407A 		vmov.f32	s15, s0
 742              		.loc 1 97 16 discriminator 2
 743 036c 07F51A73 		add	r3, r7, #616
 744 0370 A3F51673 		sub	r3, r3, #600
 745 0374 C3ED007A 		vstr.32	s15, [r3]
  98:User/Software/Chassis.c ****     current[2] = pid_cal(&chassis_speed_pid_BL, (CHASSISMotor_get_data(WHEEL_BL).speed_rpm) / 19.0f
 746              		.loc 1 98 50
 747 0378 07F50673 		add	r3, r7, #536
 748 037c 0221     		movs	r1, #2
 749 037e 1846     		mov	r0, r3
 750 0380 FFF7FEFF 		bl	DJIMotor_get_data
 751              		.loc 1 98 81 discriminator 1
 752 0384 B7F91E32 		ldrsh	r3, [r7, #542]
 753              		.loc 1 98 93 discriminator 1
 754 0388 07EE903A 		vmov	s15, r3	@ int
 755 038c B8EEE77A 		vcvt.f32.s32	s14, s15
 756 0390 F3EE036A 		vmov.f32	s13, #1.9e+1
 757 0394 C7EE267A 		vdiv.f32	s15, s14, s13
 758 0398 B7EEE77A 		vcvt.f64.f32	d7, s15
 759              		.loc 1 98 101 discriminator 1
 760 039c 9FED506B 		vldr.64	d6, .L25
 761 03a0 27EE067B 		vmul.f64	d7, d7, d6
 762              		.loc 1 98 115 discriminator 1
 763 03a4 9FED506B 		vldr.64	d6, .L25+8
 764 03a8 27EE067B 		vmul.f64	d7, d7, d6
 765              		.loc 1 98 18 discriminator 1
 766 03ac F7EEC77B 		vcvt.f32.f64	s15, d7
 767 03b0 D7ED950A 		vldr.32	s1, [r7, #596]
 768 03b4 B0EE670A 		vmov.f32	s0, s15
 769 03b8 5348     		ldr	r0, .L25+40
 770 03ba FFF7FEFF 		bl	pid_cal
 771 03be F0EE407A 		vmov.f32	s15, s0
 772              		.loc 1 98 16 discriminator 2
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 16


 773 03c2 07F51A73 		add	r3, r7, #616
 774 03c6 A3F51673 		sub	r3, r3, #600
 775 03ca C3ED027A 		vstr.32	s15, [r3, #8]
 776              	.LBB2:
  99:User/Software/Chassis.c ****     for (int i = 0; i < 4; i++)
 777              		.loc 1 99 14
 778 03ce 0023     		movs	r3, #0
 779 03d0 C7F86432 		str	r3, [r7, #612]
 780              		.loc 1 99 5
 781 03d4 3AE0     		b	.L17
 782              	.L22:
 100:User/Software/Chassis.c ****     {
 101:User/Software/Chassis.c ****         if (current[i] >= (CHASSISMOTOR_MAX_CURRENT - 1))
 783              		.loc 1 101 20
 784 03d6 07F51A73 		add	r3, r7, #616
 785 03da A3F51672 		sub	r2, r3, #600
 786 03de D7F86432 		ldr	r3, [r7, #612]
 787 03e2 9B00     		lsls	r3, r3, #2
 788 03e4 1344     		add	r3, r3, r2
 789 03e6 D3ED007A 		vldr.32	s15, [r3]
 790              		.loc 1 101 12
 791 03ea 9FED487A 		vldr.32	s14, .L25+44
 792 03ee F4EEC77A 		vcmpe.f32	s15, s14
 793 03f2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 794 03f6 09DB     		blt	.L18
 102:User/Software/Chassis.c ****             current[i] = CHASSISMOTOR_MAX_CURRENT - 1;
 795              		.loc 1 102 24
 796 03f8 07F51A73 		add	r3, r7, #616
 797 03fc A3F51672 		sub	r2, r3, #600
 798 0400 D7F86432 		ldr	r3, [r7, #612]
 799 0404 9B00     		lsls	r3, r3, #2
 800 0406 1344     		add	r3, r3, r2
 801 0408 414A     		ldr	r2, .L25+48
 802 040a 1A60     		str	r2, [r3]	@ float
 803              	.L18:
 103:User/Software/Chassis.c ****         if (current[i] <= -(CHASSISMOTOR_MAX_CURRENT - 1))
 804              		.loc 1 103 20
 805 040c 07F51A73 		add	r3, r7, #616
 806 0410 A3F51672 		sub	r2, r3, #600
 807 0414 D7F86432 		ldr	r3, [r7, #612]
 808 0418 9B00     		lsls	r3, r3, #2
 809 041a 1344     		add	r3, r3, r2
 810 041c D3ED007A 		vldr.32	s15, [r3]
 811              		.loc 1 103 12
 812 0420 9FED3C7A 		vldr.32	s14, .L25+52
 813 0424 F4EEC77A 		vcmpe.f32	s15, s14
 814 0428 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 815 042c 09D8     		bhi	.L20
 104:User/Software/Chassis.c ****             current[i] = -(CHASSISMOTOR_MAX_CURRENT - 1);
 816              		.loc 1 104 24
 817 042e 07F51A73 		add	r3, r7, #616
 818 0432 A3F51672 		sub	r2, r3, #600
 819 0436 D7F86432 		ldr	r3, [r7, #612]
 820 043a 9B00     		lsls	r3, r3, #2
 821 043c 1344     		add	r3, r3, r2
 822 043e 364A     		ldr	r2, .L25+56
 823 0440 1A60     		str	r2, [r3]	@ float
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 17


 824              	.L20:
  99:User/Software/Chassis.c ****     {
 825              		.loc 1 99 29 discriminator 2
 826 0442 D7F86432 		ldr	r3, [r7, #612]
 827 0446 0133     		adds	r3, r3, #1
 828 0448 C7F86432 		str	r3, [r7, #612]
 829              	.L17:
  99:User/Software/Chassis.c ****     {
 830              		.loc 1 99 23 discriminator 1
 831 044c D7F86432 		ldr	r3, [r7, #612]
 832 0450 032B     		cmp	r3, #3
 833 0452 C0DD     		ble	.L22
 834              	.LBE2:
 105:User/Software/Chassis.c ****     }
 106:User/Software/Chassis.c **** 
 107:User/Software/Chassis.c ****     /*电流设置*/
 108:User/Software/Chassis.c ****     CHASSISMotor_set(current[0], WHEEL_FL);
 835              		.loc 1 108 29
 836 0454 07F51A73 		add	r3, r7, #616
 837 0458 A3F51673 		sub	r3, r3, #600
 838 045c D3ED007A 		vldr.32	s15, [r3]
 839              		.loc 1 108 5
 840 0460 FDEEE77A 		vcvt.s32.f32	s15, s15
 841 0464 17EE903A 		vmov	r3, s15	@ int
 842 0468 1BB2     		sxth	r3, r3
 843 046a 0121     		movs	r1, #1
 844 046c 1846     		mov	r0, r3
 845 046e FFF7FEFF 		bl	DJIMotor_set
 109:User/Software/Chassis.c ****     CHASSISMotor_set(current[1], WHEEL_FR);
 846              		.loc 1 109 29
 847 0472 07F51A73 		add	r3, r7, #616
 848 0476 A3F51673 		sub	r3, r3, #600
 849 047a D3ED017A 		vldr.32	s15, [r3, #4]
 850              		.loc 1 109 5
 851 047e FDEEE77A 		vcvt.s32.f32	s15, s15
 852 0482 17EE903A 		vmov	r3, s15	@ int
 853 0486 1BB2     		sxth	r3, r3
 854 0488 0021     		movs	r1, #0
 855 048a 1846     		mov	r0, r3
 856 048c FFF7FEFF 		bl	DJIMotor_set
 110:User/Software/Chassis.c ****     CHASSISMotor_set(current[2], WHEEL_BL);
 857              		.loc 1 110 29
 858 0490 07F51A73 		add	r3, r7, #616
 859 0494 A3F51673 		sub	r3, r3, #600
 860 0498 D3ED027A 		vldr.32	s15, [r3, #8]
 861              		.loc 1 110 5
 862 049c FDEEE77A 		vcvt.s32.f32	s15, s15
 863 04a0 17EE903A 		vmov	r3, s15	@ int
 864 04a4 1BB2     		sxth	r3, r3
 865 04a6 0221     		movs	r1, #2
 866 04a8 1846     		mov	r0, r3
 867 04aa FFF7FEFF 		bl	DJIMotor_set
 111:User/Software/Chassis.c ****     CHASSISMotor_set(current[3], WHEEL_BR);
 868              		.loc 1 111 29
 869 04ae 07F51A73 		add	r3, r7, #616
 870 04b2 A3F51673 		sub	r3, r3, #600
 871 04b6 D3ED037A 		vldr.32	s15, [r3, #12]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 18


 872              		.loc 1 111 5
 873 04ba FDEEE77A 		vcvt.s32.f32	s15, s15
 874 04be 17EE903A 		vmov	r3, s15	@ int
 875 04c2 1BB2     		sxth	r3, r3
 876 04c4 0321     		movs	r1, #3
 877 04c6 1846     		mov	r0, r3
 878 04c8 FFF7FEFF 		bl	DJIMotor_set
 112:User/Software/Chassis.c **** }
 879              		.loc 1 112 1
 880 04cc 00BF     		nop
 881 04ce 07F51A77 		add	r7, r7, #616
 882              	.LCFI29:
 883              		.cfi_def_cfa_offset 16
 884 04d2 BD46     		mov	sp, r7
 885              	.LCFI30:
 886              		.cfi_def_cfa_register 13
 887              		@ sp needed
 888 04d4 BDEC028B 		vldm	sp!, {d8}
 889              	.LCFI31:
 890              		.cfi_restore 80
 891              		.cfi_restore 81
 892              		.cfi_def_cfa_offset 8
 893 04d8 80BD     		pop	{r7, pc}
 894              	.L26:
 895 04da 00BFAFF3 		.align	3
 895      0080
 896              	.L25:
 897 04e0 9A5AF8F2 		.word	-218604902
 898 04e4 E9CEBA3F 		.word	1069207273
 899 04e8 83C0CAA1 		.word	-1580547965
 900 04ec 45B6B33F 		.word	1068742213
 901 04f0 00000000 		.word	Vx_now
 902 04f4 00000000 		.word	Vy_now
 903 04f8 00000000 		.word	W_now
 904 04fc 00000000 		.word	chassis_speed_pid_FR
 905 0500 00000000 		.word	chassis_speed_pid_BR
 906 0504 00000000 		.word	chassis_speed_pid_FL
 907 0508 00000000 		.word	chassis_speed_pid_BL
 908 050c 00FC7F46 		.word	1182792704
 909 0510 00FC7F46 		.word	1182792704
 910 0514 00FC7FC6 		.word	-964690944
 911 0518 00FC7FC6 		.word	-964690944
 912              		.cfi_endproc
 913              	.LFE152:
 915              		.section	.text.Chassis_move,"ax",%progbits
 916              		.align	1
 917              		.global	Chassis_move
 918              		.syntax unified
 919              		.thumb
 920              		.thumb_func
 922              	Chassis_move:
 923              	.LFB153:
 113:User/Software/Chassis.c **** 
 114:User/Software/Chassis.c **** /**
 115:User/Software/Chassis.c ****  * @brief 底盘移动解算
 116:User/Software/Chassis.c ****  *
 117:User/Software/Chassis.c ****  */
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 19


 118:User/Software/Chassis.c **** void Chassis_move()
 119:User/Software/Chassis.c **** {
 924              		.loc 1 119 1
 925              		.cfi_startproc
 926              		@ args = 0, pretend = 0, frame = 16
 927              		@ frame_needed = 1, uses_anonymous_args = 0
 928 0000 80B5     		push	{r7, lr}
 929              	.LCFI32:
 930              		.cfi_def_cfa_offset 8
 931              		.cfi_offset 7, -8
 932              		.cfi_offset 14, -4
 933 0002 84B0     		sub	sp, sp, #16
 934              	.LCFI33:
 935              		.cfi_def_cfa_offset 24
 936 0004 00AF     		add	r7, sp, #0
 937              	.LCFI34:
 938              		.cfi_def_cfa_register 7
 120:User/Software/Chassis.c ****     float X_speed, Y_speed, R_speed;
 121:User/Software/Chassis.c **** 
 122:User/Software/Chassis.c ****     /*运动分解*/
 123:User/Software/Chassis.c ****     X_speed = Global.Chssis.input.x;
 939              		.loc 1 123 13
 940 0006 254B     		ldr	r3, .L30
 941 0008 5B68     		ldr	r3, [r3, #4]	@ float
 942 000a BB60     		str	r3, [r7, #8]	@ float
 124:User/Software/Chassis.c ****     Y_speed = Global.Chssis.input.y;
 943              		.loc 1 124 13
 944 000c 234B     		ldr	r3, .L30
 945 000e 9B68     		ldr	r3, [r3, #8]	@ float
 946 0010 7B60     		str	r3, [r7, #4]	@ float
 125:User/Software/Chassis.c ****     R_speed = Global.Chssis.input.r;
 947              		.loc 1 125 13
 948 0012 224B     		ldr	r3, .L30
 949 0014 DB68     		ldr	r3, [r3, #12]	@ float
 950 0016 FB60     		str	r3, [r7, #12]	@ float
 126:User/Software/Chassis.c **** 
 127:User/Software/Chassis.c ****     // Chassisui_change(relative_angle);//UI
 128:User/Software/Chassis.c **** 
 129:User/Software/Chassis.c ****     /*模式x*/
 130:User/Software/Chassis.c ****     switch (Global.Chssis.mode)
 951              		.loc 1 130 26
 952 0018 204B     		ldr	r3, .L30
 953 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 954              		.loc 1 130 5
 955 001c 002B     		cmp	r3, #0
 956 001e 30D1     		bne	.L28
 131:User/Software/Chassis.c ****     {
 132:User/Software/Chassis.c ****     case FLOW:
 133:User/Software/Chassis.c **** 	if(RC_data.rc.s[4] !=1024){
 957              		.loc 1 133 17
 958 0020 1F4B     		ldr	r3, .L30+4
 959 0022 B3F91230 		ldrsh	r3, [r3, #18]	@ unaligned
 960 0026 1BB2     		sxth	r3, r3
 961              		.loc 1 133 4
 962 0028 B3F5806F 		cmp	r3, #1024
 963 002c 15D0     		beq	.L29
 134:User/Software/Chassis.c ****         AHRS_yaw_set=IMU_data.AHRS.yaw-(RC_data.rc.s[4] - 1024)/1000.0f;
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 20


 964              		.loc 1 134 35
 965 002e 1D4B     		ldr	r3, .L30+8
 966 0030 93ED297A 		vldr.32	s14, [r3, #164]
 967              		.loc 1 134 53
 968 0034 1A4B     		ldr	r3, .L30+4
 969 0036 B3F91230 		ldrsh	r3, [r3, #18]	@ unaligned
 970 003a 1BB2     		sxth	r3, r3
 971              		.loc 1 134 57
 972 003c A3F58063 		sub	r3, r3, #1024
 973              		.loc 1 134 64
 974 0040 07EE903A 		vmov	s15, r3	@ int
 975 0044 F8EEE76A 		vcvt.f32.s32	s13, s15
 976 0048 9FED176A 		vldr.32	s12, .L30+12
 977 004c C6EE867A 		vdiv.f32	s15, s13, s12
 978              		.loc 1 134 39
 979 0050 77EE677A 		vsub.f32	s15, s14, s15
 980              		.loc 1 134 21
 981 0054 154B     		ldr	r3, .L30+16
 982 0056 C3ED007A 		vstr.32	s15, [r3]
 983              	.L29:
 135:User/Software/Chassis.c **** }
 136:User/Software/Chassis.c **** //pid计算
 137:User/Software/Chassis.c ****         R_speed =-pid_cal(&yaw_pid, IMU_data.AHRS.yaw, AHRS_yaw_set);
 984              		.loc 1 137 19
 985 005a 124B     		ldr	r3, .L30+8
 986 005c D3ED297A 		vldr.32	s15, [r3, #164]
 987 0060 124B     		ldr	r3, .L30+16
 988 0062 93ED007A 		vldr.32	s14, [r3]
 989 0066 F0EE470A 		vmov.f32	s1, s14
 990 006a B0EE670A 		vmov.f32	s0, s15
 991 006e 1048     		ldr	r0, .L30+20
 992 0070 FFF7FEFF 		bl	pid_cal
 993 0074 F0EE407A 		vmov.f32	s15, s0
 994              		.loc 1 137 17 discriminator 1
 995 0078 F1EE677A 		vneg.f32	s15, s15
 996 007c C7ED037A 		vstr.32	s15, [r7, #12]
 138:User/Software/Chassis.c ****         break;
 997              		.loc 1 138 9
 998 0080 00BF     		nop
 999              	.L28:
 139:User/Software/Chassis.c ****     }
 140:User/Software/Chassis.c **** 
 141:User/Software/Chassis.c ****     /*底盘电机控制*/
 142:User/Software/Chassis.c ****     ChassisMotor_Control(X_speed, Y_speed, R_speed);
 1000              		.loc 1 142 5
 1001 0082 97ED031A 		vldr.32	s2, [r7, #12]
 1002 0086 D7ED010A 		vldr.32	s1, [r7, #4]
 1003 008a 97ED020A 		vldr.32	s0, [r7, #8]
 1004 008e FFF7FEFF 		bl	ChassisMotor_Control
 143:User/Software/Chassis.c **** }...
 1005              		.loc 1 143 1
 1006 0092 00BF     		nop
 1007 0094 1037     		adds	r7, r7, #16
 1008              	.LCFI35:
 1009              		.cfi_def_cfa_offset 8
 1010 0096 BD46     		mov	sp, r7
 1011              	.LCFI36:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 21


 1012              		.cfi_def_cfa_register 13
 1013              		@ sp needed
 1014 0098 80BD     		pop	{r7, pc}
 1015              	.L31:
 1016 009a 00BF     		.align	2
 1017              	.L30:
 1018 009c 00000000 		.word	Global
 1019 00a0 00000000 		.word	RC_data
 1020 00a4 00000000 		.word	IMU_data
 1021 00a8 00007A44 		.word	1148846080
 1022 00ac 00000000 		.word	AHRS_yaw_set
 1023 00b0 00000000 		.word	yaw_pid
 1024              		.cfi_endproc
 1025              	.LFE153:
 1027              		.text
 1028              	.Letext0:
 1029              		.file 2 "D:/MSYS2/mingw64/arm-none-eabi/include/machine/_default_types.h"
 1030              		.file 3 "D:/MSYS2/mingw64/arm-none-eabi/include/sys/_stdint.h"
 1031              		.file 4 "User/Hardware/motor.h"
 1032              		.file 5 "User/Software/Global_status.h"
 1033              		.file 6 "Core/Inc/struct_typedef.h"
 1034              		.file 7 "Algorithm/Kalman_Filter_c.h"
 1035              		.file 8 "User/Hardware/IMU_updata.h"
 1036              		.file 9 "User/Software/remote_control.h"
 1037              		.file 10 "Algorithm/pid.h"
 1038              		.file 11 "Algorithm/ramp_generator.h"
 1039              		.file 12 "User/Software/Gimbal.h"
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 22


DEFINED SYMBOLS
                            *ABS*:00000000 Chassis.c
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:24     .bss.chassis_speed_pid_FL:00000000 chassis_speed_pid_FL
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:21     .bss.chassis_speed_pid_FL:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:31     .bss.chassis_speed_pid_FR:00000000 chassis_speed_pid_FR
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:28     .bss.chassis_speed_pid_FR:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:38     .bss.chassis_speed_pid_BL:00000000 chassis_speed_pid_BL
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:35     .bss.chassis_speed_pid_BL:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:45     .bss.chassis_speed_pid_BR:00000000 chassis_speed_pid_BR
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:42     .bss.chassis_speed_pid_BR:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:52     .bss.Vx_ramp:00000000 Vx_ramp
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:49     .bss.Vx_ramp:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:59     .bss.Vy_ramp:00000000 Vy_ramp
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:56     .bss.Vy_ramp:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:66     .bss.AHRS_yaw_set:00000000 AHRS_yaw_set
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:63     .bss.AHRS_yaw_set:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:73     .bss.yaw_pid:00000000 yaw_pid
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:70     .bss.yaw_pid:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:76     .text.Chassis_init:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:82     .text.Chassis_init:00000000 Chassis_init
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:150    .text.Chassis_init:00000090 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:163    .text.Chassis_set_x:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:169    .text.Chassis_set_x:00000000 Chassis_set_x
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:208    .text.Chassis_set_x:0000001c $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:213    .text.Chassis_set_y:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:219    .text.Chassis_set_y:00000000 Chassis_set_y
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:258    .text.Chassis_set_y:0000001c $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:263    .text.Chassis_set_r:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:269    .text.Chassis_set_r:00000000 Chassis_set_r
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:308    .text.Chassis_set_r:0000001c $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:313    .text.Chassis_set_accel:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:319    .text.Chassis_set_accel:00000000 Chassis_set_accel
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:358    .text.Chassis_set_accel:00000028 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:368    .bss.Vx_now:00000000 Vx_now
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:365    .bss.Vx_now:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:375    .bss.Vy_now:00000000 Vy_now
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:372    .bss.Vy_now:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:382    .bss.W_now:00000000 W_now
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:379    .bss.W_now:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:389    .bss.T_FR:00000000 T_FR
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:386    .bss.T_FR:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:396    .bss.T_FL:00000000 T_FL
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:393    .bss.T_FL:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:403    .bss.T_BR:00000000 T_BR
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:400    .bss.T_BR:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:410    .bss.T_BL:00000000 T_BL
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:407    .bss.T_BL:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:417    .bss.K:00000000 K
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:414    .bss.K:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:420    .text.ChassisMotor_Control:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:426    .text.ChassisMotor_Control:00000000 ChassisMotor_Control
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:897    .text.ChassisMotor_Control:000004e0 $d
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:916    .text.Chassis_move:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:922    .text.Chassis_move:00000000 Chassis_move
C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s:1018   .text.Chassis_move:0000009c $d

UNDEFINED SYMBOLS
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccnHGuC1.s 			page 23


DJIMotor_init
pid_set
Global
RampGenerator_SetAccel
DJIMotor_get_data
pid_cal
DJIMotor_set
RC_data
IMU_data
