ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"fifo.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "Algorithm/fifo.c"
  19              		.section	.text.fifo_s_create,"ax",%progbits
  20              		.align	1
  21              		.global	fifo_s_create
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	fifo_s_create:
  27              	.LFB147:
   1:Algorithm/fifo.c **** 
   2:Algorithm/fifo.c **** #include "fifo.h"
   3:Algorithm/fifo.c **** 
   4:Algorithm/fifo.c **** //******************************************************************************************
   5:Algorithm/fifo.c **** //!                     ASSERT MACRO
   6:Algorithm/fifo.c **** //******************************************************************************************
   7:Algorithm/fifo.c **** #ifndef ASSERT
   8:Algorithm/fifo.c **** 
   9:Algorithm/fifo.c **** #ifdef NDEBUG
  10:Algorithm/fifo.c **** #define ASSERT(x)
  11:Algorithm/fifo.c **** #else
  12:Algorithm/fifo.c **** #define ASSERT(x)                                     \
  13:Algorithm/fifo.c ****   do                                                  \
  14:Algorithm/fifo.c ****   {                                                   \
  15:Algorithm/fifo.c ****     if (!(x))                                         \
  16:Algorithm/fifo.c ****       printf("[assert]: %s, %d", __FILE__, __LINE__); \
  17:Algorithm/fifo.c ****     while (!(x))                                      \
  18:Algorithm/fifo.c ****       ;                                               \
  19:Algorithm/fifo.c ****   } while (0)
  20:Algorithm/fifo.c **** #endif
  21:Algorithm/fifo.c **** 
  22:Algorithm/fifo.c **** #endif // ASSERT
  23:Algorithm/fifo.c **** 
  24:Algorithm/fifo.c **** #ifdef USE_DYNAMIC_MEMORY
  25:Algorithm/fifo.c **** //******************************************************************************************
  26:Algorithm/fifo.c **** //
  27:Algorithm/fifo.c **** //! \brief  Create An New FIFO Instance(in Single Mode).
  28:Algorithm/fifo.c **** //! This function allocate enought room for N blocks fifo elements, then return the pointer
  29:Algorithm/fifo.c **** //! of FIFO.
  30:Algorithm/fifo.c **** //!
  31:Algorithm/fifo.c **** //! \param  [in] uint_cnt is count of fifo elements.
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 2


  32:Algorithm/fifo.c **** //! \retval The Pointer of FIFO instance, return NULL is failure to allocate memory.
  33:Algorithm/fifo.c **** //!
  34:Algorithm/fifo.c **** //! \note   -# You must enable USE_MEMORY_ALLOC macro and ensure your system have <stdlib.h>
  35:Algorithm/fifo.c **** //!            Header file before use this function.
  36:Algorithm/fifo.c **** //! \note   -# Functions FIFO_Create and FIFO_Destory must be used in pairs.
  37:Algorithm/fifo.c **** //!
  38:Algorithm/fifo.c **** //******************************************************************************************
  39:Algorithm/fifo.c **** fifo_s_t *fifo_s_create(int uint_cnt)
  40:Algorithm/fifo.c **** {
  28              		.loc 1 40 1
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 16
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 80B5     		push	{r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 84B0     		sub	sp, sp, #16
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 24
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 7860     		str	r0, [r7, #4]
  41:Algorithm/fifo.c ****   fifo_s_t *p_fifo = NULL;  //!< FIFO Pointer
  44              		.loc 1 41 13
  45 0008 0023     		movs	r3, #0
  46 000a FB60     		str	r3, [r7, #12]
  42:Algorithm/fifo.c ****   char *p_base_addr = NULL; //!< Memory Base Address
  47              		.loc 1 42 9
  48 000c 0023     		movs	r3, #0
  49 000e BB60     		str	r3, [r7, #8]
  43:Algorithm/fifo.c **** 
  44:Algorithm/fifo.c ****   //! Check input parameters.
  45:Algorithm/fifo.c ****   ASSERT(uint_cnt);
  46:Algorithm/fifo.c **** 
  47:Algorithm/fifo.c ****   //! Allocate Memory for pointer of new FIFO Control Block
  48:Algorithm/fifo.c ****   p_fifo = (fifo_s_t *)malloc(sizeof(fifo_s_t));
  50              		.loc 1 48 24
  51 0010 1820     		movs	r0, #24
  52 0012 FFF7FEFF 		bl	malloc
  53 0016 0346     		mov	r3, r0
  54 0018 FB60     		str	r3, [r7, #12]
  49:Algorithm/fifo.c ****   if (NULL == p_fifo)
  55              		.loc 1 49 6
  56 001a FB68     		ldr	r3, [r7, #12]
  57 001c 002B     		cmp	r3, #0
  58 001e 01D1     		bne	.L2
  50:Algorithm/fifo.c ****   {
  51:Algorithm/fifo.c ****     //! Allocate Failure, exit now
  52:Algorithm/fifo.c ****     return (NULL);
  59              		.loc 1 52 12
  60 0020 0023     		movs	r3, #0
  61 0022 13E0     		b	.L3
  62              	.L2:
  53:Algorithm/fifo.c ****   }
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 3


  54:Algorithm/fifo.c ****   //! Allocate Memory for pointer of new FIFO
  55:Algorithm/fifo.c ****   p_base_addr = malloc(uint_cnt);
  63              		.loc 1 55 17
  64 0024 7B68     		ldr	r3, [r7, #4]
  65 0026 1846     		mov	r0, r3
  66 0028 FFF7FEFF 		bl	malloc
  67 002c 0346     		mov	r3, r0
  68 002e BB60     		str	r3, [r7, #8]
  56:Algorithm/fifo.c ****   if (NULL == p_base_addr)
  69              		.loc 1 56 6
  70 0030 BB68     		ldr	r3, [r7, #8]
  71 0032 002B     		cmp	r3, #0
  72 0034 04D1     		bne	.L4
  57:Algorithm/fifo.c ****   {
  58:Algorithm/fifo.c ****     //! Allocate Failure, exit now
  59:Algorithm/fifo.c ****     free(p_fifo);
  73              		.loc 1 59 5
  74 0036 F868     		ldr	r0, [r7, #12]
  75 0038 FFF7FEFF 		bl	free
  60:Algorithm/fifo.c ****     return (NULL);
  76              		.loc 1 60 12
  77 003c 0023     		movs	r3, #0
  78 003e 05E0     		b	.L3
  79              	.L4:
  61:Algorithm/fifo.c ****   }
  62:Algorithm/fifo.c ****   //! Initialize General FIFO Module
  63:Algorithm/fifo.c ****   fifo_s_init(p_fifo, p_base_addr, uint_cnt);
  80              		.loc 1 63 3
  81 0040 7A68     		ldr	r2, [r7, #4]
  82 0042 B968     		ldr	r1, [r7, #8]
  83 0044 F868     		ldr	r0, [r7, #12]
  84 0046 FFF7FEFF 		bl	fifo_s_init
  64:Algorithm/fifo.c **** 
  65:Algorithm/fifo.c ****   return (p_fifo);
  85              		.loc 1 65 10
  86 004a FB68     		ldr	r3, [r7, #12]
  87              	.L3:
  66:Algorithm/fifo.c **** }
  88              		.loc 1 66 1
  89 004c 1846     		mov	r0, r3
  90 004e 1037     		adds	r7, r7, #16
  91              	.LCFI3:
  92              		.cfi_def_cfa_offset 8
  93 0050 BD46     		mov	sp, r7
  94              	.LCFI4:
  95              		.cfi_def_cfa_register 13
  96              		@ sp needed
  97 0052 80BD     		pop	{r7, pc}
  98              		.cfi_endproc
  99              	.LFE147:
 101              		.section	.text.fifo_s_destroy,"ax",%progbits
 102              		.align	1
 103              		.global	fifo_s_destroy
 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 108              	fifo_s_destroy:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 4


 109              	.LFB148:
  67:Algorithm/fifo.c **** 
  68:Algorithm/fifo.c **** //******************************************************************************************
  69:Algorithm/fifo.c **** //
  70:Algorithm/fifo.c **** //! \brief  Destory FIFO Instance(in Single Mode).
  71:Algorithm/fifo.c **** //!  This function release memory, then reinit the FIFO struct.
  72:Algorithm/fifo.c **** //!
  73:Algorithm/fifo.c **** //! \param  [in] p_fifo is the pointer of FIFO instance
  74:Algorithm/fifo.c **** //! \retval None.
  75:Algorithm/fifo.c **** //!
  76:Algorithm/fifo.c **** //! \note   -# You must enable USE_MEMORY_ALLOC macro and ensure your system have <stdlib.h>
  77:Algorithm/fifo.c **** //!            Header file before use this function.
  78:Algorithm/fifo.c **** //
  79:Algorithm/fifo.c **** //******************************************************************************************
  80:Algorithm/fifo.c **** void fifo_s_destroy(fifo_s_t *p_fifo)
  81:Algorithm/fifo.c **** {
 110              		.loc 1 81 1
 111              		.cfi_startproc
 112              		@ args = 0, pretend = 0, frame = 8
 113              		@ frame_needed = 1, uses_anonymous_args = 0
 114 0000 80B5     		push	{r7, lr}
 115              	.LCFI5:
 116              		.cfi_def_cfa_offset 8
 117              		.cfi_offset 7, -8
 118              		.cfi_offset 14, -4
 119 0002 82B0     		sub	sp, sp, #8
 120              	.LCFI6:
 121              		.cfi_def_cfa_offset 16
 122 0004 00AF     		add	r7, sp, #0
 123              	.LCFI7:
 124              		.cfi_def_cfa_register 7
 125 0006 7860     		str	r0, [r7, #4]
  82:Algorithm/fifo.c ****   //! Check input parameters.
  83:Algorithm/fifo.c ****   ASSERT(p_fifo);
  84:Algorithm/fifo.c ****   ASSERT(p_fifo->p_start_addr);
  85:Algorithm/fifo.c **** 
  86:Algorithm/fifo.c ****   //! Free FIFO memory
  87:Algorithm/fifo.c ****   free(p_fifo->p_start_addr);
 126              		.loc 1 87 14
 127 0008 7B68     		ldr	r3, [r7, #4]
 128 000a 1B68     		ldr	r3, [r3]
 129              		.loc 1 87 3
 130 000c 1846     		mov	r0, r3
 131 000e FFF7FEFF 		bl	free
  88:Algorithm/fifo.c ****   //! Free FIFO Control Block memory
  89:Algorithm/fifo.c ****   free(p_fifo);
 132              		.loc 1 89 3
 133 0012 7868     		ldr	r0, [r7, #4]
 134 0014 FFF7FEFF 		bl	free
  90:Algorithm/fifo.c **** 
  91:Algorithm/fifo.c ****   return; //!< Success
 135              		.loc 1 91 3
 136 0018 00BF     		nop
  92:Algorithm/fifo.c **** }
 137              		.loc 1 92 1
 138 001a 0837     		adds	r7, r7, #8
 139              	.LCFI8:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 5


 140              		.cfi_def_cfa_offset 8
 141 001c BD46     		mov	sp, r7
 142              	.LCFI9:
 143              		.cfi_def_cfa_register 13
 144              		@ sp needed
 145 001e 80BD     		pop	{r7, pc}
 146              		.cfi_endproc
 147              	.LFE148:
 149              		.section	.text.fifo_s_init,"ax",%progbits
 150              		.align	1
 151              		.global	fifo_s_init
 152              		.syntax unified
 153              		.thumb
 154              		.thumb_func
 156              	fifo_s_init:
 157              	.LFB149:
  93:Algorithm/fifo.c **** 
  94:Algorithm/fifo.c **** #endif // USE_DYNAMIC_MEMORY
  95:Algorithm/fifo.c **** 
  96:Algorithm/fifo.c **** //******************************************************************************************
  97:Algorithm/fifo.c **** //
  98:Algorithm/fifo.c **** //! \brief  Initialize an static FIFO struct(in single mode).
  99:Algorithm/fifo.c **** //!
 100:Algorithm/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO instance.
 101:Algorithm/fifo.c **** //! \param  [in] p_base_addr is the base address of pre-allocate memory, such as array.
 102:Algorithm/fifo.c **** //! \param  [in] uint_cnt is count of fifo elements.
 103:Algorithm/fifo.c **** //! \retval 0 if initialize successfully, otherwise return -1.
 104:Algorithm/fifo.c **** //
 105:Algorithm/fifo.c **** //******************************************************************************************
 106:Algorithm/fifo.c **** int fifo_s_init(fifo_s_t *p_fifo, void *p_base_addr, int uint_cnt)
 107:Algorithm/fifo.c **** {
 158              		.loc 1 107 1
 159              		.cfi_startproc
 160              		@ args = 0, pretend = 0, frame = 16
 161              		@ frame_needed = 1, uses_anonymous_args = 0
 162              		@ link register save eliminated.
 163 0000 80B4     		push	{r7}
 164              	.LCFI10:
 165              		.cfi_def_cfa_offset 4
 166              		.cfi_offset 7, -4
 167 0002 85B0     		sub	sp, sp, #20
 168              	.LCFI11:
 169              		.cfi_def_cfa_offset 24
 170 0004 00AF     		add	r7, sp, #0
 171              	.LCFI12:
 172              		.cfi_def_cfa_register 7
 173 0006 F860     		str	r0, [r7, #12]
 174 0008 B960     		str	r1, [r7, #8]
 175 000a 7A60     		str	r2, [r7, #4]
 108:Algorithm/fifo.c ****   //! Check input parameters.
 109:Algorithm/fifo.c ****   ASSERT(p_fifo);
 110:Algorithm/fifo.c ****   ASSERT(p_base_addr);
 111:Algorithm/fifo.c ****   ASSERT(uint_cnt);
 112:Algorithm/fifo.c **** 
 113:Algorithm/fifo.c ****   //! Initialize FIFO Control Block.
 114:Algorithm/fifo.c ****   p_fifo->p_start_addr = (char *)p_base_addr;
 176              		.loc 1 114 24
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 6


 177 000c FB68     		ldr	r3, [r7, #12]
 178 000e BA68     		ldr	r2, [r7, #8]
 179 0010 1A60     		str	r2, [r3]
 115:Algorithm/fifo.c ****   p_fifo->p_end_addr = (char *)p_base_addr + uint_cnt - 1;
 180              		.loc 1 115 55
 181 0012 7B68     		ldr	r3, [r7, #4]
 182 0014 013B     		subs	r3, r3, #1
 183 0016 BA68     		ldr	r2, [r7, #8]
 184 0018 1A44     		add	r2, r2, r3
 185              		.loc 1 115 22
 186 001a FB68     		ldr	r3, [r7, #12]
 187 001c 5A60     		str	r2, [r3, #4]
 116:Algorithm/fifo.c ****   p_fifo->free_num = uint_cnt;
 188              		.loc 1 116 20
 189 001e FB68     		ldr	r3, [r7, #12]
 190 0020 7A68     		ldr	r2, [r7, #4]
 191 0022 9A60     		str	r2, [r3, #8]
 117:Algorithm/fifo.c ****   p_fifo->used_num = 0;
 192              		.loc 1 117 20
 193 0024 FB68     		ldr	r3, [r7, #12]
 194 0026 0022     		movs	r2, #0
 195 0028 DA60     		str	r2, [r3, #12]
 118:Algorithm/fifo.c ****   p_fifo->p_read_addr = (char *)p_base_addr;
 196              		.loc 1 118 23
 197 002a FB68     		ldr	r3, [r7, #12]
 198 002c BA68     		ldr	r2, [r7, #8]
 199 002e 1A61     		str	r2, [r3, #16]
 119:Algorithm/fifo.c ****   p_fifo->p_write_addr = (char *)p_base_addr;
 200              		.loc 1 119 24
 201 0030 FB68     		ldr	r3, [r7, #12]
 202 0032 BA68     		ldr	r2, [r7, #8]
 203 0034 5A61     		str	r2, [r3, #20]
 120:Algorithm/fifo.c **** 
 121:Algorithm/fifo.c ****   return (0);
 204              		.loc 1 121 10
 205 0036 0023     		movs	r3, #0
 122:Algorithm/fifo.c **** }
 206              		.loc 1 122 1
 207 0038 1846     		mov	r0, r3
 208 003a 1437     		adds	r7, r7, #20
 209              	.LCFI13:
 210              		.cfi_def_cfa_offset 4
 211 003c BD46     		mov	sp, r7
 212              	.LCFI14:
 213              		.cfi_def_cfa_register 13
 214              		@ sp needed
 215 003e 5DF8047B 		ldr	r7, [sp], #4
 216              	.LCFI15:
 217              		.cfi_restore 7
 218              		.cfi_def_cfa_offset 0
 219 0042 7047     		bx	lr
 220              		.cfi_endproc
 221              	.LFE149:
 223              		.section	.text.fifo_s_put,"ax",%progbits
 224              		.align	1
 225              		.global	fifo_s_put
 226              		.syntax unified
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 7


 227              		.thumb
 228              		.thumb_func
 230              	fifo_s_put:
 231              	.LFB150:
 123:Algorithm/fifo.c **** 
 124:Algorithm/fifo.c **** //******************************************************************************************
 125:Algorithm/fifo.c **** //
 126:Algorithm/fifo.c **** //! \brief  Put an element into FIFO(in single mode).
 127:Algorithm/fifo.c **** //!
 128:Algorithm/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 129:Algorithm/fifo.c **** //! \param  [in]  element is the data element you want to put
 130:Algorithm/fifo.c **** //!
 131:Algorithm/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 132:Algorithm/fifo.c **** //
 133:Algorithm/fifo.c **** //******************************************************************************************
 134:Algorithm/fifo.c **** int fifo_s_put(fifo_s_t *p_fifo, char element)
 135:Algorithm/fifo.c **** {
 232              		.loc 1 135 1
 233              		.cfi_startproc
 234              		@ args = 0, pretend = 0, frame = 24
 235              		@ frame_needed = 1, uses_anonymous_args = 0
 236              		@ link register save eliminated.
 237 0000 90B4     		push	{r4, r7}
 238              	.LCFI16:
 239              		.cfi_def_cfa_offset 8
 240              		.cfi_offset 4, -8
 241              		.cfi_offset 7, -4
 242 0002 86B0     		sub	sp, sp, #24
 243              	.LCFI17:
 244              		.cfi_def_cfa_offset 32
 245 0004 00AF     		add	r7, sp, #0
 246              	.LCFI18:
 247              		.cfi_def_cfa_register 7
 248 0006 7860     		str	r0, [r7, #4]
 249 0008 0B46     		mov	r3, r1
 250 000a FB70     		strb	r3, [r7, #3]
 251              	.LBB74:
 252              	.LBB75:
 253              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.2.0
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     08. May 2019
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2019 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 8


  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 9


  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __COMPILER_BARRIER
 117:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __COMPILER_BARRIER()                   __ASM volatile("":::"memory")
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 120:Drivers/CMSIS/Include/cmsis_gcc.h **** /* #########################  Startup and Lowlevel Init  ######################## */
 121:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 122:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __PROGRAM_START
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Initializes data and bss sections
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details This default implementations initialized all data and additional bss
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            sections relying on .copy.table and .zero.table specified properly
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****            in the used linker script.
 129:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 130:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE __NO_RETURN void __cmsis_start(void)
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** {
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 10


 133:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern void _start(void) __NO_RETURN;
 134:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 135:Drivers/CMSIS/Include/cmsis_gcc.h ****   typedef struct {
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t const* src;
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t* dest;
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t  wlen;
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****   } __copy_table_t;
 140:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 141:Drivers/CMSIS/Include/cmsis_gcc.h ****   typedef struct {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t* dest;
 143:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t  wlen;
 144:Drivers/CMSIS/Include/cmsis_gcc.h ****   } __zero_table_t;
 145:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 146:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_start__;
 147:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_end__;
 148:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_start__;
 149:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_end__;
 150:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 151:Drivers/CMSIS/Include/cmsis_gcc.h ****   for (__copy_table_t const* pTable = &__copy_table_start__; pTable < &__copy_table_end__; ++pTable
 152:Drivers/CMSIS/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 153:Drivers/CMSIS/Include/cmsis_gcc.h ****       pTable->dest[i] = pTable->src[i];
 154:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 155:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 156:Drivers/CMSIS/Include/cmsis_gcc.h ****  
 157:Drivers/CMSIS/Include/cmsis_gcc.h ****   for (__zero_table_t const* pTable = &__zero_table_start__; pTable < &__zero_table_end__; ++pTable
 158:Drivers/CMSIS/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 159:Drivers/CMSIS/Include/cmsis_gcc.h ****       pTable->dest[i] = 0u;
 160:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 161:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 162:Drivers/CMSIS/Include/cmsis_gcc.h ****  
 163:Drivers/CMSIS/Include/cmsis_gcc.h ****   _start();
 164:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 165:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 166:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __PROGRAM_START           __cmsis_start
 167:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 168:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 169:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __INITIAL_SP
 170:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __INITIAL_SP              __StackTop
 171:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 172:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 173:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __STACK_LIMIT
 174:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __STACK_LIMIT             __StackLimit
 175:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 176:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 177:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE
 178:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __VECTOR_TABLE            __Vectors
 179:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 180:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 181:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE_ATTRIBUTE
 182:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __VECTOR_TABLE_ATTRIBUTE  __attribute((used, section(".vectors")))
 183:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 184:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 185:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 186:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 187:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 188:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 189:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 11


 190:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 191:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 192:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 193:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 194:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 195:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 196:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 197:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 198:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 199:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 200:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 201:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 202:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 203:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 204:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 205:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 206:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 207:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 208:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 209:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 211:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 212:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 213:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 214:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register
 215:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
 216:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Control Register value
 217:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 218:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_CONTROL(void)
 219:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 220:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 221:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 222:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
 223:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 224:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 225:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 226:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 227:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 228:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 229:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register (non-secure)
 230:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the non-secure Control Register when in secure mode.
 231:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               non-secure Control Register value
 232:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 233:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_CONTROL_NS(void)
 234:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 235:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 236:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 237:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control_ns" : "=r" (result) );
 238:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 239:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 240:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 241:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 242:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 243:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 244:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register
 245:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
 246:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 12


 247:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 248:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_CONTROL(uint32_t control)
 249:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 250:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
 251:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 252:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 253:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 254:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 255:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 256:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register (non-secure)
 257:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the non-secure Control Register when in secure state.
 258:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 259:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 260:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_CONTROL_NS(uint32_t control)
 261:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 262:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control_ns, %0" : : "r" (control) : "memory");
 263:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 264:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 265:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 266:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 267:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 268:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 269:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 270:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               IPSR Register value
 271:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 272:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_IPSR(void)
 273:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 274:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 275:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 276:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 277:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 278:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 279:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 280:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 281:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 282:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get APSR Register
 283:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the APSR Register.
 284:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               APSR Register value
 285:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 286:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_APSR(void)
 287:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 288:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 289:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 290:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, apsr" : "=r" (result) );
 291:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 292:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 293:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 294:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 295:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 296:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get xPSR Register
 297:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the xPSR Register.
 298:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               xPSR Register value
 299:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 300:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_xPSR(void)
 301:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 302:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 303:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 13


 304:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, xpsr" : "=r" (result) );
 305:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 306:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 307:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 308:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 309:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 310:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer
 311:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Process Stack Pointer (PSP).
 312:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               PSP Register value
 313:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 314:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PSP(void)
 315:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 316:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 317:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 318:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp"  : "=r" (result) );
 319:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 320:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 321:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 322:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 323:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 324:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 325:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer (non-secure)
 326:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Process Stack Pointer (PSP) when in secure s
 327:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               PSP Register value
 328:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 329:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PSP_NS(void)
 330:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 331:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 332:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 333:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp_ns"  : "=r" (result) );
 334:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 335:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 336:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 337:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 338:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 339:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 340:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer
 341:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Process Stack Pointer (PSP).
 342:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
 343:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 344:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PSP(uint32_t topOfProcStack)
 345:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 346:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psp, %0" : : "r" (topOfProcStack) : );
 347:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 348:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 349:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 350:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 351:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 352:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer (non-secure)
 353:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Process Stack Pointer (PSP) when in secure sta
 354:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
 355:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 356:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_PSP_NS(uint32_t topOfProcStack)
 357:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 358:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psp_ns, %0" : : "r" (topOfProcStack) : );
 359:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 360:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 14


 361:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 362:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 363:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 364:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer
 365:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Main Stack Pointer (MSP).
 366:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               MSP Register value
 367:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 368:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_MSP(void)
 369:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 370:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 371:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 372:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp" : "=r" (result) );
 373:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 374:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 375:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 376:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 377:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 378:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 379:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer (non-secure)
 380:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Main Stack Pointer (MSP) when in secure stat
 381:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               MSP Register value
 382:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 383:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_MSP_NS(void)
 384:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 385:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 386:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 387:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp_ns" : "=r" (result) );
 388:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 389:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 390:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 391:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 392:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 393:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 394:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer
 395:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Main Stack Pointer (MSP).
 396:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfMainStack  Main Stack Pointer value to set
 397:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 398:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_MSP(uint32_t topOfMainStack)
 399:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 400:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msp, %0" : : "r" (topOfMainStack) : );
 401:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 402:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 403:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 404:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 405:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 406:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer (non-secure)
 407:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Main Stack Pointer (MSP) when in secure state.
 408:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfMainStack  Main Stack Pointer value to set
 409:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 410:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_MSP_NS(uint32_t topOfMainStack)
 411:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 412:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msp_ns, %0" : : "r" (topOfMainStack) : );
 413:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 414:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 415:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 416:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 417:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 15


 418:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 419:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Stack Pointer (non-secure)
 420:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Stack Pointer (SP) when in secure state.
 421:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               SP Register value
 422:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 423:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_SP_NS(void)
 424:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 425:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 426:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 427:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, sp_ns" : "=r" (result) );
 428:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 429:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 430:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 431:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 432:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 433:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Stack Pointer (non-secure)
 434:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Stack Pointer (SP) when in secure state.
 435:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfStack  Stack Pointer value to set
 436:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 437:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_SP_NS(uint32_t topOfStack)
 438:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 439:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR sp_ns, %0" : : "r" (topOfStack) : );
 440:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 441:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 442:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 443:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 444:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 445:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Priority Mask
 446:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current state of the priority mask bit from the Priority Mask Register.
 447:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Priority Mask value
 448:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 449:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PRIMASK(void)
 450:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 451:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 452:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, primask" : "=r" (result) :: "memory");
 254              		.loc 2 453 3
 255              		.syntax unified
 256              	@ 453 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 257 000c EFF31083 		MRS r3, primask
 258              	@ 0 "" 2
 259              		.thumb
 260              		.syntax unified
 261 0010 7B61     		str	r3, [r7, #20]
 454:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 262              		.loc 2 454 9
 263 0012 7B69     		ldr	r3, [r7, #20]
 264              	.LBE75:
 265              	.LBE74:
 136:Algorithm/fifo.c ****   FIFO_CPU_SR_TYPE cpu_sr;
 137:Algorithm/fifo.c **** 
 138:Algorithm/fifo.c ****   //! Check input parameters.
 139:Algorithm/fifo.c ****   ASSERT(p_fifo);
 140:Algorithm/fifo.c **** 
 141:Algorithm/fifo.c ****   //Interrupt off
 142:Algorithm/fifo.c ****   cpu_sr = FIFO_GET_CPU_SR();
 266              		.loc 1 142 12
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 16


 267 0014 1C46     		mov	r4, r3
 268              	.LBB76:
 269              	.LBB77:
 209:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 270              		.loc 2 209 3
 271              		.syntax unified
 272              	@ 209 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 273 0016 72B6     		cpsid i
 274              	@ 0 "" 2
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 275              		.loc 2 210 1
 276              		.thumb
 277              		.syntax unified
 278 0018 00BF     		nop
 279              	.LBE77:
 280              	.LBE76:
 143:Algorithm/fifo.c ****   FIFO_ENTER_CRITICAL();
 144:Algorithm/fifo.c **** 
 145:Algorithm/fifo.c ****   if (0 == p_fifo->free_num)
 281              		.loc 1 145 18
 282 001a 7B68     		ldr	r3, [r7, #4]
 283 001c 9B68     		ldr	r3, [r3, #8]
 284              		.loc 1 145 6
 285 001e 002B     		cmp	r3, #0
 286 0020 23D0     		beq	.L16
 146:Algorithm/fifo.c ****   {
 147:Algorithm/fifo.c ****     //! Error, FIFO is full!
 148:Algorithm/fifo.c ****       goto end;
 149:Algorithm/fifo.c ****   }
 150:Algorithm/fifo.c **** 
 151:Algorithm/fifo.c ****   if (p_fifo->p_write_addr > p_fifo->p_end_addr)
 287              		.loc 1 151 13
 288 0022 7B68     		ldr	r3, [r7, #4]
 289 0024 5A69     		ldr	r2, [r3, #20]
 290              		.loc 1 151 36
 291 0026 7B68     		ldr	r3, [r7, #4]
 292 0028 5B68     		ldr	r3, [r3, #4]
 293              		.loc 1 151 6
 294 002a 9A42     		cmp	r2, r3
 295 002c 03D9     		bls	.L13
 152:Algorithm/fifo.c ****     p_fifo->p_write_addr = p_fifo->p_start_addr;
 296              		.loc 1 152 34
 297 002e 7B68     		ldr	r3, [r7, #4]
 298 0030 1A68     		ldr	r2, [r3]
 299              		.loc 1 152 26
 300 0032 7B68     		ldr	r3, [r7, #4]
 301 0034 5A61     		str	r2, [r3, #20]
 302              	.L13:
 153:Algorithm/fifo.c **** 
 154:Algorithm/fifo.c ****   *(p_fifo->p_write_addr) = element;
 303              		.loc 1 154 11
 304 0036 7B68     		ldr	r3, [r7, #4]
 305 0038 5B69     		ldr	r3, [r3, #20]
 306              		.loc 1 154 27
 307 003a FA78     		ldrb	r2, [r7, #3]
 308 003c 1A70     		strb	r2, [r3]
 155:Algorithm/fifo.c ****   p_fifo->p_write_addr++;
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 17


 309              		.loc 1 155 9
 310 003e 7B68     		ldr	r3, [r7, #4]
 311 0040 5B69     		ldr	r3, [r3, #20]
 312              		.loc 1 155 23
 313 0042 5A1C     		adds	r2, r3, #1
 314 0044 7B68     		ldr	r3, [r7, #4]
 315 0046 5A61     		str	r2, [r3, #20]
 156:Algorithm/fifo.c ****   p_fifo->free_num--;
 316              		.loc 1 156 9
 317 0048 7B68     		ldr	r3, [r7, #4]
 318 004a 9B68     		ldr	r3, [r3, #8]
 319              		.loc 1 156 19
 320 004c 5A1E     		subs	r2, r3, #1
 321 004e 7B68     		ldr	r3, [r7, #4]
 322 0050 9A60     		str	r2, [r3, #8]
 157:Algorithm/fifo.c ****   p_fifo->used_num++;
 323              		.loc 1 157 9
 324 0052 7B68     		ldr	r3, [r7, #4]
 325 0054 DB68     		ldr	r3, [r3, #12]
 326              		.loc 1 157 19
 327 0056 5A1C     		adds	r2, r3, #1
 328 0058 7B68     		ldr	r3, [r7, #4]
 329 005a DA60     		str	r2, [r3, #12]
 330 005c 3C61     		str	r4, [r7, #16]
 331              	.LBB78:
 332              	.LBB79:
 455:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 456:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 457:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 458:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 459:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 460:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Priority Mask (non-secure)
 461:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current state of the non-secure priority mask bit from the Priority Mask Reg
 462:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Priority Mask value
 463:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 464:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PRIMASK_NS(void)
 465:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 466:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 467:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 468:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, primask_ns" : "=r" (result) :: "memory");
 469:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 470:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 471:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 472:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 473:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 474:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 475:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Priority Mask
 476:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Priority Mask Register.
 477:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    priMask  Priority Mask
 478:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 479:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PRIMASK(uint32_t priMask)
 480:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 481:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR primask, %0" : : "r" (priMask) : "memory");
 333              		.loc 2 481 3
 334 005e 3B69     		ldr	r3, [r7, #16]
 335              		.syntax unified
 336              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 18


 337 0060 83F31088 		MSR primask, r3
 338              	@ 0 "" 2
 482:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 339              		.loc 2 482 1
 340              		.thumb
 341              		.syntax unified
 342 0064 00BF     		nop
 343              	.LBE79:
 344              	.LBE78:
 158:Algorithm/fifo.c **** 
 159:Algorithm/fifo.c ****   //Interrupt On
 160:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 161:Algorithm/fifo.c **** 
 162:Algorithm/fifo.c ****   return (0);
 345              		.loc 1 162 10
 346 0066 0023     		movs	r3, #0
 347 0068 07E0     		b	.L14
 348              	.L16:
 148:Algorithm/fifo.c ****   }
 349              		.loc 1 148 7
 350 006a 00BF     		nop
 351              	.L12:
 352 006c FC60     		str	r4, [r7, #12]
 353              	.LBB80:
 354              	.LBB81:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 355              		.loc 2 481 3
 356 006e FB68     		ldr	r3, [r7, #12]
 357              		.syntax unified
 358              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 359 0070 83F31088 		MSR primask, r3
 360              	@ 0 "" 2
 361              		.loc 2 482 1
 362              		.thumb
 363              		.syntax unified
 364 0074 00BF     		nop
 365              	.LBE81:
 366              	.LBE80:
 163:Algorithm/fifo.c **** end:
 164:Algorithm/fifo.c ****   //Interrupt On
 165:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 166:Algorithm/fifo.c ****   return (-1);
 367              		.loc 1 166 10
 368 0076 4FF0FF33 		mov	r3, #-1
 369              	.L14:
 167:Algorithm/fifo.c **** }
 370              		.loc 1 167 1
 371 007a 1846     		mov	r0, r3
 372 007c 1837     		adds	r7, r7, #24
 373              	.LCFI19:
 374              		.cfi_def_cfa_offset 8
 375 007e BD46     		mov	sp, r7
 376              	.LCFI20:
 377              		.cfi_def_cfa_register 13
 378              		@ sp needed
 379 0080 90BC     		pop	{r4, r7}
 380              	.LCFI21:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 19


 381              		.cfi_restore 7
 382              		.cfi_restore 4
 383              		.cfi_def_cfa_offset 0
 384 0082 7047     		bx	lr
 385              		.cfi_endproc
 386              	.LFE150:
 388              		.section	.text.fifo_s_puts,"ax",%progbits
 389              		.align	1
 390              		.global	fifo_s_puts
 391              		.syntax unified
 392              		.thumb
 393              		.thumb_func
 395              	fifo_s_puts:
 396              	.LFB151:
 168:Algorithm/fifo.c **** 
 169:Algorithm/fifo.c **** //******************************************************************************************
 170:Algorithm/fifo.c **** //
 171:Algorithm/fifo.c **** //! \brief  Put some elements into FIFO(in single mode).
 172:Algorithm/fifo.c **** //!
 173:Algorithm/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 174:Algorithm/fifo.c **** //! \param  [in]  p_source is the data element you want to put
 175:Algorithm/fifo.c **** //! \param  [in]  the number of elements
 176:Algorithm/fifo.c **** //! \retval the number of really write data, otherwise return -1.
 177:Algorithm/fifo.c **** //
 178:Algorithm/fifo.c **** //******************************************************************************************
 179:Algorithm/fifo.c **** int fifo_s_puts(fifo_s_t *p_fifo, char *p_source, int len)
 180:Algorithm/fifo.c **** {
 397              		.loc 1 180 1
 398              		.cfi_startproc
 399              		@ args = 0, pretend = 0, frame = 40
 400              		@ frame_needed = 1, uses_anonymous_args = 0
 401 0000 90B5     		push	{r4, r7, lr}
 402              	.LCFI22:
 403              		.cfi_def_cfa_offset 12
 404              		.cfi_offset 4, -12
 405              		.cfi_offset 7, -8
 406              		.cfi_offset 14, -4
 407 0002 8BB0     		sub	sp, sp, #44
 408              	.LCFI23:
 409              		.cfi_def_cfa_offset 56
 410 0004 00AF     		add	r7, sp, #0
 411              	.LCFI24:
 412              		.cfi_def_cfa_register 7
 413 0006 F860     		str	r0, [r7, #12]
 414 0008 B960     		str	r1, [r7, #8]
 415 000a 7A60     		str	r2, [r7, #4]
 416              	.LBB82:
 417              	.LBB83:
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 418              		.loc 2 453 3
 419              		.syntax unified
 420              	@ 453 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 421 000c EFF31083 		MRS r3, primask
 422              	@ 0 "" 2
 423              		.thumb
 424              		.syntax unified
 425 0010 BB61     		str	r3, [r7, #24]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 20


 454:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 426              		.loc 2 454 9
 427 0012 BB69     		ldr	r3, [r7, #24]
 428              	.LBE83:
 429              	.LBE82:
 181:Algorithm/fifo.c ****   FIFO_CPU_SR_TYPE cpu_sr;
 182:Algorithm/fifo.c **** 
 183:Algorithm/fifo.c ****   int retval;
 184:Algorithm/fifo.c ****   int len_to_end;
 185:Algorithm/fifo.c ****   int len_from_start;
 186:Algorithm/fifo.c **** 
 187:Algorithm/fifo.c ****   ASSERT(p_fifo);
 188:Algorithm/fifo.c ****   
 189:Algorithm/fifo.c ****   //Interrupt Off;
 190:Algorithm/fifo.c ****   cpu_sr = FIFO_GET_CPU_SR();
 430              		.loc 1 190 12
 431 0014 1C46     		mov	r4, r3
 432              	.LBB84:
 433              	.LBB85:
 209:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 434              		.loc 2 209 3
 435              		.syntax unified
 436              	@ 209 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 437 0016 72B6     		cpsid i
 438              	@ 0 "" 2
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 439              		.loc 2 210 1
 440              		.thumb
 441              		.syntax unified
 442 0018 00BF     		nop
 443              	.LBE85:
 444              	.LBE84:
 191:Algorithm/fifo.c ****   FIFO_ENTER_CRITICAL();
 192:Algorithm/fifo.c **** 
 193:Algorithm/fifo.c ****   if (NULL == p_source)
 445              		.loc 1 193 6
 446 001a BB68     		ldr	r3, [r7, #8]
 447 001c 002B     		cmp	r3, #0
 448 001e 5ED0     		beq	.L26
 194:Algorithm/fifo.c ****   {
 195:Algorithm/fifo.c ****       goto end;
 196:Algorithm/fifo.c ****   }
 197:Algorithm/fifo.c **** 
 198:Algorithm/fifo.c ****   if (0 == p_fifo->free_num)
 449              		.loc 1 198 18
 450 0020 FB68     		ldr	r3, [r7, #12]
 451 0022 9B68     		ldr	r3, [r3, #8]
 452              		.loc 1 198 6
 453 0024 002B     		cmp	r3, #0
 454 0026 5CD0     		beq	.L27
 199:Algorithm/fifo.c ****   {
 200:Algorithm/fifo.c ****       goto end;
 201:Algorithm/fifo.c ****   }
 202:Algorithm/fifo.c **** 
 203:Algorithm/fifo.c ****   if (p_fifo->p_write_addr > p_fifo->p_end_addr)
 455              		.loc 1 203 13
 456 0028 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 21


 457 002a 5A69     		ldr	r2, [r3, #20]
 458              		.loc 1 203 36
 459 002c FB68     		ldr	r3, [r7, #12]
 460 002e 5B68     		ldr	r3, [r3, #4]
 461              		.loc 1 203 6
 462 0030 9A42     		cmp	r2, r3
 463 0032 03D9     		bls	.L22
 204:Algorithm/fifo.c ****     p_fifo->p_write_addr = p_fifo->p_start_addr;
 464              		.loc 1 204 34
 465 0034 FB68     		ldr	r3, [r7, #12]
 466 0036 1A68     		ldr	r2, [r3]
 467              		.loc 1 204 26
 468 0038 FB68     		ldr	r3, [r7, #12]
 469 003a 5A61     		str	r2, [r3, #20]
 470              	.L22:
 205:Algorithm/fifo.c **** 
 206:Algorithm/fifo.c ****   len = (len < p_fifo->free_num) ? len : p_fifo->free_num;
 471              		.loc 1 206 22
 472 003c FB68     		ldr	r3, [r7, #12]
 473 003e 9B68     		ldr	r3, [r3, #8]
 474              		.loc 1 206 7
 475 0040 7A68     		ldr	r2, [r7, #4]
 476 0042 9342     		cmp	r3, r2
 477 0044 A8BF     		it	ge
 478 0046 1346     		movge	r3, r2
 479 0048 7B60     		str	r3, [r7, #4]
 207:Algorithm/fifo.c ****   len_to_end = p_fifo->p_end_addr - p_fifo->p_write_addr + 1;
 480              		.loc 1 207 22
 481 004a FB68     		ldr	r3, [r7, #12]
 482 004c 5A68     		ldr	r2, [r3, #4]
 483              		.loc 1 207 43
 484 004e FB68     		ldr	r3, [r7, #12]
 485 0050 5B69     		ldr	r3, [r3, #20]
 486              		.loc 1 207 35
 487 0052 D31A     		subs	r3, r2, r3
 488              		.loc 1 207 14
 489 0054 0133     		adds	r3, r3, #1
 490 0056 7B62     		str	r3, [r7, #36]
 208:Algorithm/fifo.c **** 
 209:Algorithm/fifo.c ****   if (len_to_end >= len) //no rollback
 491              		.loc 1 209 6
 492 0058 7A6A     		ldr	r2, [r7, #36]
 493 005a 7B68     		ldr	r3, [r7, #4]
 494 005c 9A42     		cmp	r2, r3
 495 005e 0FDB     		blt	.L23
 210:Algorithm/fifo.c ****   {
 211:Algorithm/fifo.c ****     len_to_end = len;
 496              		.loc 1 211 16
 497 0060 7B68     		ldr	r3, [r7, #4]
 498 0062 7B62     		str	r3, [r7, #36]
 212:Algorithm/fifo.c ****     memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 499              		.loc 1 212 18
 500 0064 FB68     		ldr	r3, [r7, #12]
 501 0066 5B69     		ldr	r3, [r3, #20]
 502              		.loc 1 212 5
 503 0068 7A6A     		ldr	r2, [r7, #36]
 504 006a B968     		ldr	r1, [r7, #8]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 22


 505 006c 1846     		mov	r0, r3
 506 006e FFF7FEFF 		bl	memcpy
 213:Algorithm/fifo.c ****     p_fifo->p_write_addr += len_to_end;
 507              		.loc 1 213 11
 508 0072 FB68     		ldr	r3, [r7, #12]
 509 0074 5A69     		ldr	r2, [r3, #20]
 510              		.loc 1 213 26
 511 0076 7B6A     		ldr	r3, [r7, #36]
 512 0078 1A44     		add	r2, r2, r3
 513 007a FB68     		ldr	r3, [r7, #12]
 514 007c 5A61     		str	r2, [r3, #20]
 515 007e 19E0     		b	.L24
 516              	.L23:
 214:Algorithm/fifo.c ****   }
 215:Algorithm/fifo.c ****   else //rollback
 216:Algorithm/fifo.c ****   {
 217:Algorithm/fifo.c ****     len_from_start = len - len_to_end;
 517              		.loc 1 217 20
 518 0080 7A68     		ldr	r2, [r7, #4]
 519 0082 7B6A     		ldr	r3, [r7, #36]
 520 0084 D31A     		subs	r3, r2, r3
 521 0086 3B62     		str	r3, [r7, #32]
 218:Algorithm/fifo.c ****     memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 522              		.loc 1 218 18
 523 0088 FB68     		ldr	r3, [r7, #12]
 524 008a 5B69     		ldr	r3, [r3, #20]
 525              		.loc 1 218 5
 526 008c 7A6A     		ldr	r2, [r7, #36]
 527 008e B968     		ldr	r1, [r7, #8]
 528 0090 1846     		mov	r0, r3
 529 0092 FFF7FEFF 		bl	memcpy
 219:Algorithm/fifo.c ****     memcpy(p_fifo->p_start_addr, p_source + len_to_end, len_from_start);
 530              		.loc 1 219 18
 531 0096 FB68     		ldr	r3, [r7, #12]
 532 0098 1868     		ldr	r0, [r3]
 533              		.loc 1 219 5
 534 009a 7B6A     		ldr	r3, [r7, #36]
 535              		.loc 1 219 43
 536 009c BA68     		ldr	r2, [r7, #8]
 537 009e 1344     		add	r3, r3, r2
 538              		.loc 1 219 5
 539 00a0 3A6A     		ldr	r2, [r7, #32]
 540 00a2 1946     		mov	r1, r3
 541 00a4 FFF7FEFF 		bl	memcpy
 220:Algorithm/fifo.c ****     p_fifo->p_write_addr = p_fifo->p_start_addr + len_from_start;
 542              		.loc 1 220 34
 543 00a8 FB68     		ldr	r3, [r7, #12]
 544 00aa 1A68     		ldr	r2, [r3]
 545              		.loc 1 220 49
 546 00ac 3B6A     		ldr	r3, [r7, #32]
 547 00ae 1A44     		add	r2, r2, r3
 548              		.loc 1 220 26
 549 00b0 FB68     		ldr	r3, [r7, #12]
 550 00b2 5A61     		str	r2, [r3, #20]
 551              	.L24:
 221:Algorithm/fifo.c ****   }
 222:Algorithm/fifo.c **** 
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 23


 223:Algorithm/fifo.c ****   p_fifo->free_num -= len;
 552              		.loc 1 223 9
 553 00b4 FB68     		ldr	r3, [r7, #12]
 554 00b6 9A68     		ldr	r2, [r3, #8]
 555              		.loc 1 223 20
 556 00b8 7B68     		ldr	r3, [r7, #4]
 557 00ba D21A     		subs	r2, r2, r3
 558 00bc FB68     		ldr	r3, [r7, #12]
 559 00be 9A60     		str	r2, [r3, #8]
 224:Algorithm/fifo.c ****   p_fifo->used_num += len;
 560              		.loc 1 224 9
 561 00c0 FB68     		ldr	r3, [r7, #12]
 562 00c2 DA68     		ldr	r2, [r3, #12]
 563              		.loc 1 224 20
 564 00c4 7B68     		ldr	r3, [r7, #4]
 565 00c6 1A44     		add	r2, r2, r3
 566 00c8 FB68     		ldr	r3, [r7, #12]
 567 00ca DA60     		str	r2, [r3, #12]
 225:Algorithm/fifo.c ****   retval = len;
 568              		.loc 1 225 10
 569 00cc 7B68     		ldr	r3, [r7, #4]
 570 00ce FB61     		str	r3, [r7, #28]
 571 00d0 7C61     		str	r4, [r7, #20]
 572              	.LBB86:
 573              	.LBB87:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 574              		.loc 2 481 3
 575 00d2 7B69     		ldr	r3, [r7, #20]
 576              		.syntax unified
 577              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 578 00d4 83F31088 		MSR primask, r3
 579              	@ 0 "" 2
 580              		.loc 2 482 1
 581              		.thumb
 582              		.syntax unified
 583 00d8 00BF     		nop
 584              	.LBE87:
 585              	.LBE86:
 226:Algorithm/fifo.c **** 
 227:Algorithm/fifo.c ****   //Interrupt On
 228:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 229:Algorithm/fifo.c **** 
 230:Algorithm/fifo.c ****   return retval;
 586              		.loc 1 230 10
 587 00da FB69     		ldr	r3, [r7, #28]
 588 00dc 09E0     		b	.L25
 589              	.L26:
 195:Algorithm/fifo.c ****   }
 590              		.loc 1 195 7
 591 00de 00BF     		nop
 592 00e0 00E0     		b	.L20
 593              	.L27:
 200:Algorithm/fifo.c ****   }
 594              		.loc 1 200 7
 595 00e2 00BF     		nop
 596              	.L20:
 597 00e4 3C61     		str	r4, [r7, #16]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 24


 598              	.LBB88:
 599              	.LBB89:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 600              		.loc 2 481 3
 601 00e6 3B69     		ldr	r3, [r7, #16]
 602              		.syntax unified
 603              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 604 00e8 83F31088 		MSR primask, r3
 605              	@ 0 "" 2
 606              		.loc 2 482 1
 607              		.thumb
 608              		.syntax unified
 609 00ec 00BF     		nop
 610              	.LBE89:
 611              	.LBE88:
 231:Algorithm/fifo.c **** end:
 232:Algorithm/fifo.c ****   //Interrupt On
 233:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 234:Algorithm/fifo.c ****   return (-1);
 612              		.loc 1 234 10
 613 00ee 4FF0FF33 		mov	r3, #-1
 614              	.L25:
 235:Algorithm/fifo.c **** }
 615              		.loc 1 235 1
 616 00f2 1846     		mov	r0, r3
 617 00f4 2C37     		adds	r7, r7, #44
 618              	.LCFI25:
 619              		.cfi_def_cfa_offset 12
 620 00f6 BD46     		mov	sp, r7
 621              	.LCFI26:
 622              		.cfi_def_cfa_register 13
 623              		@ sp needed
 624 00f8 90BD     		pop	{r4, r7, pc}
 625              		.cfi_endproc
 626              	.LFE151:
 628              		.section	.text.fifo_s_puts_noprotect,"ax",%progbits
 629              		.align	1
 630              		.global	fifo_s_puts_noprotect
 631              		.syntax unified
 632              		.thumb
 633              		.thumb_func
 635              	fifo_s_puts_noprotect:
 636              	.LFB152:
 236:Algorithm/fifo.c **** 
 237:Algorithm/fifo.c **** //******************************************************************************************
 238:Algorithm/fifo.c **** //
 239:Algorithm/fifo.c **** //! \brief  Put some elements into FIFO, ingnore the interrupt
 240:Algorithm/fifo.c **** //!
 241:Algorithm/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 242:Algorithm/fifo.c **** //! \param  [in]  p_source is the data element you want to put
 243:Algorithm/fifo.c **** //! \param  [in]  the number of elements
 244:Algorithm/fifo.c **** //! \retval the number of really write data, otherwise return -1.
 245:Algorithm/fifo.c **** //
 246:Algorithm/fifo.c **** //******************************************************************************************
 247:Algorithm/fifo.c **** int fifo_s_puts_noprotect(fifo_s_t *p_fifo, char *p_source, int len)
 248:Algorithm/fifo.c **** {
 637              		.loc 1 248 1
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 25


 638              		.cfi_startproc
 639              		@ args = 0, pretend = 0, frame = 32
 640              		@ frame_needed = 1, uses_anonymous_args = 0
 641 0000 80B5     		push	{r7, lr}
 642              	.LCFI27:
 643              		.cfi_def_cfa_offset 8
 644              		.cfi_offset 7, -8
 645              		.cfi_offset 14, -4
 646 0002 88B0     		sub	sp, sp, #32
 647              	.LCFI28:
 648              		.cfi_def_cfa_offset 40
 649 0004 00AF     		add	r7, sp, #0
 650              	.LCFI29:
 651              		.cfi_def_cfa_register 7
 652 0006 F860     		str	r0, [r7, #12]
 653 0008 B960     		str	r1, [r7, #8]
 654 000a 7A60     		str	r2, [r7, #4]
 249:Algorithm/fifo.c ****   int retval;
 250:Algorithm/fifo.c ****   int len_to_end;
 251:Algorithm/fifo.c ****   int len_from_start;
 252:Algorithm/fifo.c **** 
 253:Algorithm/fifo.c ****   ASSERT(p_fifo);
 254:Algorithm/fifo.c **** 
 255:Algorithm/fifo.c ****   if (NULL == p_source)
 655              		.loc 1 255 6
 656 000c BB68     		ldr	r3, [r7, #8]
 657 000e 002B     		cmp	r3, #0
 658 0010 02D1     		bne	.L29
 256:Algorithm/fifo.c ****     return -1;
 659              		.loc 1 256 12
 660 0012 4FF0FF33 		mov	r3, #-1
 661 0016 5AE0     		b	.L30
 662              	.L29:
 257:Algorithm/fifo.c **** 
 258:Algorithm/fifo.c ****   if (0 == p_fifo->free_num)
 663              		.loc 1 258 18
 664 0018 FB68     		ldr	r3, [r7, #12]
 665 001a 9B68     		ldr	r3, [r3, #8]
 666              		.loc 1 258 6
 667 001c 002B     		cmp	r3, #0
 668 001e 01D1     		bne	.L31
 259:Algorithm/fifo.c ****     return 0;
 669              		.loc 1 259 12
 670 0020 0023     		movs	r3, #0
 671 0022 54E0     		b	.L30
 672              	.L31:
 260:Algorithm/fifo.c **** 
 261:Algorithm/fifo.c ****   if (p_fifo->p_write_addr > p_fifo->p_end_addr)
 673              		.loc 1 261 13
 674 0024 FB68     		ldr	r3, [r7, #12]
 675 0026 5A69     		ldr	r2, [r3, #20]
 676              		.loc 1 261 36
 677 0028 FB68     		ldr	r3, [r7, #12]
 678 002a 5B68     		ldr	r3, [r3, #4]
 679              		.loc 1 261 6
 680 002c 9A42     		cmp	r2, r3
 681 002e 03D9     		bls	.L32
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 26


 262:Algorithm/fifo.c ****     p_fifo->p_write_addr = p_fifo->p_start_addr;
 682              		.loc 1 262 34
 683 0030 FB68     		ldr	r3, [r7, #12]
 684 0032 1A68     		ldr	r2, [r3]
 685              		.loc 1 262 26
 686 0034 FB68     		ldr	r3, [r7, #12]
 687 0036 5A61     		str	r2, [r3, #20]
 688              	.L32:
 263:Algorithm/fifo.c **** 
 264:Algorithm/fifo.c ****   len = (len < p_fifo->free_num) ? len : p_fifo->free_num;
 689              		.loc 1 264 22
 690 0038 FB68     		ldr	r3, [r7, #12]
 691 003a 9B68     		ldr	r3, [r3, #8]
 692              		.loc 1 264 7
 693 003c 7A68     		ldr	r2, [r7, #4]
 694 003e 9342     		cmp	r3, r2
 695 0040 A8BF     		it	ge
 696 0042 1346     		movge	r3, r2
 697 0044 7B60     		str	r3, [r7, #4]
 265:Algorithm/fifo.c ****   len_to_end = p_fifo->p_end_addr - p_fifo->p_write_addr + 1;
 698              		.loc 1 265 22
 699 0046 FB68     		ldr	r3, [r7, #12]
 700 0048 5A68     		ldr	r2, [r3, #4]
 701              		.loc 1 265 43
 702 004a FB68     		ldr	r3, [r7, #12]
 703 004c 5B69     		ldr	r3, [r3, #20]
 704              		.loc 1 265 35
 705 004e D31A     		subs	r3, r2, r3
 706              		.loc 1 265 14
 707 0050 0133     		adds	r3, r3, #1
 708 0052 FB61     		str	r3, [r7, #28]
 266:Algorithm/fifo.c **** 
 267:Algorithm/fifo.c ****   if (len_to_end >= len) //no rollback
 709              		.loc 1 267 6
 710 0054 FA69     		ldr	r2, [r7, #28]
 711 0056 7B68     		ldr	r3, [r7, #4]
 712 0058 9A42     		cmp	r2, r3
 713 005a 0FDB     		blt	.L33
 268:Algorithm/fifo.c ****   {
 269:Algorithm/fifo.c ****     len_to_end = len;
 714              		.loc 1 269 16
 715 005c 7B68     		ldr	r3, [r7, #4]
 716 005e FB61     		str	r3, [r7, #28]
 270:Algorithm/fifo.c ****     memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 717              		.loc 1 270 18
 718 0060 FB68     		ldr	r3, [r7, #12]
 719 0062 5B69     		ldr	r3, [r3, #20]
 720              		.loc 1 270 5
 721 0064 FA69     		ldr	r2, [r7, #28]
 722 0066 B968     		ldr	r1, [r7, #8]
 723 0068 1846     		mov	r0, r3
 724 006a FFF7FEFF 		bl	memcpy
 271:Algorithm/fifo.c ****     p_fifo->p_write_addr += len_to_end;
 725              		.loc 1 271 11
 726 006e FB68     		ldr	r3, [r7, #12]
 727 0070 5A69     		ldr	r2, [r3, #20]
 728              		.loc 1 271 26
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 27


 729 0072 FB69     		ldr	r3, [r7, #28]
 730 0074 1A44     		add	r2, r2, r3
 731 0076 FB68     		ldr	r3, [r7, #12]
 732 0078 5A61     		str	r2, [r3, #20]
 733 007a 19E0     		b	.L34
 734              	.L33:
 272:Algorithm/fifo.c ****   }
 273:Algorithm/fifo.c ****   else //rollback
 274:Algorithm/fifo.c ****   {
 275:Algorithm/fifo.c ****     len_from_start = len - len_to_end;
 735              		.loc 1 275 20
 736 007c 7A68     		ldr	r2, [r7, #4]
 737 007e FB69     		ldr	r3, [r7, #28]
 738 0080 D31A     		subs	r3, r2, r3
 739 0082 BB61     		str	r3, [r7, #24]
 276:Algorithm/fifo.c ****     memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 740              		.loc 1 276 18
 741 0084 FB68     		ldr	r3, [r7, #12]
 742 0086 5B69     		ldr	r3, [r3, #20]
 743              		.loc 1 276 5
 744 0088 FA69     		ldr	r2, [r7, #28]
 745 008a B968     		ldr	r1, [r7, #8]
 746 008c 1846     		mov	r0, r3
 747 008e FFF7FEFF 		bl	memcpy
 277:Algorithm/fifo.c ****     memcpy(p_fifo->p_start_addr, p_source + len_to_end, len_from_start);
 748              		.loc 1 277 18
 749 0092 FB68     		ldr	r3, [r7, #12]
 750 0094 1868     		ldr	r0, [r3]
 751              		.loc 1 277 5
 752 0096 FB69     		ldr	r3, [r7, #28]
 753              		.loc 1 277 43
 754 0098 BA68     		ldr	r2, [r7, #8]
 755 009a 1344     		add	r3, r3, r2
 756              		.loc 1 277 5
 757 009c BA69     		ldr	r2, [r7, #24]
 758 009e 1946     		mov	r1, r3
 759 00a0 FFF7FEFF 		bl	memcpy
 278:Algorithm/fifo.c ****     p_fifo->p_write_addr = p_fifo->p_start_addr + len_from_start;
 760              		.loc 1 278 34
 761 00a4 FB68     		ldr	r3, [r7, #12]
 762 00a6 1A68     		ldr	r2, [r3]
 763              		.loc 1 278 49
 764 00a8 BB69     		ldr	r3, [r7, #24]
 765 00aa 1A44     		add	r2, r2, r3
 766              		.loc 1 278 26
 767 00ac FB68     		ldr	r3, [r7, #12]
 768 00ae 5A61     		str	r2, [r3, #20]
 769              	.L34:
 279:Algorithm/fifo.c ****   }
 280:Algorithm/fifo.c **** 
 281:Algorithm/fifo.c ****   p_fifo->free_num -= len;
 770              		.loc 1 281 9
 771 00b0 FB68     		ldr	r3, [r7, #12]
 772 00b2 9A68     		ldr	r2, [r3, #8]
 773              		.loc 1 281 20
 774 00b4 7B68     		ldr	r3, [r7, #4]
 775 00b6 D21A     		subs	r2, r2, r3
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 28


 776 00b8 FB68     		ldr	r3, [r7, #12]
 777 00ba 9A60     		str	r2, [r3, #8]
 282:Algorithm/fifo.c ****   p_fifo->used_num += len;
 778              		.loc 1 282 9
 779 00bc FB68     		ldr	r3, [r7, #12]
 780 00be DA68     		ldr	r2, [r3, #12]
 781              		.loc 1 282 20
 782 00c0 7B68     		ldr	r3, [r7, #4]
 783 00c2 1A44     		add	r2, r2, r3
 784 00c4 FB68     		ldr	r3, [r7, #12]
 785 00c6 DA60     		str	r2, [r3, #12]
 283:Algorithm/fifo.c ****   retval = len;
 786              		.loc 1 283 10
 787 00c8 7B68     		ldr	r3, [r7, #4]
 788 00ca 7B61     		str	r3, [r7, #20]
 284:Algorithm/fifo.c **** 
 285:Algorithm/fifo.c ****   return retval;
 789              		.loc 1 285 10
 790 00cc 7B69     		ldr	r3, [r7, #20]
 791              	.L30:
 286:Algorithm/fifo.c **** }
 792              		.loc 1 286 1
 793 00ce 1846     		mov	r0, r3
 794 00d0 2037     		adds	r7, r7, #32
 795              	.LCFI30:
 796              		.cfi_def_cfa_offset 8
 797 00d2 BD46     		mov	sp, r7
 798              	.LCFI31:
 799              		.cfi_def_cfa_register 13
 800              		@ sp needed
 801 00d4 80BD     		pop	{r7, pc}
 802              		.cfi_endproc
 803              	.LFE152:
 805              		.section	.text.fifo_s_get,"ax",%progbits
 806              		.align	1
 807              		.global	fifo_s_get
 808              		.syntax unified
 809              		.thumb
 810              		.thumb_func
 812              	fifo_s_get:
 813              	.LFB153:
 287:Algorithm/fifo.c **** 
 288:Algorithm/fifo.c **** //******************************************************************************************
 289:Algorithm/fifo.c **** //
 290:Algorithm/fifo.c **** //! \brief  Get an element from FIFO(in single mode).
 291:Algorithm/fifo.c **** //!
 292:Algorithm/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 293:Algorithm/fifo.c **** //!
 294:Algorithm/fifo.c **** //! \retval the data element of FIFO.
 295:Algorithm/fifo.c **** //
 296:Algorithm/fifo.c **** //******************************************************************************************
 297:Algorithm/fifo.c **** char fifo_s_get(fifo_s_t *p_fifo)
 298:Algorithm/fifo.c **** {
 814              		.loc 1 298 1
 815              		.cfi_startproc
 816              		@ args = 0, pretend = 0, frame = 24
 817              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 29


 818              		@ link register save eliminated.
 819 0000 90B4     		push	{r4, r7}
 820              	.LCFI32:
 821              		.cfi_def_cfa_offset 8
 822              		.cfi_offset 4, -8
 823              		.cfi_offset 7, -4
 824 0002 86B0     		sub	sp, sp, #24
 825              	.LCFI33:
 826              		.cfi_def_cfa_offset 32
 827 0004 00AF     		add	r7, sp, #0
 828              	.LCFI34:
 829              		.cfi_def_cfa_register 7
 830 0006 7860     		str	r0, [r7, #4]
 299:Algorithm/fifo.c ****   FIFO_CPU_SR_TYPE cpu_sr;
 300:Algorithm/fifo.c ****   char retval = 0;
 831              		.loc 1 300 8
 832 0008 0023     		movs	r3, #0
 833 000a FB75     		strb	r3, [r7, #23]
 834              	.LBB90:
 835              	.LBB91:
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 836              		.loc 2 453 3
 837              		.syntax unified
 838              	@ 453 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 839 000c EFF31083 		MRS r3, primask
 840              	@ 0 "" 2
 841              		.thumb
 842              		.syntax unified
 843 0010 3B61     		str	r3, [r7, #16]
 454:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 844              		.loc 2 454 9
 845 0012 3B69     		ldr	r3, [r7, #16]
 846              	.LBE91:
 847              	.LBE90:
 301:Algorithm/fifo.c **** 
 302:Algorithm/fifo.c ****   //! Check input parameters.
 303:Algorithm/fifo.c ****   ASSERT(p_fifo);
 304:Algorithm/fifo.c **** 
 305:Algorithm/fifo.c ****   //Interrupt Off;
 306:Algorithm/fifo.c ****   cpu_sr = FIFO_GET_CPU_SR();
 848              		.loc 1 306 12
 849 0014 1C46     		mov	r4, r3
 850              	.LBB92:
 851              	.LBB93:
 209:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 852              		.loc 2 209 3
 853              		.syntax unified
 854              	@ 209 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 855 0016 72B6     		cpsid i
 856              	@ 0 "" 2
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 857              		.loc 2 210 1
 858              		.thumb
 859              		.syntax unified
 860 0018 00BF     		nop
 861              	.LBE93:
 862              	.LBE92:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 30


 307:Algorithm/fifo.c ****   FIFO_ENTER_CRITICAL();
 308:Algorithm/fifo.c **** 
 309:Algorithm/fifo.c ****   if (p_fifo->p_read_addr > p_fifo->p_end_addr)
 863              		.loc 1 309 13
 864 001a 7B68     		ldr	r3, [r7, #4]
 865 001c 1A69     		ldr	r2, [r3, #16]
 866              		.loc 1 309 35
 867 001e 7B68     		ldr	r3, [r7, #4]
 868 0020 5B68     		ldr	r3, [r3, #4]
 869              		.loc 1 309 6
 870 0022 9A42     		cmp	r2, r3
 871 0024 03D9     		bls	.L37
 310:Algorithm/fifo.c ****     p_fifo->p_read_addr = p_fifo->p_start_addr;
 872              		.loc 1 310 33
 873 0026 7B68     		ldr	r3, [r7, #4]
 874 0028 1A68     		ldr	r2, [r3]
 875              		.loc 1 310 25
 876 002a 7B68     		ldr	r3, [r7, #4]
 877 002c 1A61     		str	r2, [r3, #16]
 878              	.L37:
 311:Algorithm/fifo.c **** 
 312:Algorithm/fifo.c ****   retval = *p_fifo->p_read_addr;
 879              		.loc 1 312 19
 880 002e 7B68     		ldr	r3, [r7, #4]
 881 0030 1B69     		ldr	r3, [r3, #16]
 882              		.loc 1 312 10
 883 0032 1B78     		ldrb	r3, [r3]
 884 0034 FB75     		strb	r3, [r7, #23]
 313:Algorithm/fifo.c ****   // Update information
 314:Algorithm/fifo.c ****   p_fifo->p_read_addr++;
 885              		.loc 1 314 9
 886 0036 7B68     		ldr	r3, [r7, #4]
 887 0038 1B69     		ldr	r3, [r3, #16]
 888              		.loc 1 314 22
 889 003a 5A1C     		adds	r2, r3, #1
 890 003c 7B68     		ldr	r3, [r7, #4]
 891 003e 1A61     		str	r2, [r3, #16]
 315:Algorithm/fifo.c ****   p_fifo->free_num++;
 892              		.loc 1 315 9
 893 0040 7B68     		ldr	r3, [r7, #4]
 894 0042 9B68     		ldr	r3, [r3, #8]
 895              		.loc 1 315 19
 896 0044 5A1C     		adds	r2, r3, #1
 897 0046 7B68     		ldr	r3, [r7, #4]
 898 0048 9A60     		str	r2, [r3, #8]
 316:Algorithm/fifo.c ****   p_fifo->used_num--;
 899              		.loc 1 316 9
 900 004a 7B68     		ldr	r3, [r7, #4]
 901 004c DB68     		ldr	r3, [r3, #12]
 902              		.loc 1 316 19
 903 004e 5A1E     		subs	r2, r3, #1
 904 0050 7B68     		ldr	r3, [r7, #4]
 905 0052 DA60     		str	r2, [r3, #12]
 906 0054 FC60     		str	r4, [r7, #12]
 907              	.LBB94:
 908              	.LBB95:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 31


 909              		.loc 2 481 3
 910 0056 FB68     		ldr	r3, [r7, #12]
 911              		.syntax unified
 912              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 913 0058 83F31088 		MSR primask, r3
 914              	@ 0 "" 2
 915              		.loc 2 482 1
 916              		.thumb
 917              		.syntax unified
 918 005c 00BF     		nop
 919              	.LBE95:
 920              	.LBE94:
 317:Algorithm/fifo.c ****   //Interrupt On
 318:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 319:Algorithm/fifo.c ****   return (retval);
 921              		.loc 1 319 10
 922 005e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 320:Algorithm/fifo.c **** }
 923              		.loc 1 320 1
 924 0060 1846     		mov	r0, r3
 925 0062 1837     		adds	r7, r7, #24
 926              	.LCFI35:
 927              		.cfi_def_cfa_offset 8
 928 0064 BD46     		mov	sp, r7
 929              	.LCFI36:
 930              		.cfi_def_cfa_register 13
 931              		@ sp needed
 932 0066 90BC     		pop	{r4, r7}
 933              	.LCFI37:
 934              		.cfi_restore 7
 935              		.cfi_restore 4
 936              		.cfi_def_cfa_offset 0
 937 0068 7047     		bx	lr
 938              		.cfi_endproc
 939              	.LFE153:
 941              		.section	.text.fifo_s_gets,"ax",%progbits
 942              		.align	1
 943              		.global	fifo_s_gets
 944              		.syntax unified
 945              		.thumb
 946              		.thumb_func
 948              	fifo_s_gets:
 949              	.LFB154:
 321:Algorithm/fifo.c **** 
 322:Algorithm/fifo.c **** //******************************************************************************************
 323:Algorithm/fifo.c **** //
 324:Algorithm/fifo.c **** //! \brief  Get some element from FIFO(in single mode).
 325:Algorithm/fifo.c **** //!
 326:Algorithm/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 327:Algorithm/fifo.c **** //!
 328:Algorithm/fifo.c **** //! \retval the number of really read data.
 329:Algorithm/fifo.c **** //
 330:Algorithm/fifo.c **** //******************************************************************************************
 331:Algorithm/fifo.c **** int fifo_s_gets(fifo_s_t *p_fifo, char *p_dest, int len)
 332:Algorithm/fifo.c **** {
 950              		.loc 1 332 1
 951              		.cfi_startproc
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 32


 952              		@ args = 0, pretend = 0, frame = 40
 953              		@ frame_needed = 1, uses_anonymous_args = 0
 954 0000 90B5     		push	{r4, r7, lr}
 955              	.LCFI38:
 956              		.cfi_def_cfa_offset 12
 957              		.cfi_offset 4, -12
 958              		.cfi_offset 7, -8
 959              		.cfi_offset 14, -4
 960 0002 8BB0     		sub	sp, sp, #44
 961              	.LCFI39:
 962              		.cfi_def_cfa_offset 56
 963 0004 00AF     		add	r7, sp, #0
 964              	.LCFI40:
 965              		.cfi_def_cfa_register 7
 966 0006 F860     		str	r0, [r7, #12]
 967 0008 B960     		str	r1, [r7, #8]
 968 000a 7A60     		str	r2, [r7, #4]
 969              	.LBB96:
 970              	.LBB97:
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 971              		.loc 2 453 3
 972              		.syntax unified
 973              	@ 453 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 974 000c EFF31083 		MRS r3, primask
 975              	@ 0 "" 2
 976              		.thumb
 977              		.syntax unified
 978 0010 BB61     		str	r3, [r7, #24]
 454:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 979              		.loc 2 454 9
 980 0012 BB69     		ldr	r3, [r7, #24]
 981              	.LBE97:
 982              	.LBE96:
 333:Algorithm/fifo.c ****   FIFO_CPU_SR_TYPE cpu_sr;
 334:Algorithm/fifo.c ****   int retval;
 335:Algorithm/fifo.c ****   int len_to_end;
 336:Algorithm/fifo.c ****   int len_from_start;
 337:Algorithm/fifo.c **** 
 338:Algorithm/fifo.c ****   ASSERT(p_fifo);
 339:Algorithm/fifo.c **** 
 340:Algorithm/fifo.c ****   //Interrupt Off;
 341:Algorithm/fifo.c ****   cpu_sr = FIFO_GET_CPU_SR();
 983              		.loc 1 341 12
 984 0014 1C46     		mov	r4, r3
 985              	.LBB98:
 986              	.LBB99:
 209:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 987              		.loc 2 209 3
 988              		.syntax unified
 989              	@ 209 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 990 0016 72B6     		cpsid i
 991              	@ 0 "" 2
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 992              		.loc 2 210 1
 993              		.thumb
 994              		.syntax unified
 995 0018 00BF     		nop
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 33


 996              	.LBE99:
 997              	.LBE98:
 342:Algorithm/fifo.c ****   FIFO_ENTER_CRITICAL();
 343:Algorithm/fifo.c **** 
 344:Algorithm/fifo.c ****   if (NULL == p_dest)
 998              		.loc 1 344 6
 999 001a BB68     		ldr	r3, [r7, #8]
 1000 001c 002B     		cmp	r3, #0
 1001 001e 5ED0     		beq	.L48
 345:Algorithm/fifo.c ****   {
 346:Algorithm/fifo.c ****     goto end;
 347:Algorithm/fifo.c ****   }
 348:Algorithm/fifo.c **** 
 349:Algorithm/fifo.c ****   if (0 == p_fifo->used_num)
 1002              		.loc 1 349 18
 1003 0020 FB68     		ldr	r3, [r7, #12]
 1004 0022 DB68     		ldr	r3, [r3, #12]
 1005              		.loc 1 349 6
 1006 0024 002B     		cmp	r3, #0
 1007 0026 5CD0     		beq	.L49
 350:Algorithm/fifo.c ****   {
 351:Algorithm/fifo.c ****     goto end;
 352:Algorithm/fifo.c ****   }
 353:Algorithm/fifo.c **** 
 354:Algorithm/fifo.c ****   if (p_fifo->p_read_addr > p_fifo->p_end_addr)
 1008              		.loc 1 354 13
 1009 0028 FB68     		ldr	r3, [r7, #12]
 1010 002a 1A69     		ldr	r2, [r3, #16]
 1011              		.loc 1 354 35
 1012 002c FB68     		ldr	r3, [r7, #12]
 1013 002e 5B68     		ldr	r3, [r3, #4]
 1014              		.loc 1 354 6
 1015 0030 9A42     		cmp	r2, r3
 1016 0032 03D9     		bls	.L44
 355:Algorithm/fifo.c ****     p_fifo->p_read_addr = p_fifo->p_start_addr;
 1017              		.loc 1 355 33
 1018 0034 FB68     		ldr	r3, [r7, #12]
 1019 0036 1A68     		ldr	r2, [r3]
 1020              		.loc 1 355 25
 1021 0038 FB68     		ldr	r3, [r7, #12]
 1022 003a 1A61     		str	r2, [r3, #16]
 1023              	.L44:
 356:Algorithm/fifo.c **** 
 357:Algorithm/fifo.c ****   len = (len < p_fifo->used_num) ? len : p_fifo->used_num;
 1024              		.loc 1 357 22
 1025 003c FB68     		ldr	r3, [r7, #12]
 1026 003e DB68     		ldr	r3, [r3, #12]
 1027              		.loc 1 357 7
 1028 0040 7A68     		ldr	r2, [r7, #4]
 1029 0042 9342     		cmp	r3, r2
 1030 0044 A8BF     		it	ge
 1031 0046 1346     		movge	r3, r2
 1032 0048 7B60     		str	r3, [r7, #4]
 358:Algorithm/fifo.c ****   len_to_end = p_fifo->p_end_addr - p_fifo->p_read_addr + 1;
 1033              		.loc 1 358 22
 1034 004a FB68     		ldr	r3, [r7, #12]
 1035 004c 5A68     		ldr	r2, [r3, #4]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 34


 1036              		.loc 1 358 43
 1037 004e FB68     		ldr	r3, [r7, #12]
 1038 0050 1B69     		ldr	r3, [r3, #16]
 1039              		.loc 1 358 35
 1040 0052 D31A     		subs	r3, r2, r3
 1041              		.loc 1 358 14
 1042 0054 0133     		adds	r3, r3, #1
 1043 0056 7B62     		str	r3, [r7, #36]
 359:Algorithm/fifo.c **** 
 360:Algorithm/fifo.c ****   if (len_to_end >= len) //no rollback
 1044              		.loc 1 360 6
 1045 0058 7A6A     		ldr	r2, [r7, #36]
 1046 005a 7B68     		ldr	r3, [r7, #4]
 1047 005c 9A42     		cmp	r2, r3
 1048 005e 0FDB     		blt	.L45
 361:Algorithm/fifo.c ****   {
 362:Algorithm/fifo.c ****     len_to_end = len;
 1049              		.loc 1 362 16
 1050 0060 7B68     		ldr	r3, [r7, #4]
 1051 0062 7B62     		str	r3, [r7, #36]
 363:Algorithm/fifo.c ****     memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 1052              		.loc 1 363 26
 1053 0064 FB68     		ldr	r3, [r7, #12]
 1054 0066 1B69     		ldr	r3, [r3, #16]
 1055              		.loc 1 363 5
 1056 0068 7A6A     		ldr	r2, [r7, #36]
 1057 006a 1946     		mov	r1, r3
 1058 006c B868     		ldr	r0, [r7, #8]
 1059 006e FFF7FEFF 		bl	memcpy
 364:Algorithm/fifo.c ****     p_fifo->p_read_addr += len_to_end;
 1060              		.loc 1 364 11
 1061 0072 FB68     		ldr	r3, [r7, #12]
 1062 0074 1A69     		ldr	r2, [r3, #16]
 1063              		.loc 1 364 25
 1064 0076 7B6A     		ldr	r3, [r7, #36]
 1065 0078 1A44     		add	r2, r2, r3
 1066 007a FB68     		ldr	r3, [r7, #12]
 1067 007c 1A61     		str	r2, [r3, #16]
 1068 007e 19E0     		b	.L46
 1069              	.L45:
 365:Algorithm/fifo.c ****   }
 366:Algorithm/fifo.c ****   else //rollback
 367:Algorithm/fifo.c ****   {
 368:Algorithm/fifo.c ****     len_from_start = len - len_to_end;
 1070              		.loc 1 368 20
 1071 0080 7A68     		ldr	r2, [r7, #4]
 1072 0082 7B6A     		ldr	r3, [r7, #36]
 1073 0084 D31A     		subs	r3, r2, r3
 1074 0086 3B62     		str	r3, [r7, #32]
 369:Algorithm/fifo.c ****     memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 1075              		.loc 1 369 26
 1076 0088 FB68     		ldr	r3, [r7, #12]
 1077 008a 1B69     		ldr	r3, [r3, #16]
 1078              		.loc 1 369 5
 1079 008c 7A6A     		ldr	r2, [r7, #36]
 1080 008e 1946     		mov	r1, r3
 1081 0090 B868     		ldr	r0, [r7, #8]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 35


 1082 0092 FFF7FEFF 		bl	memcpy
 370:Algorithm/fifo.c ****     memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 1083              		.loc 1 370 5
 1084 0096 7B6A     		ldr	r3, [r7, #36]
 1085              		.loc 1 370 19
 1086 0098 BA68     		ldr	r2, [r7, #8]
 1087 009a D018     		adds	r0, r2, r3
 1088              		.loc 1 370 39
 1089 009c FB68     		ldr	r3, [r7, #12]
 1090 009e 1B68     		ldr	r3, [r3]
 1091              		.loc 1 370 5
 1092 00a0 3A6A     		ldr	r2, [r7, #32]
 1093 00a2 1946     		mov	r1, r3
 1094 00a4 FFF7FEFF 		bl	memcpy
 371:Algorithm/fifo.c ****     p_fifo->p_read_addr = p_fifo->p_start_addr + len_from_start;
 1095              		.loc 1 371 33
 1096 00a8 FB68     		ldr	r3, [r7, #12]
 1097 00aa 1A68     		ldr	r2, [r3]
 1098              		.loc 1 371 48
 1099 00ac 3B6A     		ldr	r3, [r7, #32]
 1100 00ae 1A44     		add	r2, r2, r3
 1101              		.loc 1 371 25
 1102 00b0 FB68     		ldr	r3, [r7, #12]
 1103 00b2 1A61     		str	r2, [r3, #16]
 1104              	.L46:
 372:Algorithm/fifo.c ****   }
 373:Algorithm/fifo.c **** 
 374:Algorithm/fifo.c ****   p_fifo->free_num += len;
 1105              		.loc 1 374 9
 1106 00b4 FB68     		ldr	r3, [r7, #12]
 1107 00b6 9A68     		ldr	r2, [r3, #8]
 1108              		.loc 1 374 20
 1109 00b8 7B68     		ldr	r3, [r7, #4]
 1110 00ba 1A44     		add	r2, r2, r3
 1111 00bc FB68     		ldr	r3, [r7, #12]
 1112 00be 9A60     		str	r2, [r3, #8]
 375:Algorithm/fifo.c ****   p_fifo->used_num -= len;
 1113              		.loc 1 375 9
 1114 00c0 FB68     		ldr	r3, [r7, #12]
 1115 00c2 DA68     		ldr	r2, [r3, #12]
 1116              		.loc 1 375 20
 1117 00c4 7B68     		ldr	r3, [r7, #4]
 1118 00c6 D21A     		subs	r2, r2, r3
 1119 00c8 FB68     		ldr	r3, [r7, #12]
 1120 00ca DA60     		str	r2, [r3, #12]
 376:Algorithm/fifo.c ****   retval = len;
 1121              		.loc 1 376 10
 1122 00cc 7B68     		ldr	r3, [r7, #4]
 1123 00ce FB61     		str	r3, [r7, #28]
 1124 00d0 7C61     		str	r4, [r7, #20]
 1125              	.LBB100:
 1126              	.LBB101:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1127              		.loc 2 481 3
 1128 00d2 7B69     		ldr	r3, [r7, #20]
 1129              		.syntax unified
 1130              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 36


 1131 00d4 83F31088 		MSR primask, r3
 1132              	@ 0 "" 2
 1133              		.loc 2 482 1
 1134              		.thumb
 1135              		.syntax unified
 1136 00d8 00BF     		nop
 1137              	.LBE101:
 1138              	.LBE100:
 377:Algorithm/fifo.c ****   //Interrupt On
 378:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 379:Algorithm/fifo.c **** 
 380:Algorithm/fifo.c ****   return retval;
 1139              		.loc 1 380 10
 1140 00da FB69     		ldr	r3, [r7, #28]
 1141 00dc 09E0     		b	.L47
 1142              	.L48:
 346:Algorithm/fifo.c ****   }
 1143              		.loc 1 346 5
 1144 00de 00BF     		nop
 1145 00e0 00E0     		b	.L42
 1146              	.L49:
 351:Algorithm/fifo.c ****   }
 1147              		.loc 1 351 5
 1148 00e2 00BF     		nop
 1149              	.L42:
 1150 00e4 3C61     		str	r4, [r7, #16]
 1151              	.LBB102:
 1152              	.LBB103:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1153              		.loc 2 481 3
 1154 00e6 3B69     		ldr	r3, [r7, #16]
 1155              		.syntax unified
 1156              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1157 00e8 83F31088 		MSR primask, r3
 1158              	@ 0 "" 2
 1159              		.loc 2 482 1
 1160              		.thumb
 1161              		.syntax unified
 1162 00ec 00BF     		nop
 1163              	.LBE103:
 1164              	.LBE102:
 381:Algorithm/fifo.c **** end:
 382:Algorithm/fifo.c ****   //Interrupt On
 383:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 384:Algorithm/fifo.c ****   return (-1);
 1165              		.loc 1 384 10
 1166 00ee 4FF0FF33 		mov	r3, #-1
 1167              	.L47:
 385:Algorithm/fifo.c **** }
 1168              		.loc 1 385 1
 1169 00f2 1846     		mov	r0, r3
 1170 00f4 2C37     		adds	r7, r7, #44
 1171              	.LCFI41:
 1172              		.cfi_def_cfa_offset 12
 1173 00f6 BD46     		mov	sp, r7
 1174              	.LCFI42:
 1175              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 37


 1176              		@ sp needed
 1177 00f8 90BD     		pop	{r4, r7, pc}
 1178              		.cfi_endproc
 1179              	.LFE154:
 1181              		.section	.text.fifo_s_gets_noprotect,"ax",%progbits
 1182              		.align	1
 1183              		.global	fifo_s_gets_noprotect
 1184              		.syntax unified
 1185              		.thumb
 1186              		.thumb_func
 1188              	fifo_s_gets_noprotect:
 1189              	.LFB155:
 386:Algorithm/fifo.c **** 
 387:Algorithm/fifo.c **** //******************************************************************************************
 388:Algorithm/fifo.c **** //
 389:Algorithm/fifo.c **** //! \brief  Get some element from FIFO(in single mode).
 390:Algorithm/fifo.c **** //!
 391:Algorithm/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 392:Algorithm/fifo.c **** //!
 393:Algorithm/fifo.c **** //! \retval the number of really read data.
 394:Algorithm/fifo.c **** //
 395:Algorithm/fifo.c **** //******************************************************************************************
 396:Algorithm/fifo.c **** int fifo_s_gets_noprotect(fifo_s_t *p_fifo, char *p_dest, int len)
 397:Algorithm/fifo.c **** {
 1190              		.loc 1 397 1
 1191              		.cfi_startproc
 1192              		@ args = 0, pretend = 0, frame = 32
 1193              		@ frame_needed = 1, uses_anonymous_args = 0
 1194 0000 80B5     		push	{r7, lr}
 1195              	.LCFI43:
 1196              		.cfi_def_cfa_offset 8
 1197              		.cfi_offset 7, -8
 1198              		.cfi_offset 14, -4
 1199 0002 88B0     		sub	sp, sp, #32
 1200              	.LCFI44:
 1201              		.cfi_def_cfa_offset 40
 1202 0004 00AF     		add	r7, sp, #0
 1203              	.LCFI45:
 1204              		.cfi_def_cfa_register 7
 1205 0006 F860     		str	r0, [r7, #12]
 1206 0008 B960     		str	r1, [r7, #8]
 1207 000a 7A60     		str	r2, [r7, #4]
 398:Algorithm/fifo.c ****   int retval;
 399:Algorithm/fifo.c ****   int len_to_end;
 400:Algorithm/fifo.c ****   int len_from_start;
 401:Algorithm/fifo.c **** 
 402:Algorithm/fifo.c ****   ASSERT(p_fifo);
 403:Algorithm/fifo.c **** 
 404:Algorithm/fifo.c ****   if (NULL == p_dest)
 1208              		.loc 1 404 6
 1209 000c BB68     		ldr	r3, [r7, #8]
 1210 000e 002B     		cmp	r3, #0
 1211 0010 02D1     		bne	.L51
 405:Algorithm/fifo.c ****     return -1;
 1212              		.loc 1 405 12
 1213 0012 4FF0FF33 		mov	r3, #-1
 1214 0016 5AE0     		b	.L52
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 38


 1215              	.L51:
 406:Algorithm/fifo.c **** 
 407:Algorithm/fifo.c ****   if (0 == p_fifo->used_num)
 1216              		.loc 1 407 18
 1217 0018 FB68     		ldr	r3, [r7, #12]
 1218 001a DB68     		ldr	r3, [r3, #12]
 1219              		.loc 1 407 6
 1220 001c 002B     		cmp	r3, #0
 1221 001e 01D1     		bne	.L53
 408:Algorithm/fifo.c ****     return 0;
 1222              		.loc 1 408 12
 1223 0020 0023     		movs	r3, #0
 1224 0022 54E0     		b	.L52
 1225              	.L53:
 409:Algorithm/fifo.c **** 
 410:Algorithm/fifo.c ****   if (p_fifo->p_read_addr > p_fifo->p_end_addr)
 1226              		.loc 1 410 13
 1227 0024 FB68     		ldr	r3, [r7, #12]
 1228 0026 1A69     		ldr	r2, [r3, #16]
 1229              		.loc 1 410 35
 1230 0028 FB68     		ldr	r3, [r7, #12]
 1231 002a 5B68     		ldr	r3, [r3, #4]
 1232              		.loc 1 410 6
 1233 002c 9A42     		cmp	r2, r3
 1234 002e 03D9     		bls	.L54
 411:Algorithm/fifo.c ****     p_fifo->p_read_addr = p_fifo->p_start_addr;
 1235              		.loc 1 411 33
 1236 0030 FB68     		ldr	r3, [r7, #12]
 1237 0032 1A68     		ldr	r2, [r3]
 1238              		.loc 1 411 25
 1239 0034 FB68     		ldr	r3, [r7, #12]
 1240 0036 1A61     		str	r2, [r3, #16]
 1241              	.L54:
 412:Algorithm/fifo.c **** 
 413:Algorithm/fifo.c ****   len = (len < p_fifo->used_num) ? len : p_fifo->used_num;
 1242              		.loc 1 413 22
 1243 0038 FB68     		ldr	r3, [r7, #12]
 1244 003a DB68     		ldr	r3, [r3, #12]
 1245              		.loc 1 413 7
 1246 003c 7A68     		ldr	r2, [r7, #4]
 1247 003e 9342     		cmp	r3, r2
 1248 0040 A8BF     		it	ge
 1249 0042 1346     		movge	r3, r2
 1250 0044 7B60     		str	r3, [r7, #4]
 414:Algorithm/fifo.c ****   len_to_end = p_fifo->p_end_addr - p_fifo->p_read_addr + 1;
 1251              		.loc 1 414 22
 1252 0046 FB68     		ldr	r3, [r7, #12]
 1253 0048 5A68     		ldr	r2, [r3, #4]
 1254              		.loc 1 414 43
 1255 004a FB68     		ldr	r3, [r7, #12]
 1256 004c 1B69     		ldr	r3, [r3, #16]
 1257              		.loc 1 414 35
 1258 004e D31A     		subs	r3, r2, r3
 1259              		.loc 1 414 14
 1260 0050 0133     		adds	r3, r3, #1
 1261 0052 FB61     		str	r3, [r7, #28]
 415:Algorithm/fifo.c **** 
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 39


 416:Algorithm/fifo.c ****   if (len_to_end >= len) //no rollback
 1262              		.loc 1 416 6
 1263 0054 FA69     		ldr	r2, [r7, #28]
 1264 0056 7B68     		ldr	r3, [r7, #4]
 1265 0058 9A42     		cmp	r2, r3
 1266 005a 0FDB     		blt	.L55
 417:Algorithm/fifo.c ****   {
 418:Algorithm/fifo.c ****     len_to_end = len;
 1267              		.loc 1 418 16
 1268 005c 7B68     		ldr	r3, [r7, #4]
 1269 005e FB61     		str	r3, [r7, #28]
 419:Algorithm/fifo.c ****     memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 1270              		.loc 1 419 26
 1271 0060 FB68     		ldr	r3, [r7, #12]
 1272 0062 1B69     		ldr	r3, [r3, #16]
 1273              		.loc 1 419 5
 1274 0064 FA69     		ldr	r2, [r7, #28]
 1275 0066 1946     		mov	r1, r3
 1276 0068 B868     		ldr	r0, [r7, #8]
 1277 006a FFF7FEFF 		bl	memcpy
 420:Algorithm/fifo.c ****     p_fifo->p_read_addr += len_to_end;
 1278              		.loc 1 420 11
 1279 006e FB68     		ldr	r3, [r7, #12]
 1280 0070 1A69     		ldr	r2, [r3, #16]
 1281              		.loc 1 420 25
 1282 0072 FB69     		ldr	r3, [r7, #28]
 1283 0074 1A44     		add	r2, r2, r3
 1284 0076 FB68     		ldr	r3, [r7, #12]
 1285 0078 1A61     		str	r2, [r3, #16]
 1286 007a 19E0     		b	.L56
 1287              	.L55:
 421:Algorithm/fifo.c ****   }
 422:Algorithm/fifo.c ****   else //rollback
 423:Algorithm/fifo.c ****   {
 424:Algorithm/fifo.c ****     len_from_start = len - len_to_end;
 1288              		.loc 1 424 20
 1289 007c 7A68     		ldr	r2, [r7, #4]
 1290 007e FB69     		ldr	r3, [r7, #28]
 1291 0080 D31A     		subs	r3, r2, r3
 1292 0082 BB61     		str	r3, [r7, #24]
 425:Algorithm/fifo.c ****     memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 1293              		.loc 1 425 26
 1294 0084 FB68     		ldr	r3, [r7, #12]
 1295 0086 1B69     		ldr	r3, [r3, #16]
 1296              		.loc 1 425 5
 1297 0088 FA69     		ldr	r2, [r7, #28]
 1298 008a 1946     		mov	r1, r3
 1299 008c B868     		ldr	r0, [r7, #8]
 1300 008e FFF7FEFF 		bl	memcpy
 426:Algorithm/fifo.c ****     memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 1301              		.loc 1 426 5
 1302 0092 FB69     		ldr	r3, [r7, #28]
 1303              		.loc 1 426 19
 1304 0094 BA68     		ldr	r2, [r7, #8]
 1305 0096 D018     		adds	r0, r2, r3
 1306              		.loc 1 426 39
 1307 0098 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 40


 1308 009a 1B68     		ldr	r3, [r3]
 1309              		.loc 1 426 5
 1310 009c BA69     		ldr	r2, [r7, #24]
 1311 009e 1946     		mov	r1, r3
 1312 00a0 FFF7FEFF 		bl	memcpy
 427:Algorithm/fifo.c ****     p_fifo->p_read_addr = p_fifo->p_start_addr + len_from_start;
 1313              		.loc 1 427 33
 1314 00a4 FB68     		ldr	r3, [r7, #12]
 1315 00a6 1A68     		ldr	r2, [r3]
 1316              		.loc 1 427 48
 1317 00a8 BB69     		ldr	r3, [r7, #24]
 1318 00aa 1A44     		add	r2, r2, r3
 1319              		.loc 1 427 25
 1320 00ac FB68     		ldr	r3, [r7, #12]
 1321 00ae 1A61     		str	r2, [r3, #16]
 1322              	.L56:
 428:Algorithm/fifo.c ****   }
 429:Algorithm/fifo.c **** 
 430:Algorithm/fifo.c ****   p_fifo->free_num += len;
 1323              		.loc 1 430 9
 1324 00b0 FB68     		ldr	r3, [r7, #12]
 1325 00b2 9A68     		ldr	r2, [r3, #8]
 1326              		.loc 1 430 20
 1327 00b4 7B68     		ldr	r3, [r7, #4]
 1328 00b6 1A44     		add	r2, r2, r3
 1329 00b8 FB68     		ldr	r3, [r7, #12]
 1330 00ba 9A60     		str	r2, [r3, #8]
 431:Algorithm/fifo.c ****   p_fifo->used_num -= len;
 1331              		.loc 1 431 9
 1332 00bc FB68     		ldr	r3, [r7, #12]
 1333 00be DA68     		ldr	r2, [r3, #12]
 1334              		.loc 1 431 20
 1335 00c0 7B68     		ldr	r3, [r7, #4]
 1336 00c2 D21A     		subs	r2, r2, r3
 1337 00c4 FB68     		ldr	r3, [r7, #12]
 1338 00c6 DA60     		str	r2, [r3, #12]
 432:Algorithm/fifo.c ****   retval = len;
 1339              		.loc 1 432 10
 1340 00c8 7B68     		ldr	r3, [r7, #4]
 1341 00ca 7B61     		str	r3, [r7, #20]
 433:Algorithm/fifo.c **** 
 434:Algorithm/fifo.c ****   return retval;
 1342              		.loc 1 434 10
 1343 00cc 7B69     		ldr	r3, [r7, #20]
 1344              	.L52:
 435:Algorithm/fifo.c **** }
 1345              		.loc 1 435 1
 1346 00ce 1846     		mov	r0, r3
 1347 00d0 2037     		adds	r7, r7, #32
 1348              	.LCFI46:
 1349              		.cfi_def_cfa_offset 8
 1350 00d2 BD46     		mov	sp, r7
 1351              	.LCFI47:
 1352              		.cfi_def_cfa_register 13
 1353              		@ sp needed
 1354 00d4 80BD     		pop	{r7, pc}
 1355              		.cfi_endproc
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 41


 1356              	.LFE155:
 1358              		.section	.text.fifo_s_preread,"ax",%progbits
 1359              		.align	1
 1360              		.global	fifo_s_preread
 1361              		.syntax unified
 1362              		.thumb
 1363              		.thumb_func
 1365              	fifo_s_preread:
 1366              	.LFB156:
 436:Algorithm/fifo.c **** 
 437:Algorithm/fifo.c **** //******************************************************************************************
 438:Algorithm/fifo.c **** //
 439:Algorithm/fifo.c **** //! \brief  Pre-Read an element from FIFO(in single mode).
 440:Algorithm/fifo.c **** //!
 441:Algorithm/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 442:Algorithm/fifo.c **** //! \param  [in]  Offset is the offset from current pointer.
 443:Algorithm/fifo.c **** //!
 444:Algorithm/fifo.c **** //! \retval the data element of FIFO.
 445:Algorithm/fifo.c **** //
 446:Algorithm/fifo.c **** //******************************************************************************************
 447:Algorithm/fifo.c **** char fifo_s_preread(fifo_s_t *p_fifo, int offset)
 448:Algorithm/fifo.c **** {
 1367              		.loc 1 448 1
 1368              		.cfi_startproc
 1369              		@ args = 0, pretend = 0, frame = 16
 1370              		@ frame_needed = 1, uses_anonymous_args = 0
 1371              		@ link register save eliminated.
 1372 0000 80B4     		push	{r7}
 1373              	.LCFI48:
 1374              		.cfi_def_cfa_offset 4
 1375              		.cfi_offset 7, -4
 1376 0002 85B0     		sub	sp, sp, #20
 1377              	.LCFI49:
 1378              		.cfi_def_cfa_offset 24
 1379 0004 00AF     		add	r7, sp, #0
 1380              	.LCFI50:
 1381              		.cfi_def_cfa_register 7
 1382 0006 7860     		str	r0, [r7, #4]
 1383 0008 3960     		str	r1, [r7]
 449:Algorithm/fifo.c ****   char *tmp_read_addr;
 450:Algorithm/fifo.c **** 
 451:Algorithm/fifo.c ****   //! Check input parameters.
 452:Algorithm/fifo.c ****   ASSERT(p_fifo);
 453:Algorithm/fifo.c **** 
 454:Algorithm/fifo.c ****   if (offset > p_fifo->used_num)
 1384              		.loc 1 454 22
 1385 000a 7B68     		ldr	r3, [r7, #4]
 1386 000c DB68     		ldr	r3, [r3, #12]
 1387              		.loc 1 454 6
 1388 000e 3A68     		ldr	r2, [r7]
 1389 0010 9A42     		cmp	r2, r3
 1390 0012 01DD     		ble	.L58
 455:Algorithm/fifo.c ****   {
 456:Algorithm/fifo.c ****     return 0;
 1391              		.loc 1 456 12
 1392 0014 0023     		movs	r3, #0
 1393 0016 14E0     		b	.L59
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 42


 1394              	.L58:
 457:Algorithm/fifo.c ****   }
 458:Algorithm/fifo.c ****   else
 459:Algorithm/fifo.c ****   {
 460:Algorithm/fifo.c ****     // Move Read Pointer to right position
 461:Algorithm/fifo.c ****     tmp_read_addr = p_fifo->p_read_addr + offset;
 1395              		.loc 1 461 27
 1396 0018 7B68     		ldr	r3, [r7, #4]
 1397 001a 1A69     		ldr	r2, [r3, #16]
 1398              		.loc 1 461 41
 1399 001c 3B68     		ldr	r3, [r7]
 1400              		.loc 1 461 19
 1401 001e 1344     		add	r3, r3, r2
 1402 0020 FB60     		str	r3, [r7, #12]
 462:Algorithm/fifo.c ****     if (tmp_read_addr > p_fifo->p_end_addr)
 1403              		.loc 1 462 31
 1404 0022 7B68     		ldr	r3, [r7, #4]
 1405 0024 5B68     		ldr	r3, [r3, #4]
 1406              		.loc 1 462 8
 1407 0026 FA68     		ldr	r2, [r7, #12]
 1408 0028 9A42     		cmp	r2, r3
 1409 002a 08D9     		bls	.L60
 463:Algorithm/fifo.c ****       tmp_read_addr = tmp_read_addr - p_fifo->p_end_addr + p_fifo->p_start_addr - 1;
 1410              		.loc 1 463 66
 1411 002c 7B68     		ldr	r3, [r7, #4]
 1412 002e 1A68     		ldr	r2, [r3]
 1413              		.loc 1 463 45
 1414 0030 7B68     		ldr	r3, [r7, #4]
 1415 0032 5B68     		ldr	r3, [r3, #4]
 1416              		.loc 1 463 37
 1417 0034 F968     		ldr	r1, [r7, #12]
 1418 0036 CB1A     		subs	r3, r1, r3
 1419              		.loc 1 463 81
 1420 0038 013B     		subs	r3, r3, #1
 1421              		.loc 1 463 21
 1422 003a 1344     		add	r3, r3, r2
 1423 003c FB60     		str	r3, [r7, #12]
 1424              	.L60:
 464:Algorithm/fifo.c **** 
 465:Algorithm/fifo.c ****     return *tmp_read_addr;
 1425              		.loc 1 465 12
 1426 003e FB68     		ldr	r3, [r7, #12]
 1427 0040 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1428              	.L59:
 466:Algorithm/fifo.c ****   }
 467:Algorithm/fifo.c **** }
 1429              		.loc 1 467 1
 1430 0042 1846     		mov	r0, r3
 1431 0044 1437     		adds	r7, r7, #20
 1432              	.LCFI51:
 1433              		.cfi_def_cfa_offset 4
 1434 0046 BD46     		mov	sp, r7
 1435              	.LCFI52:
 1436              		.cfi_def_cfa_register 13
 1437              		@ sp needed
 1438 0048 5DF8047B 		ldr	r7, [sp], #4
 1439              	.LCFI53:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 43


 1440              		.cfi_restore 7
 1441              		.cfi_def_cfa_offset 0
 1442 004c 7047     		bx	lr
 1443              		.cfi_endproc
 1444              	.LFE156:
 1446              		.section	.text.fifo_s_prereads,"ax",%progbits
 1447              		.align	1
 1448              		.global	fifo_s_prereads
 1449              		.syntax unified
 1450              		.thumb
 1451              		.thumb_func
 1453              	fifo_s_prereads:
 1454              	.LFB157:
 468:Algorithm/fifo.c **** 
 469:Algorithm/fifo.c **** /*
 470:Algorithm/fifo.c ****  *
 471:Algorithm/fifo.c ****  *
 472:Algorithm/fifo.c ****  *
 473:Algorithm/fifo.c ****  *
 474:Algorithm/fifo.c ****  */
 475:Algorithm/fifo.c **** int fifo_s_prereads(fifo_s_t *p_fifo, char *p_dest, int offset, int len)
 476:Algorithm/fifo.c **** {
 1455              		.loc 1 476 1
 1456              		.cfi_startproc
 1457              		@ args = 0, pretend = 0, frame = 48
 1458              		@ frame_needed = 1, uses_anonymous_args = 0
 1459 0000 90B5     		push	{r4, r7, lr}
 1460              	.LCFI54:
 1461              		.cfi_def_cfa_offset 12
 1462              		.cfi_offset 4, -12
 1463              		.cfi_offset 7, -8
 1464              		.cfi_offset 14, -4
 1465 0002 8DB0     		sub	sp, sp, #52
 1466              	.LCFI55:
 1467              		.cfi_def_cfa_offset 64
 1468 0004 00AF     		add	r7, sp, #0
 1469              	.LCFI56:
 1470              		.cfi_def_cfa_register 7
 1471 0006 F860     		str	r0, [r7, #12]
 1472 0008 B960     		str	r1, [r7, #8]
 1473 000a 7A60     		str	r2, [r7, #4]
 1474 000c 3B60     		str	r3, [r7]
 1475              	.LBB104:
 1476              	.LBB105:
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 1477              		.loc 2 453 3
 1478              		.syntax unified
 1479              	@ 453 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1480 000e EFF31083 		MRS r3, primask
 1481              	@ 0 "" 2
 1482              		.thumb
 1483              		.syntax unified
 1484 0012 FB61     		str	r3, [r7, #28]
 454:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1485              		.loc 2 454 9
 1486 0014 FB69     		ldr	r3, [r7, #28]
 1487              	.LBE105:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 44


 1488              	.LBE104:
 477:Algorithm/fifo.c ****   FIFO_CPU_SR_TYPE cpu_sr;
 478:Algorithm/fifo.c ****   int retval;
 479:Algorithm/fifo.c ****   char *tmp_read_addr;
 480:Algorithm/fifo.c ****   int len_to_end;
 481:Algorithm/fifo.c ****   int len_from_start;
 482:Algorithm/fifo.c **** 
 483:Algorithm/fifo.c ****   ASSERT(p_fifo);
 484:Algorithm/fifo.c **** 
 485:Algorithm/fifo.c ****   //Interrupt Off;
 486:Algorithm/fifo.c ****   cpu_sr = FIFO_GET_CPU_SR();
 1489              		.loc 1 486 12
 1490 0016 1C46     		mov	r4, r3
 1491              	.LBB106:
 1492              	.LBB107:
 209:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1493              		.loc 2 209 3
 1494              		.syntax unified
 1495              	@ 209 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1496 0018 72B6     		cpsid i
 1497              	@ 0 "" 2
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 1498              		.loc 2 210 1
 1499              		.thumb
 1500              		.syntax unified
 1501 001a 00BF     		nop
 1502              	.LBE107:
 1503              	.LBE106:
 487:Algorithm/fifo.c ****   FIFO_ENTER_CRITICAL();
 488:Algorithm/fifo.c **** 
 489:Algorithm/fifo.c ****   if (NULL == p_dest)
 1504              		.loc 1 489 6
 1505 001c BB68     		ldr	r3, [r7, #8]
 1506 001e 002B     		cmp	r3, #0
 1507 0020 53D0     		beq	.L71
 490:Algorithm/fifo.c ****     goto end;
 491:Algorithm/fifo.c **** 
 492:Algorithm/fifo.c ****   if (0 == p_fifo->used_num)
 1508              		.loc 1 492 18
 1509 0022 FB68     		ldr	r3, [r7, #12]
 1510 0024 DB68     		ldr	r3, [r3, #12]
 1511              		.loc 1 492 6
 1512 0026 002B     		cmp	r3, #0
 1513 0028 51D0     		beq	.L72
 493:Algorithm/fifo.c ****     goto end;
 494:Algorithm/fifo.c **** 
 495:Algorithm/fifo.c ****   if (offset >= p_fifo->used_num)
 1514              		.loc 1 495 23
 1515 002a FB68     		ldr	r3, [r7, #12]
 1516 002c DB68     		ldr	r3, [r3, #12]
 1517              		.loc 1 495 6
 1518 002e 7A68     		ldr	r2, [r7, #4]
 1519 0030 9A42     		cmp	r2, r3
 1520 0032 4EDA     		bge	.L73
 496:Algorithm/fifo.c ****     goto end;
 497:Algorithm/fifo.c **** 
 498:Algorithm/fifo.c ****   tmp_read_addr = p_fifo->p_read_addr + offset;
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 45


 1521              		.loc 1 498 25
 1522 0034 FB68     		ldr	r3, [r7, #12]
 1523 0036 1A69     		ldr	r2, [r3, #16]
 1524              		.loc 1 498 39
 1525 0038 7B68     		ldr	r3, [r7, #4]
 1526              		.loc 1 498 17
 1527 003a 1344     		add	r3, r3, r2
 1528 003c FB62     		str	r3, [r7, #44]
 499:Algorithm/fifo.c ****   if (tmp_read_addr > p_fifo->p_end_addr)
 1529              		.loc 1 499 29
 1530 003e FB68     		ldr	r3, [r7, #12]
 1531 0040 5B68     		ldr	r3, [r3, #4]
 1532              		.loc 1 499 6
 1533 0042 FA6A     		ldr	r2, [r7, #44]
 1534 0044 9A42     		cmp	r2, r3
 1535 0046 08D9     		bls	.L67
 500:Algorithm/fifo.c ****     tmp_read_addr = tmp_read_addr - p_fifo->p_end_addr + p_fifo->p_start_addr - 1;
 1536              		.loc 1 500 64
 1537 0048 FB68     		ldr	r3, [r7, #12]
 1538 004a 1A68     		ldr	r2, [r3]
 1539              		.loc 1 500 43
 1540 004c FB68     		ldr	r3, [r7, #12]
 1541 004e 5B68     		ldr	r3, [r3, #4]
 1542              		.loc 1 500 35
 1543 0050 F96A     		ldr	r1, [r7, #44]
 1544 0052 CB1A     		subs	r3, r1, r3
 1545              		.loc 1 500 79
 1546 0054 013B     		subs	r3, r3, #1
 1547              		.loc 1 500 19
 1548 0056 1344     		add	r3, r3, r2
 1549 0058 FB62     		str	r3, [r7, #44]
 1550              	.L67:
 501:Algorithm/fifo.c **** 
 502:Algorithm/fifo.c ****   len = (len < (p_fifo->used_num - offset)) ? len : (p_fifo->used_num - offset);
 1551              		.loc 1 502 23
 1552 005a FB68     		ldr	r3, [r7, #12]
 1553 005c DA68     		ldr	r2, [r3, #12]
 1554              		.loc 1 502 34
 1555 005e 7B68     		ldr	r3, [r7, #4]
 1556 0060 D31A     		subs	r3, r2, r3
 1557              		.loc 1 502 7
 1558 0062 3A68     		ldr	r2, [r7]
 1559 0064 9342     		cmp	r3, r2
 1560 0066 A8BF     		it	ge
 1561 0068 1346     		movge	r3, r2
 1562 006a 3B60     		str	r3, [r7]
 503:Algorithm/fifo.c ****   len_to_end = p_fifo->p_end_addr - tmp_read_addr + 1;
 1563              		.loc 1 503 22
 1564 006c FB68     		ldr	r3, [r7, #12]
 1565 006e 5A68     		ldr	r2, [r3, #4]
 1566              		.loc 1 503 35
 1567 0070 FB6A     		ldr	r3, [r7, #44]
 1568 0072 D31A     		subs	r3, r2, r3
 1569              		.loc 1 503 14
 1570 0074 0133     		adds	r3, r3, #1
 1571 0076 BB62     		str	r3, [r7, #40]
 504:Algorithm/fifo.c **** 
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 46


 505:Algorithm/fifo.c ****   if (len_to_end >= len) //no rollback
 1572              		.loc 1 505 6
 1573 0078 BA6A     		ldr	r2, [r7, #40]
 1574 007a 3B68     		ldr	r3, [r7]
 1575 007c 9A42     		cmp	r2, r3
 1576 007e 08DB     		blt	.L68
 506:Algorithm/fifo.c ****   {
 507:Algorithm/fifo.c ****     len_to_end = len;
 1577              		.loc 1 507 16
 1578 0080 3B68     		ldr	r3, [r7]
 1579 0082 BB62     		str	r3, [r7, #40]
 508:Algorithm/fifo.c ****     memcpy(p_dest, tmp_read_addr, len_to_end);
 1580              		.loc 1 508 5
 1581 0084 BB6A     		ldr	r3, [r7, #40]
 1582 0086 1A46     		mov	r2, r3
 1583 0088 F96A     		ldr	r1, [r7, #44]
 1584 008a B868     		ldr	r0, [r7, #8]
 1585 008c FFF7FEFF 		bl	memcpy
 1586 0090 12E0     		b	.L69
 1587              	.L68:
 509:Algorithm/fifo.c ****   }
 510:Algorithm/fifo.c ****   else //rollback
 511:Algorithm/fifo.c ****   {
 512:Algorithm/fifo.c ****     len_from_start = len - len_to_end;
 1588              		.loc 1 512 20
 1589 0092 3A68     		ldr	r2, [r7]
 1590 0094 BB6A     		ldr	r3, [r7, #40]
 1591 0096 D31A     		subs	r3, r2, r3
 1592 0098 7B62     		str	r3, [r7, #36]
 513:Algorithm/fifo.c ****     memcpy(p_dest, tmp_read_addr, len_to_end);
 1593              		.loc 1 513 5
 1594 009a BB6A     		ldr	r3, [r7, #40]
 1595 009c 1A46     		mov	r2, r3
 1596 009e F96A     		ldr	r1, [r7, #44]
 1597 00a0 B868     		ldr	r0, [r7, #8]
 1598 00a2 FFF7FEFF 		bl	memcpy
 514:Algorithm/fifo.c ****     memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 1599              		.loc 1 514 5
 1600 00a6 BB6A     		ldr	r3, [r7, #40]
 1601              		.loc 1 514 19
 1602 00a8 BA68     		ldr	r2, [r7, #8]
 1603 00aa D018     		adds	r0, r2, r3
 1604              		.loc 1 514 39
 1605 00ac FB68     		ldr	r3, [r7, #12]
 1606 00ae 1B68     		ldr	r3, [r3]
 1607              		.loc 1 514 5
 1608 00b0 7A6A     		ldr	r2, [r7, #36]
 1609 00b2 1946     		mov	r1, r3
 1610 00b4 FFF7FEFF 		bl	memcpy
 1611              	.L69:
 515:Algorithm/fifo.c ****   }
 516:Algorithm/fifo.c **** 
 517:Algorithm/fifo.c ****   retval = len;
 1612              		.loc 1 517 10
 1613 00b8 3B68     		ldr	r3, [r7]
 1614 00ba 3B62     		str	r3, [r7, #32]
 1615 00bc BC61     		str	r4, [r7, #24]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 47


 1616              	.LBB108:
 1617              	.LBB109:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1618              		.loc 2 481 3
 1619 00be BB69     		ldr	r3, [r7, #24]
 1620              		.syntax unified
 1621              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1622 00c0 83F31088 		MSR primask, r3
 1623              	@ 0 "" 2
 1624              		.loc 2 482 1
 1625              		.thumb
 1626              		.syntax unified
 1627 00c4 00BF     		nop
 1628              	.LBE109:
 1629              	.LBE108:
 518:Algorithm/fifo.c ****   //Interrupt On
 519:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 520:Algorithm/fifo.c **** 
 521:Algorithm/fifo.c ****   return retval;
 1630              		.loc 1 521 10
 1631 00c6 3B6A     		ldr	r3, [r7, #32]
 1632 00c8 0BE0     		b	.L70
 1633              	.L71:
 490:Algorithm/fifo.c **** 
 1634              		.loc 1 490 5
 1635 00ca 00BF     		nop
 1636 00cc 02E0     		b	.L64
 1637              	.L72:
 493:Algorithm/fifo.c **** 
 1638              		.loc 1 493 5
 1639 00ce 00BF     		nop
 1640 00d0 00E0     		b	.L64
 1641              	.L73:
 496:Algorithm/fifo.c **** 
 1642              		.loc 1 496 5
 1643 00d2 00BF     		nop
 1644              	.L64:
 1645 00d4 7C61     		str	r4, [r7, #20]
 1646              	.LBB110:
 1647              	.LBB111:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1648              		.loc 2 481 3
 1649 00d6 7B69     		ldr	r3, [r7, #20]
 1650              		.syntax unified
 1651              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1652 00d8 83F31088 		MSR primask, r3
 1653              	@ 0 "" 2
 1654              		.loc 2 482 1
 1655              		.thumb
 1656              		.syntax unified
 1657 00dc 00BF     		nop
 1658              	.LBE111:
 1659              	.LBE110:
 522:Algorithm/fifo.c **** end:
 523:Algorithm/fifo.c ****   //Interrupt On
 524:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 525:Algorithm/fifo.c ****   return (-1);
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 48


 1660              		.loc 1 525 10
 1661 00de 4FF0FF33 		mov	r3, #-1
 1662              	.L70:
 526:Algorithm/fifo.c **** }
 1663              		.loc 1 526 1
 1664 00e2 1846     		mov	r0, r3
 1665 00e4 3437     		adds	r7, r7, #52
 1666              	.LCFI57:
 1667              		.cfi_def_cfa_offset 12
 1668 00e6 BD46     		mov	sp, r7
 1669              	.LCFI58:
 1670              		.cfi_def_cfa_register 13
 1671              		@ sp needed
 1672 00e8 90BD     		pop	{r4, r7, pc}
 1673              		.cfi_endproc
 1674              	.LFE157:
 1676              		.section	.text.fifo_s_isempty,"ax",%progbits
 1677              		.align	1
 1678              		.global	fifo_s_isempty
 1679              		.syntax unified
 1680              		.thumb
 1681              		.thumb_func
 1683              	fifo_s_isempty:
 1684              	.LFB158:
 527:Algorithm/fifo.c **** 
 528:Algorithm/fifo.c **** //******************************************************************************************
 529:Algorithm/fifo.c **** //
 530:Algorithm/fifo.c **** //! \brief  FIFO is empty (in single mode)?
 531:Algorithm/fifo.c **** //!
 532:Algorithm/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO.
 533:Algorithm/fifo.c **** //!
 534:Algorithm/fifo.c **** //! \retval - None-zero(true) if empty.
 535:Algorithm/fifo.c **** //!         - Zero(false) if not empty.
 536:Algorithm/fifo.c **** //
 537:Algorithm/fifo.c **** //******************************************************************************************
 538:Algorithm/fifo.c **** char fifo_s_isempty(fifo_s_t *p_fifo)
 539:Algorithm/fifo.c **** {
 1685              		.loc 1 539 1
 1686              		.cfi_startproc
 1687              		@ args = 0, pretend = 0, frame = 8
 1688              		@ frame_needed = 1, uses_anonymous_args = 0
 1689              		@ link register save eliminated.
 1690 0000 80B4     		push	{r7}
 1691              	.LCFI59:
 1692              		.cfi_def_cfa_offset 4
 1693              		.cfi_offset 7, -4
 1694 0002 83B0     		sub	sp, sp, #12
 1695              	.LCFI60:
 1696              		.cfi_def_cfa_offset 16
 1697 0004 00AF     		add	r7, sp, #0
 1698              	.LCFI61:
 1699              		.cfi_def_cfa_register 7
 1700 0006 7860     		str	r0, [r7, #4]
 540:Algorithm/fifo.c ****   //! Check input parameter.
 541:Algorithm/fifo.c ****   ASSERT(p_fifo);
 542:Algorithm/fifo.c ****   return (p_fifo->used_num ? 0 : 1);
 1701              		.loc 1 542 17
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 49


 1702 0008 7B68     		ldr	r3, [r7, #4]
 1703 000a DB68     		ldr	r3, [r3, #12]
 1704              		.loc 1 542 32
 1705 000c 002B     		cmp	r3, #0
 1706 000e 0CBF     		ite	eq
 1707 0010 0123     		moveq	r3, #1
 1708 0012 0023     		movne	r3, #0
 1709 0014 DBB2     		uxtb	r3, r3
 543:Algorithm/fifo.c **** }
 1710              		.loc 1 543 1
 1711 0016 1846     		mov	r0, r3
 1712 0018 0C37     		adds	r7, r7, #12
 1713              	.LCFI62:
 1714              		.cfi_def_cfa_offset 4
 1715 001a BD46     		mov	sp, r7
 1716              	.LCFI63:
 1717              		.cfi_def_cfa_register 13
 1718              		@ sp needed
 1719 001c 5DF8047B 		ldr	r7, [sp], #4
 1720              	.LCFI64:
 1721              		.cfi_restore 7
 1722              		.cfi_def_cfa_offset 0
 1723 0020 7047     		bx	lr
 1724              		.cfi_endproc
 1725              	.LFE158:
 1727              		.section	.text.fifo_s_isfull,"ax",%progbits
 1728              		.align	1
 1729              		.global	fifo_s_isfull
 1730              		.syntax unified
 1731              		.thumb
 1732              		.thumb_func
 1734              	fifo_s_isfull:
 1735              	.LFB159:
 544:Algorithm/fifo.c **** 
 545:Algorithm/fifo.c **** //******************************************************************************************
 546:Algorithm/fifo.c **** //
 547:Algorithm/fifo.c **** //! \brief  FIFO is full (in single mode)?
 548:Algorithm/fifo.c **** //!
 549:Algorithm/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO.
 550:Algorithm/fifo.c **** //!
 551:Algorithm/fifo.c **** //! \retval - None-zero(true) if full.
 552:Algorithm/fifo.c **** //!         - Zero(false) if not full.
 553:Algorithm/fifo.c **** //
 554:Algorithm/fifo.c **** //******************************************************************************************
 555:Algorithm/fifo.c **** char fifo_s_isfull(fifo_s_t *p_fifo)
 556:Algorithm/fifo.c **** {
 1736              		.loc 1 556 1
 1737              		.cfi_startproc
 1738              		@ args = 0, pretend = 0, frame = 8
 1739              		@ frame_needed = 1, uses_anonymous_args = 0
 1740              		@ link register save eliminated.
 1741 0000 80B4     		push	{r7}
 1742              	.LCFI65:
 1743              		.cfi_def_cfa_offset 4
 1744              		.cfi_offset 7, -4
 1745 0002 83B0     		sub	sp, sp, #12
 1746              	.LCFI66:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 50


 1747              		.cfi_def_cfa_offset 16
 1748 0004 00AF     		add	r7, sp, #0
 1749              	.LCFI67:
 1750              		.cfi_def_cfa_register 7
 1751 0006 7860     		str	r0, [r7, #4]
 557:Algorithm/fifo.c ****   //! Check input parameter.
 558:Algorithm/fifo.c ****   ASSERT(p_fifo);
 559:Algorithm/fifo.c ****   return (p_fifo->free_num ? 0 : 1);
 1752              		.loc 1 559 17
 1753 0008 7B68     		ldr	r3, [r7, #4]
 1754 000a 9B68     		ldr	r3, [r3, #8]
 1755              		.loc 1 559 32
 1756 000c 002B     		cmp	r3, #0
 1757 000e 0CBF     		ite	eq
 1758 0010 0123     		moveq	r3, #1
 1759 0012 0023     		movne	r3, #0
 1760 0014 DBB2     		uxtb	r3, r3
 560:Algorithm/fifo.c **** }
 1761              		.loc 1 560 1
 1762 0016 1846     		mov	r0, r3
 1763 0018 0C37     		adds	r7, r7, #12
 1764              	.LCFI68:
 1765              		.cfi_def_cfa_offset 4
 1766 001a BD46     		mov	sp, r7
 1767              	.LCFI69:
 1768              		.cfi_def_cfa_register 13
 1769              		@ sp needed
 1770 001c 5DF8047B 		ldr	r7, [sp], #4
 1771              	.LCFI70:
 1772              		.cfi_restore 7
 1773              		.cfi_def_cfa_offset 0
 1774 0020 7047     		bx	lr
 1775              		.cfi_endproc
 1776              	.LFE159:
 1778              		.section	.text.fifo_s_used,"ax",%progbits
 1779              		.align	1
 1780              		.global	fifo_s_used
 1781              		.syntax unified
 1782              		.thumb
 1783              		.thumb_func
 1785              	fifo_s_used:
 1786              	.LFB160:
 561:Algorithm/fifo.c **** 
 562:Algorithm/fifo.c **** //******************************************************************************************
 563:Algorithm/fifo.c **** //
 564:Algorithm/fifo.c **** //! \brief  Get FIFO the number of elements(in single mode)?
 565:Algorithm/fifo.c **** //!
 566:Algorithm/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO.
 567:Algorithm/fifo.c **** //!
 568:Algorithm/fifo.c **** //! \retval The number of elements in FIFO.
 569:Algorithm/fifo.c **** //
 570:Algorithm/fifo.c **** //******************************************************************************************
 571:Algorithm/fifo.c **** int fifo_s_used(fifo_s_t *p_fifo)
 572:Algorithm/fifo.c **** {
 1787              		.loc 1 572 1
 1788              		.cfi_startproc
 1789              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 51


 1790              		@ frame_needed = 1, uses_anonymous_args = 0
 1791              		@ link register save eliminated.
 1792 0000 80B4     		push	{r7}
 1793              	.LCFI71:
 1794              		.cfi_def_cfa_offset 4
 1795              		.cfi_offset 7, -4
 1796 0002 83B0     		sub	sp, sp, #12
 1797              	.LCFI72:
 1798              		.cfi_def_cfa_offset 16
 1799 0004 00AF     		add	r7, sp, #0
 1800              	.LCFI73:
 1801              		.cfi_def_cfa_register 7
 1802 0006 7860     		str	r0, [r7, #4]
 573:Algorithm/fifo.c ****   //! Check input parameter.
 574:Algorithm/fifo.c ****   ASSERT(p_fifo);
 575:Algorithm/fifo.c ****   return p_fifo->used_num;
 1803              		.loc 1 575 16
 1804 0008 7B68     		ldr	r3, [r7, #4]
 1805 000a DB68     		ldr	r3, [r3, #12]
 576:Algorithm/fifo.c **** }
 1806              		.loc 1 576 1
 1807 000c 1846     		mov	r0, r3
 1808 000e 0C37     		adds	r7, r7, #12
 1809              	.LCFI74:
 1810              		.cfi_def_cfa_offset 4
 1811 0010 BD46     		mov	sp, r7
 1812              	.LCFI75:
 1813              		.cfi_def_cfa_register 13
 1814              		@ sp needed
 1815 0012 5DF8047B 		ldr	r7, [sp], #4
 1816              	.LCFI76:
 1817              		.cfi_restore 7
 1818              		.cfi_def_cfa_offset 0
 1819 0016 7047     		bx	lr
 1820              		.cfi_endproc
 1821              	.LFE160:
 1823              		.section	.text.fifo_s_free,"ax",%progbits
 1824              		.align	1
 1825              		.global	fifo_s_free
 1826              		.syntax unified
 1827              		.thumb
 1828              		.thumb_func
 1830              	fifo_s_free:
 1831              	.LFB161:
 577:Algorithm/fifo.c **** 
 578:Algorithm/fifo.c **** //******************************************************************************************
 579:Algorithm/fifo.c **** //
 580:Algorithm/fifo.c **** //! \brief  Get FIFO the number of elements(in single mode)?
 581:Algorithm/fifo.c **** //!
 582:Algorithm/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO.
 583:Algorithm/fifo.c **** //!
 584:Algorithm/fifo.c **** //! \retval The number of elements in FIFO.
 585:Algorithm/fifo.c **** //
 586:Algorithm/fifo.c **** //******************************************************************************************
 587:Algorithm/fifo.c **** int fifo_s_free(fifo_s_t *p_fifo)
 588:Algorithm/fifo.c **** {
 1832              		.loc 1 588 1
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 52


 1833              		.cfi_startproc
 1834              		@ args = 0, pretend = 0, frame = 8
 1835              		@ frame_needed = 1, uses_anonymous_args = 0
 1836              		@ link register save eliminated.
 1837 0000 80B4     		push	{r7}
 1838              	.LCFI77:
 1839              		.cfi_def_cfa_offset 4
 1840              		.cfi_offset 7, -4
 1841 0002 83B0     		sub	sp, sp, #12
 1842              	.LCFI78:
 1843              		.cfi_def_cfa_offset 16
 1844 0004 00AF     		add	r7, sp, #0
 1845              	.LCFI79:
 1846              		.cfi_def_cfa_register 7
 1847 0006 7860     		str	r0, [r7, #4]
 589:Algorithm/fifo.c ****   //! Check input parameter.
 590:Algorithm/fifo.c ****   ASSERT(p_fifo);
 591:Algorithm/fifo.c ****   return p_fifo->free_num;
 1848              		.loc 1 591 16
 1849 0008 7B68     		ldr	r3, [r7, #4]
 1850 000a 9B68     		ldr	r3, [r3, #8]
 592:Algorithm/fifo.c **** }
 1851              		.loc 1 592 1
 1852 000c 1846     		mov	r0, r3
 1853 000e 0C37     		adds	r7, r7, #12
 1854              	.LCFI80:
 1855              		.cfi_def_cfa_offset 4
 1856 0010 BD46     		mov	sp, r7
 1857              	.LCFI81:
 1858              		.cfi_def_cfa_register 13
 1859              		@ sp needed
 1860 0012 5DF8047B 		ldr	r7, [sp], #4
 1861              	.LCFI82:
 1862              		.cfi_restore 7
 1863              		.cfi_def_cfa_offset 0
 1864 0016 7047     		bx	lr
 1865              		.cfi_endproc
 1866              	.LFE161:
 1868              		.section	.text.fifo_s_flush,"ax",%progbits
 1869              		.align	1
 1870              		.global	fifo_s_flush
 1871              		.syntax unified
 1872              		.thumb
 1873              		.thumb_func
 1875              	fifo_s_flush:
 1876              	.LFB162:
 593:Algorithm/fifo.c **** 
 594:Algorithm/fifo.c **** //******************************************************************************************
 595:Algorithm/fifo.c **** //
 596:Algorithm/fifo.c **** //! \brief  Flush the content of FIFO.
 597:Algorithm/fifo.c **** //!
 598:Algorithm/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO.
 599:Algorithm/fifo.c **** //!
 600:Algorithm/fifo.c **** //! \retval 0 if success, -1 if failure.
 601:Algorithm/fifo.c **** //
 602:Algorithm/fifo.c **** //******************************************************************************************
 603:Algorithm/fifo.c **** void fifo_s_flush(fifo_s_t *p_fifo)
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 53


 604:Algorithm/fifo.c **** {
 1877              		.loc 1 604 1
 1878              		.cfi_startproc
 1879              		@ args = 0, pretend = 0, frame = 16
 1880              		@ frame_needed = 1, uses_anonymous_args = 0
 1881              		@ link register save eliminated.
 1882 0000 90B4     		push	{r4, r7}
 1883              	.LCFI83:
 1884              		.cfi_def_cfa_offset 8
 1885              		.cfi_offset 4, -8
 1886              		.cfi_offset 7, -4
 1887 0002 84B0     		sub	sp, sp, #16
 1888              	.LCFI84:
 1889              		.cfi_def_cfa_offset 24
 1890 0004 00AF     		add	r7, sp, #0
 1891              	.LCFI85:
 1892              		.cfi_def_cfa_register 7
 1893 0006 7860     		str	r0, [r7, #4]
 1894              	.LBB112:
 1895              	.LBB113:
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 1896              		.loc 2 453 3
 1897              		.syntax unified
 1898              	@ 453 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1899 0008 EFF31083 		MRS r3, primask
 1900              	@ 0 "" 2
 1901              		.thumb
 1902              		.syntax unified
 1903 000c BB60     		str	r3, [r7, #8]
 454:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1904              		.loc 2 454 9
 1905 000e BB68     		ldr	r3, [r7, #8]
 1906              	.LBE113:
 1907              	.LBE112:
 605:Algorithm/fifo.c ****   FIFO_CPU_SR_TYPE cpu_sr;
 606:Algorithm/fifo.c **** 
 607:Algorithm/fifo.c ****   //! Check input parameters.
 608:Algorithm/fifo.c ****   ASSERT(p_fifo);
 609:Algorithm/fifo.c ****   //! Initialize FIFO Control Block.
 610:Algorithm/fifo.c ****   //Interrupt Off;
 611:Algorithm/fifo.c ****   cpu_sr = FIFO_GET_CPU_SR();
 1908              		.loc 1 611 12
 1909 0010 1C46     		mov	r4, r3
 1910              	.LBB114:
 1911              	.LBB115:
 209:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1912              		.loc 2 209 3
 1913              		.syntax unified
 1914              	@ 209 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1915 0012 72B6     		cpsid i
 1916              	@ 0 "" 2
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 1917              		.loc 2 210 1
 1918              		.thumb
 1919              		.syntax unified
 1920 0014 00BF     		nop
 1921              	.LBE115:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 54


 1922              	.LBE114:
 612:Algorithm/fifo.c ****   FIFO_ENTER_CRITICAL();
 613:Algorithm/fifo.c **** 
 614:Algorithm/fifo.c ****   p_fifo->free_num = p_fifo->p_end_addr - p_fifo->p_start_addr + 1;
 1923              		.loc 1 614 28
 1924 0016 7B68     		ldr	r3, [r7, #4]
 1925 0018 5A68     		ldr	r2, [r3, #4]
 1926              		.loc 1 614 49
 1927 001a 7B68     		ldr	r3, [r7, #4]
 1928 001c 1B68     		ldr	r3, [r3]
 1929              		.loc 1 614 41
 1930 001e D31A     		subs	r3, r2, r3
 1931              		.loc 1 614 64
 1932 0020 5A1C     		adds	r2, r3, #1
 1933              		.loc 1 614 20
 1934 0022 7B68     		ldr	r3, [r7, #4]
 1935 0024 9A60     		str	r2, [r3, #8]
 615:Algorithm/fifo.c ****   p_fifo->used_num = 0;
 1936              		.loc 1 615 20
 1937 0026 7B68     		ldr	r3, [r7, #4]
 1938 0028 0022     		movs	r2, #0
 1939 002a DA60     		str	r2, [r3, #12]
 616:Algorithm/fifo.c ****   p_fifo->p_read_addr = p_fifo->p_start_addr;
 1940              		.loc 1 616 31
 1941 002c 7B68     		ldr	r3, [r7, #4]
 1942 002e 1A68     		ldr	r2, [r3]
 1943              		.loc 1 616 23
 1944 0030 7B68     		ldr	r3, [r7, #4]
 1945 0032 1A61     		str	r2, [r3, #16]
 617:Algorithm/fifo.c ****   p_fifo->p_write_addr = p_fifo->p_start_addr;
 1946              		.loc 1 617 32
 1947 0034 7B68     		ldr	r3, [r7, #4]
 1948 0036 1A68     		ldr	r2, [r3]
 1949              		.loc 1 617 24
 1950 0038 7B68     		ldr	r3, [r7, #4]
 1951 003a 5A61     		str	r2, [r3, #20]
 1952 003c FC60     		str	r4, [r7, #12]
 1953              	.LBB116:
 1954              	.LBB117:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1955              		.loc 2 481 3
 1956 003e FB68     		ldr	r3, [r7, #12]
 1957              		.syntax unified
 1958              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1959 0040 83F31088 		MSR primask, r3
 1960              	@ 0 "" 2
 1961              		.loc 2 482 1
 1962              		.thumb
 1963              		.syntax unified
 1964 0044 00BF     		nop
 1965              	.LBE117:
 1966              	.LBE116:
 618:Algorithm/fifo.c ****   //Interrupt On
 619:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 620:Algorithm/fifo.c **** }
 1967              		.loc 1 620 1
 1968 0046 00BF     		nop
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 55


 1969 0048 1037     		adds	r7, r7, #16
 1970              	.LCFI86:
 1971              		.cfi_def_cfa_offset 8
 1972 004a BD46     		mov	sp, r7
 1973              	.LCFI87:
 1974              		.cfi_def_cfa_register 13
 1975              		@ sp needed
 1976 004c 90BC     		pop	{r4, r7}
 1977              	.LCFI88:
 1978              		.cfi_restore 7
 1979              		.cfi_restore 4
 1980              		.cfi_def_cfa_offset 0
 1981 004e 7047     		bx	lr
 1982              		.cfi_endproc
 1983              	.LFE162:
 1985              		.section	.text.fifo_s_discard,"ax",%progbits
 1986              		.align	1
 1987              		.global	fifo_s_discard
 1988              		.syntax unified
 1989              		.thumb
 1990              		.thumb_func
 1992              	fifo_s_discard:
 1993              	.LFB163:
 621:Algorithm/fifo.c **** 
 622:Algorithm/fifo.c **** int fifo_s_discard(fifo_s_t *p_fifo, int len)
 623:Algorithm/fifo.c **** {
 1994              		.loc 1 623 1
 1995              		.cfi_startproc
 1996              		@ args = 0, pretend = 0, frame = 24
 1997              		@ frame_needed = 1, uses_anonymous_args = 0
 1998              		@ link register save eliminated.
 1999 0000 90B4     		push	{r4, r7}
 2000              	.LCFI89:
 2001              		.cfi_def_cfa_offset 8
 2002              		.cfi_offset 4, -8
 2003              		.cfi_offset 7, -4
 2004 0002 86B0     		sub	sp, sp, #24
 2005              	.LCFI90:
 2006              		.cfi_def_cfa_offset 32
 2007 0004 00AF     		add	r7, sp, #0
 2008              	.LCFI91:
 2009              		.cfi_def_cfa_register 7
 2010 0006 7860     		str	r0, [r7, #4]
 2011 0008 3960     		str	r1, [r7]
 2012              	.LBB118:
 2013              	.LBB119:
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 2014              		.loc 2 453 3
 2015              		.syntax unified
 2016              	@ 453 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2017 000a EFF31083 		MRS r3, primask
 2018              	@ 0 "" 2
 2019              		.thumb
 2020              		.syntax unified
 2021 000e 3B61     		str	r3, [r7, #16]
 454:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2022              		.loc 2 454 9
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 56


 2023 0010 3B69     		ldr	r3, [r7, #16]
 2024              	.LBE119:
 2025              	.LBE118:
 624:Algorithm/fifo.c ****   FIFO_CPU_SR_TYPE cpu_sr;
 625:Algorithm/fifo.c ****   //! Check input parameters.
 626:Algorithm/fifo.c ****   char *tmp_index;
 627:Algorithm/fifo.c ****   ASSERT(p_fifo);
 628:Algorithm/fifo.c **** 
 629:Algorithm/fifo.c ****   //Interrupt Off;
 630:Algorithm/fifo.c ****   cpu_sr = FIFO_GET_CPU_SR();
 2026              		.loc 1 630 12
 2027 0012 1C46     		mov	r4, r3
 2028              	.LBB120:
 2029              	.LBB121:
 209:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2030              		.loc 2 209 3
 2031              		.syntax unified
 2032              	@ 209 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2033 0014 72B6     		cpsid i
 2034              	@ 0 "" 2
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 2035              		.loc 2 210 1
 2036              		.thumb
 2037              		.syntax unified
 2038 0016 00BF     		nop
 2039              	.LBE121:
 2040              	.LBE120:
 631:Algorithm/fifo.c ****   FIFO_ENTER_CRITICAL();
 632:Algorithm/fifo.c **** 
 633:Algorithm/fifo.c ****   if (len > p_fifo->used_num)
 2041              		.loc 1 633 19
 2042 0018 7B68     		ldr	r3, [r7, #4]
 2043 001a DB68     		ldr	r3, [r3, #12]
 2044              		.loc 1 633 6
 2045 001c 3A68     		ldr	r2, [r7]
 2046 001e 9A42     		cmp	r2, r3
 2047 0020 02DD     		ble	.L86
 634:Algorithm/fifo.c ****     len = p_fifo->used_num;
 2048              		.loc 1 634 9
 2049 0022 7B68     		ldr	r3, [r7, #4]
 2050 0024 DB68     		ldr	r3, [r3, #12]
 2051 0026 3B60     		str	r3, [r7]
 2052              	.L86:
 635:Algorithm/fifo.c **** 
 636:Algorithm/fifo.c ****   tmp_index = len + p_fifo->p_read_addr;
 2053              		.loc 1 636 27
 2054 0028 7B68     		ldr	r3, [r7, #4]
 2055 002a 1A69     		ldr	r2, [r3, #16]
 2056              		.loc 1 636 19
 2057 002c 3B68     		ldr	r3, [r7]
 2058              		.loc 1 636 13
 2059 002e 1344     		add	r3, r3, r2
 2060 0030 7B61     		str	r3, [r7, #20]
 637:Algorithm/fifo.c ****   if (tmp_index > p_fifo->p_end_addr)
 2061              		.loc 1 637 25
 2062 0032 7B68     		ldr	r3, [r7, #4]
 2063 0034 5B68     		ldr	r3, [r3, #4]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 57


 2064              		.loc 1 637 6
 2065 0036 7A69     		ldr	r2, [r7, #20]
 2066 0038 9A42     		cmp	r2, r3
 2067 003a 08D9     		bls	.L87
 638:Algorithm/fifo.c ****     tmp_index = tmp_index - p_fifo->p_end_addr + p_fifo->p_start_addr - 1;
 2068              		.loc 1 638 56
 2069 003c 7B68     		ldr	r3, [r7, #4]
 2070 003e 1A68     		ldr	r2, [r3]
 2071              		.loc 1 638 35
 2072 0040 7B68     		ldr	r3, [r7, #4]
 2073 0042 5B68     		ldr	r3, [r3, #4]
 2074              		.loc 1 638 27
 2075 0044 7969     		ldr	r1, [r7, #20]
 2076 0046 CB1A     		subs	r3, r1, r3
 2077              		.loc 1 638 71
 2078 0048 013B     		subs	r3, r3, #1
 2079              		.loc 1 638 15
 2080 004a 1344     		add	r3, r3, r2
 2081 004c 7B61     		str	r3, [r7, #20]
 2082              	.L87:
 639:Algorithm/fifo.c ****   p_fifo->p_read_addr = tmp_index;
 2083              		.loc 1 639 23
 2084 004e 7B68     		ldr	r3, [r7, #4]
 2085 0050 7A69     		ldr	r2, [r7, #20]
 2086 0052 1A61     		str	r2, [r3, #16]
 640:Algorithm/fifo.c ****   p_fifo->free_num += len;
 2087              		.loc 1 640 9
 2088 0054 7B68     		ldr	r3, [r7, #4]
 2089 0056 9A68     		ldr	r2, [r3, #8]
 2090              		.loc 1 640 20
 2091 0058 3B68     		ldr	r3, [r7]
 2092 005a 1A44     		add	r2, r2, r3
 2093 005c 7B68     		ldr	r3, [r7, #4]
 2094 005e 9A60     		str	r2, [r3, #8]
 641:Algorithm/fifo.c ****   p_fifo->used_num -= len;
 2095              		.loc 1 641 9
 2096 0060 7B68     		ldr	r3, [r7, #4]
 2097 0062 DA68     		ldr	r2, [r3, #12]
 2098              		.loc 1 641 20
 2099 0064 3B68     		ldr	r3, [r7]
 2100 0066 D21A     		subs	r2, r2, r3
 2101 0068 7B68     		ldr	r3, [r7, #4]
 2102 006a DA60     		str	r2, [r3, #12]
 2103 006c FC60     		str	r4, [r7, #12]
 2104              	.LBB122:
 2105              	.LBB123:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2106              		.loc 2 481 3
 2107 006e FB68     		ldr	r3, [r7, #12]
 2108              		.syntax unified
 2109              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2110 0070 83F31088 		MSR primask, r3
 2111              	@ 0 "" 2
 2112              		.loc 2 482 1
 2113              		.thumb
 2114              		.syntax unified
 2115 0074 00BF     		nop
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 58


 2116              	.LBE123:
 2117              	.LBE122:
 642:Algorithm/fifo.c ****   //Interrupt On
 643:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 644:Algorithm/fifo.c **** 
 645:Algorithm/fifo.c ****   return len;
 2118              		.loc 1 645 10
 2119 0076 3B68     		ldr	r3, [r7]
 646:Algorithm/fifo.c **** }
 2120              		.loc 1 646 1
 2121 0078 1846     		mov	r0, r3
 2122 007a 1837     		adds	r7, r7, #24
 2123              	.LCFI92:
 2124              		.cfi_def_cfa_offset 8
 2125 007c BD46     		mov	sp, r7
 2126              	.LCFI93:
 2127              		.cfi_def_cfa_register 13
 2128              		@ sp needed
 2129 007e 90BC     		pop	{r4, r7}
 2130              	.LCFI94:
 2131              		.cfi_restore 7
 2132              		.cfi_restore 4
 2133              		.cfi_def_cfa_offset 0
 2134 0080 7047     		bx	lr
 2135              		.cfi_endproc
 2136              	.LFE163:
 2138              		.section	.text.fifo_create,"ax",%progbits
 2139              		.align	1
 2140              		.global	fifo_create
 2141              		.syntax unified
 2142              		.thumb
 2143              		.thumb_func
 2145              	fifo_create:
 2146              	.LFB164:
 647:Algorithm/fifo.c **** 
 648:Algorithm/fifo.c **** #ifdef USE_DYNAMIC_MEMORY
 649:Algorithm/fifo.c **** //******************************************************************************************
 650:Algorithm/fifo.c **** //
 651:Algorithm/fifo.c **** //! \brief  Create An New FIFO Instance.
 652:Algorithm/fifo.c **** //! This function allocate enought room for N blocks fifo elements, then return the pointer
 653:Algorithm/fifo.c **** //! of FIFO.
 654:Algorithm/fifo.c **** //!
 655:Algorithm/fifo.c **** //! \param  [in] UnitSize is fifo element size.
 656:Algorithm/fifo.c **** //! \param  [in] UnitCnt is count of fifo elements.
 657:Algorithm/fifo.c **** //! \retval The Pointer of FIFO instance, return NULL is failure to allocate memory.
 658:Algorithm/fifo.c **** //!
 659:Algorithm/fifo.c **** //! \note   -# You must enable USE_MEMORY_ALLOC macro and ensure your system have <stdlib.h>
 660:Algorithm/fifo.c **** //!            Header file before use this function.
 661:Algorithm/fifo.c **** //! \note   -# Functions FIFO_Create and FIFO_Destory must be used in pairs.
 662:Algorithm/fifo.c **** //!
 663:Algorithm/fifo.c **** //******************************************************************************************
 664:Algorithm/fifo.c **** fifo_t *fifo_create(char unit_size, int unit_cnt)
 665:Algorithm/fifo.c **** {
 2147              		.loc 1 665 1
 2148              		.cfi_startproc
 2149              		@ args = 0, pretend = 0, frame = 16
 2150              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 59


 2151 0000 80B5     		push	{r7, lr}
 2152              	.LCFI95:
 2153              		.cfi_def_cfa_offset 8
 2154              		.cfi_offset 7, -8
 2155              		.cfi_offset 14, -4
 2156 0002 84B0     		sub	sp, sp, #16
 2157              	.LCFI96:
 2158              		.cfi_def_cfa_offset 24
 2159 0004 00AF     		add	r7, sp, #0
 2160              	.LCFI97:
 2161              		.cfi_def_cfa_register 7
 2162 0006 0346     		mov	r3, r0
 2163 0008 3960     		str	r1, [r7]
 2164 000a FB71     		strb	r3, [r7, #7]
 666:Algorithm/fifo.c ****   fifo_t *p_fifo = NULL;    //!< FIFO Pointer
 2165              		.loc 1 666 11
 2166 000c 0023     		movs	r3, #0
 2167 000e FB60     		str	r3, [r7, #12]
 667:Algorithm/fifo.c ****   char *p_base_addr = NULL; //!< Memory Base Address
 2168              		.loc 1 667 9
 2169 0010 0023     		movs	r3, #0
 2170 0012 BB60     		str	r3, [r7, #8]
 668:Algorithm/fifo.c **** 
 669:Algorithm/fifo.c ****   //! Check input parameters.
 670:Algorithm/fifo.c ****   ASSERT(unit_size);
 671:Algorithm/fifo.c ****   ASSERT(unit_cnt);
 672:Algorithm/fifo.c **** 
 673:Algorithm/fifo.c ****   //! Allocate Memory for pointer of new FIFO Control Block.
 674:Algorithm/fifo.c ****   p_fifo = (fifo_t *)malloc(sizeof(fifo_t));
 2171              		.loc 1 674 22
 2172 0014 1C20     		movs	r0, #28
 2173 0016 FFF7FEFF 		bl	malloc
 2174 001a 0346     		mov	r3, r0
 2175 001c FB60     		str	r3, [r7, #12]
 675:Algorithm/fifo.c ****   if (NULL == p_fifo)
 2176              		.loc 1 675 6
 2177 001e FB68     		ldr	r3, [r7, #12]
 2178 0020 002B     		cmp	r3, #0
 2179 0022 01D1     		bne	.L90
 676:Algorithm/fifo.c ****   {
 677:Algorithm/fifo.c ****     //! Allocate Failure, exit now.
 678:Algorithm/fifo.c ****     return (NULL);
 2180              		.loc 1 678 12
 2181 0024 0023     		movs	r3, #0
 2182 0026 17E0     		b	.L91
 2183              	.L90:
 679:Algorithm/fifo.c ****   }
 680:Algorithm/fifo.c **** 
 681:Algorithm/fifo.c ****   //! Allocate memory for FIFO.
 682:Algorithm/fifo.c ****   p_base_addr = malloc(unit_size * unit_cnt);
 2184              		.loc 1 682 34
 2185 0028 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2186 002a 3A68     		ldr	r2, [r7]
 2187 002c 02FB03F3 		mul	r3, r2, r3
 2188              		.loc 1 682 17
 2189 0030 1846     		mov	r0, r3
 2190 0032 FFF7FEFF 		bl	malloc
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 60


 2191 0036 0346     		mov	r3, r0
 2192 0038 BB60     		str	r3, [r7, #8]
 683:Algorithm/fifo.c ****   if (NULL == p_base_addr)
 2193              		.loc 1 683 6
 2194 003a BB68     		ldr	r3, [r7, #8]
 2195 003c 002B     		cmp	r3, #0
 2196 003e 04D1     		bne	.L92
 684:Algorithm/fifo.c ****   {
 685:Algorithm/fifo.c ****     //! Allocate Failure, exit now.
 686:Algorithm/fifo.c ****     free(p_fifo);
 2197              		.loc 1 686 5
 2198 0040 F868     		ldr	r0, [r7, #12]
 2199 0042 FFF7FEFF 		bl	free
 687:Algorithm/fifo.c ****     return (NULL);
 2200              		.loc 1 687 12
 2201 0046 0023     		movs	r3, #0
 2202 0048 06E0     		b	.L91
 2203              	.L92:
 688:Algorithm/fifo.c ****   }
 689:Algorithm/fifo.c **** 
 690:Algorithm/fifo.c ****   //! Initialize General FIFO Module.
 691:Algorithm/fifo.c ****   fifo_init(p_fifo, p_base_addr, unit_size, unit_cnt);
 2204              		.loc 1 691 3
 2205 004a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 2206 004c 3B68     		ldr	r3, [r7]
 2207 004e B968     		ldr	r1, [r7, #8]
 2208 0050 F868     		ldr	r0, [r7, #12]
 2209 0052 FFF7FEFF 		bl	fifo_init
 692:Algorithm/fifo.c **** 
 693:Algorithm/fifo.c ****   return (p_fifo);
 2210              		.loc 1 693 10
 2211 0056 FB68     		ldr	r3, [r7, #12]
 2212              	.L91:
 694:Algorithm/fifo.c **** }
 2213              		.loc 1 694 1
 2214 0058 1846     		mov	r0, r3
 2215 005a 1037     		adds	r7, r7, #16
 2216              	.LCFI98:
 2217              		.cfi_def_cfa_offset 8
 2218 005c BD46     		mov	sp, r7
 2219              	.LCFI99:
 2220              		.cfi_def_cfa_register 13
 2221              		@ sp needed
 2222 005e 80BD     		pop	{r7, pc}
 2223              		.cfi_endproc
 2224              	.LFE164:
 2226              		.section	.text.fifo_destory,"ax",%progbits
 2227              		.align	1
 2228              		.global	fifo_destory
 2229              		.syntax unified
 2230              		.thumb
 2231              		.thumb_func
 2233              	fifo_destory:
 2234              	.LFB165:
 695:Algorithm/fifo.c **** 
 696:Algorithm/fifo.c **** //******************************************************************************************
 697:Algorithm/fifo.c **** //
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 61


 698:Algorithm/fifo.c **** //! \brief  Destory FIFO Instance.
 699:Algorithm/fifo.c **** //!  This function release memory, then reinit the FIFO struct.
 700:Algorithm/fifo.c **** //!
 701:Algorithm/fifo.c **** //! \param  [in] pFIFO is the pointer of FIFO instance
 702:Algorithm/fifo.c **** //! \retval None.
 703:Algorithm/fifo.c **** //!
 704:Algorithm/fifo.c **** //! \note   -# You must enable USE_MEMORY_ALLOC macro and ensure your system have <stdlib.h>
 705:Algorithm/fifo.c **** //!            Header file before use this function.
 706:Algorithm/fifo.c **** //
 707:Algorithm/fifo.c **** //******************************************************************************************
 708:Algorithm/fifo.c **** void fifo_destory(fifo_t *p_fifo)
 709:Algorithm/fifo.c **** {
 2235              		.loc 1 709 1
 2236              		.cfi_startproc
 2237              		@ args = 0, pretend = 0, frame = 8
 2238              		@ frame_needed = 1, uses_anonymous_args = 0
 2239 0000 80B5     		push	{r7, lr}
 2240              	.LCFI100:
 2241              		.cfi_def_cfa_offset 8
 2242              		.cfi_offset 7, -8
 2243              		.cfi_offset 14, -4
 2244 0002 82B0     		sub	sp, sp, #8
 2245              	.LCFI101:
 2246              		.cfi_def_cfa_offset 16
 2247 0004 00AF     		add	r7, sp, #0
 2248              	.LCFI102:
 2249              		.cfi_def_cfa_register 7
 2250 0006 7860     		str	r0, [r7, #4]
 710:Algorithm/fifo.c ****   //! Check input parameters.
 711:Algorithm/fifo.c ****   ASSERT(p_fifo);
 712:Algorithm/fifo.c ****   ASSERT(p_fifo->p_start_addr);
 713:Algorithm/fifo.c **** 
 714:Algorithm/fifo.c ****   //! Free FIFO memory
 715:Algorithm/fifo.c ****   free(p_fifo->p_start_addr);
 2251              		.loc 1 715 14
 2252 0008 7B68     		ldr	r3, [r7, #4]
 2253 000a 1B68     		ldr	r3, [r3]
 2254              		.loc 1 715 3
 2255 000c 1846     		mov	r0, r3
 2256 000e FFF7FEFF 		bl	free
 716:Algorithm/fifo.c ****   //! Free FIFO Control Block memory.
 717:Algorithm/fifo.c ****   free(p_fifo);
 2257              		.loc 1 717 3
 2258 0012 7868     		ldr	r0, [r7, #4]
 2259 0014 FFF7FEFF 		bl	free
 718:Algorithm/fifo.c **** 
 719:Algorithm/fifo.c ****   return; //!< Success
 2260              		.loc 1 719 3
 2261 0018 00BF     		nop
 720:Algorithm/fifo.c **** }
 2262              		.loc 1 720 1
 2263 001a 0837     		adds	r7, r7, #8
 2264              	.LCFI103:
 2265              		.cfi_def_cfa_offset 8
 2266 001c BD46     		mov	sp, r7
 2267              	.LCFI104:
 2268              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 62


 2269              		@ sp needed
 2270 001e 80BD     		pop	{r7, pc}
 2271              		.cfi_endproc
 2272              	.LFE165:
 2274              		.section	.text.fifo_init,"ax",%progbits
 2275              		.align	1
 2276              		.global	fifo_init
 2277              		.syntax unified
 2278              		.thumb
 2279              		.thumb_func
 2281              	fifo_init:
 2282              	.LFB166:
 721:Algorithm/fifo.c **** 
 722:Algorithm/fifo.c **** #endif // USE_DYNAMIC_MEMORY
 723:Algorithm/fifo.c **** 
 724:Algorithm/fifo.c **** //******************************************************************************************
 725:Algorithm/fifo.c **** //
 726:Algorithm/fifo.c **** //! \brief  Initialize an static FIFO struct.
 727:Algorithm/fifo.c **** //!
 728:Algorithm/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO instance.
 729:Algorithm/fifo.c **** //! \param  [in] pBaseAddr is the base address of pre-allocate memory, such as array.
 730:Algorithm/fifo.c **** //! \param  [in] UnitSize is fifo element size.
 731:Algorithm/fifo.c **** //! \param  [in] UnitCnt is count of fifo elements.
 732:Algorithm/fifo.c **** //! \retval 0 if initialize successfully, otherwise return -1.
 733:Algorithm/fifo.c **** //
 734:Algorithm/fifo.c **** //******************************************************************************************
 735:Algorithm/fifo.c **** int fifo_init(fifo_t *p_fifo, void *p_base_addr, char unit_size, int unit_cnt)
 736:Algorithm/fifo.c **** {
 2283              		.loc 1 736 1
 2284              		.cfi_startproc
 2285              		@ args = 0, pretend = 0, frame = 16
 2286              		@ frame_needed = 1, uses_anonymous_args = 0
 2287              		@ link register save eliminated.
 2288 0000 80B4     		push	{r7}
 2289              	.LCFI105:
 2290              		.cfi_def_cfa_offset 4
 2291              		.cfi_offset 7, -4
 2292 0002 85B0     		sub	sp, sp, #20
 2293              	.LCFI106:
 2294              		.cfi_def_cfa_offset 24
 2295 0004 00AF     		add	r7, sp, #0
 2296              	.LCFI107:
 2297              		.cfi_def_cfa_register 7
 2298 0006 F860     		str	r0, [r7, #12]
 2299 0008 B960     		str	r1, [r7, #8]
 2300 000a 3B60     		str	r3, [r7]
 2301 000c 1346     		mov	r3, r2
 2302 000e FB71     		strb	r3, [r7, #7]
 737:Algorithm/fifo.c ****   //! Check input parameters.
 738:Algorithm/fifo.c ****   ASSERT(p_fifo);
 739:Algorithm/fifo.c ****   ASSERT(p_base_addr);
 740:Algorithm/fifo.c ****   ASSERT(unit_size);
 741:Algorithm/fifo.c ****   ASSERT(unit_cnt);
 742:Algorithm/fifo.c **** 
 743:Algorithm/fifo.c ****   //! Initialize FIFO Control Block.
 744:Algorithm/fifo.c ****   p_fifo->p_start_addr = (char *)p_base_addr;
 2303              		.loc 1 744 24
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 63


 2304 0010 FB68     		ldr	r3, [r7, #12]
 2305 0012 BA68     		ldr	r2, [r7, #8]
 2306 0014 1A60     		str	r2, [r3]
 745:Algorithm/fifo.c ****   p_fifo->p_end_addr = (char *)p_base_addr + unit_size * unit_cnt - 1;
 2307              		.loc 1 745 56
 2308 0016 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2309 0018 3A68     		ldr	r2, [r7]
 2310 001a 02FB03F3 		mul	r3, r2, r3
 2311              		.loc 1 745 67
 2312 001e 013B     		subs	r3, r3, #1
 2313 0020 BA68     		ldr	r2, [r7, #8]
 2314 0022 1A44     		add	r2, r2, r3
 2315              		.loc 1 745 22
 2316 0024 FB68     		ldr	r3, [r7, #12]
 2317 0026 5A60     		str	r2, [r3, #4]
 746:Algorithm/fifo.c ****   p_fifo->free_num = unit_cnt;
 2318              		.loc 1 746 20
 2319 0028 FB68     		ldr	r3, [r7, #12]
 2320 002a 3A68     		ldr	r2, [r7]
 2321 002c 9A60     		str	r2, [r3, #8]
 747:Algorithm/fifo.c ****   p_fifo->used_num = 0;
 2322              		.loc 1 747 20
 2323 002e FB68     		ldr	r3, [r7, #12]
 2324 0030 0022     		movs	r2, #0
 2325 0032 DA60     		str	r2, [r3, #12]
 748:Algorithm/fifo.c ****   p_fifo->unit_size = unit_size;
 2326              		.loc 1 748 21
 2327 0034 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 2328 0036 FB68     		ldr	r3, [r7, #12]
 2329 0038 1A61     		str	r2, [r3, #16]
 749:Algorithm/fifo.c ****   p_fifo->p_read_addr = (char *)p_base_addr;
 2330              		.loc 1 749 23
 2331 003a FB68     		ldr	r3, [r7, #12]
 2332 003c BA68     		ldr	r2, [r7, #8]
 2333 003e 5A61     		str	r2, [r3, #20]
 750:Algorithm/fifo.c ****   p_fifo->p_write_addr = (char *)p_base_addr;
 2334              		.loc 1 750 24
 2335 0040 FB68     		ldr	r3, [r7, #12]
 2336 0042 BA68     		ldr	r2, [r7, #8]
 2337 0044 9A61     		str	r2, [r3, #24]
 751:Algorithm/fifo.c **** 
 752:Algorithm/fifo.c ****   return (0);
 2338              		.loc 1 752 10
 2339 0046 0023     		movs	r3, #0
 753:Algorithm/fifo.c **** }
 2340              		.loc 1 753 1
 2341 0048 1846     		mov	r0, r3
 2342 004a 1437     		adds	r7, r7, #20
 2343              	.LCFI108:
 2344              		.cfi_def_cfa_offset 4
 2345 004c BD46     		mov	sp, r7
 2346              	.LCFI109:
 2347              		.cfi_def_cfa_register 13
 2348              		@ sp needed
 2349 004e 5DF8047B 		ldr	r7, [sp], #4
 2350              	.LCFI110:
 2351              		.cfi_restore 7
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 64


 2352              		.cfi_def_cfa_offset 0
 2353 0052 7047     		bx	lr
 2354              		.cfi_endproc
 2355              	.LFE166:
 2357              		.section	.text.fifo_put,"ax",%progbits
 2358              		.align	1
 2359              		.global	fifo_put
 2360              		.syntax unified
 2361              		.thumb
 2362              		.thumb_func
 2364              	fifo_put:
 2365              	.LFB167:
 754:Algorithm/fifo.c **** 
 755:Algorithm/fifo.c **** //******************************************************************************************
 756:Algorithm/fifo.c **** //
 757:Algorithm/fifo.c **** //! \brief  Put an element into FIFO.
 758:Algorithm/fifo.c **** //!
 759:Algorithm/fifo.c **** //! \param  [in]  pFIFO is the pointer of valid FIFO.
 760:Algorithm/fifo.c **** //! \param  [in]  pElement is the address of element you want to put
 761:Algorithm/fifo.c **** //!
 762:Algorithm/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 763:Algorithm/fifo.c **** //
 764:Algorithm/fifo.c **** //******************************************************************************************
 765:Algorithm/fifo.c **** int fifo_put(fifo_t *p_fifo, void *p_element)
 766:Algorithm/fifo.c **** {
 2366              		.loc 1 766 1
 2367              		.cfi_startproc
 2368              		@ args = 0, pretend = 0, frame = 24
 2369              		@ frame_needed = 1, uses_anonymous_args = 0
 2370 0000 90B5     		push	{r4, r7, lr}
 2371              	.LCFI111:
 2372              		.cfi_def_cfa_offset 12
 2373              		.cfi_offset 4, -12
 2374              		.cfi_offset 7, -8
 2375              		.cfi_offset 14, -4
 2376 0002 87B0     		sub	sp, sp, #28
 2377              	.LCFI112:
 2378              		.cfi_def_cfa_offset 40
 2379 0004 00AF     		add	r7, sp, #0
 2380              	.LCFI113:
 2381              		.cfi_def_cfa_register 7
 2382 0006 7860     		str	r0, [r7, #4]
 2383 0008 3960     		str	r1, [r7]
 2384              	.LBB124:
 2385              	.LBB125:
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 2386              		.loc 2 453 3
 2387              		.syntax unified
 2388              	@ 453 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2389 000a EFF31083 		MRS r3, primask
 2390              	@ 0 "" 2
 2391              		.thumb
 2392              		.syntax unified
 2393 000e 7B61     		str	r3, [r7, #20]
 454:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2394              		.loc 2 454 9
 2395 0010 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 65


 2396              	.LBE125:
 2397              	.LBE124:
 767:Algorithm/fifo.c ****   //! Check input parameters.
 768:Algorithm/fifo.c ****   FIFO_CPU_SR_TYPE cpu_sr;
 769:Algorithm/fifo.c ****   ASSERT(p_fifo);
 770:Algorithm/fifo.c ****   ASSERT(p_element);
 771:Algorithm/fifo.c **** 
 772:Algorithm/fifo.c ****     //Interrupt Off;
 773:Algorithm/fifo.c ****   cpu_sr = FIFO_GET_CPU_SR();
 2398              		.loc 1 773 12
 2399 0012 1C46     		mov	r4, r3
 2400              	.LBB126:
 2401              	.LBB127:
 209:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2402              		.loc 2 209 3
 2403              		.syntax unified
 2404              	@ 209 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2405 0014 72B6     		cpsid i
 2406              	@ 0 "" 2
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 2407              		.loc 2 210 1
 2408              		.thumb
 2409              		.syntax unified
 2410 0016 00BF     		nop
 2411              	.LBE127:
 2412              	.LBE126:
 774:Algorithm/fifo.c ****   FIFO_ENTER_CRITICAL();
 775:Algorithm/fifo.c **** 
 776:Algorithm/fifo.c ****   // Full ?
 777:Algorithm/fifo.c ****   if (0 == p_fifo->free_num)
 2413              		.loc 1 777 18
 2414 0018 7B68     		ldr	r3, [r7, #4]
 2415 001a 9B68     		ldr	r3, [r3, #8]
 2416              		.loc 1 777 6
 2417 001c 002B     		cmp	r3, #0
 2418 001e 29D0     		beq	.L104
 778:Algorithm/fifo.c ****   {
 779:Algorithm/fifo.c ****     //! Error, FIFO is full!
 780:Algorithm/fifo.c ****     goto end;
 781:Algorithm/fifo.c ****   }
 782:Algorithm/fifo.c **** 
 783:Algorithm/fifo.c ****   //! Copy Data
 784:Algorithm/fifo.c **** 
 785:Algorithm/fifo.c ****   if (p_fifo->p_write_addr > p_fifo->p_end_addr)
 2419              		.loc 1 785 13
 2420 0020 7B68     		ldr	r3, [r7, #4]
 2421 0022 9A69     		ldr	r2, [r3, #24]
 2422              		.loc 1 785 36
 2423 0024 7B68     		ldr	r3, [r7, #4]
 2424 0026 5B68     		ldr	r3, [r3, #4]
 2425              		.loc 1 785 6
 2426 0028 9A42     		cmp	r2, r3
 2427 002a 03D9     		bls	.L101
 786:Algorithm/fifo.c ****     p_fifo->p_write_addr = p_fifo->p_start_addr;
 2428              		.loc 1 786 34
 2429 002c 7B68     		ldr	r3, [r7, #4]
 2430 002e 1A68     		ldr	r2, [r3]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 66


 2431              		.loc 1 786 26
 2432 0030 7B68     		ldr	r3, [r7, #4]
 2433 0032 9A61     		str	r2, [r3, #24]
 2434              	.L101:
 787:Algorithm/fifo.c **** 
 788:Algorithm/fifo.c ****   memcpy(p_fifo->p_write_addr, p_element, p_fifo->unit_size);
 2435              		.loc 1 788 16
 2436 0034 7B68     		ldr	r3, [r7, #4]
 2437 0036 9869     		ldr	r0, [r3, #24]
 2438              		.loc 1 788 49
 2439 0038 7B68     		ldr	r3, [r7, #4]
 2440 003a 1B69     		ldr	r3, [r3, #16]
 2441              		.loc 1 788 3
 2442 003c 1A46     		mov	r2, r3
 2443 003e 3968     		ldr	r1, [r7]
 2444 0040 FFF7FEFF 		bl	memcpy
 789:Algorithm/fifo.c ****   p_fifo->p_write_addr += p_fifo->unit_size;
 2445              		.loc 1 789 9
 2446 0044 7B68     		ldr	r3, [r7, #4]
 2447 0046 9B69     		ldr	r3, [r3, #24]
 2448              		.loc 1 789 33
 2449 0048 7A68     		ldr	r2, [r7, #4]
 2450 004a 1269     		ldr	r2, [r2, #16]
 2451              		.loc 1 789 24
 2452 004c 1A44     		add	r2, r2, r3
 2453 004e 7B68     		ldr	r3, [r7, #4]
 2454 0050 9A61     		str	r2, [r3, #24]
 790:Algorithm/fifo.c ****   p_fifo->free_num--;
 2455              		.loc 1 790 9
 2456 0052 7B68     		ldr	r3, [r7, #4]
 2457 0054 9B68     		ldr	r3, [r3, #8]
 2458              		.loc 1 790 19
 2459 0056 5A1E     		subs	r2, r3, #1
 2460 0058 7B68     		ldr	r3, [r7, #4]
 2461 005a 9A60     		str	r2, [r3, #8]
 791:Algorithm/fifo.c ****   p_fifo->used_num++;
 2462              		.loc 1 791 9
 2463 005c 7B68     		ldr	r3, [r7, #4]
 2464 005e DB68     		ldr	r3, [r3, #12]
 2465              		.loc 1 791 19
 2466 0060 5A1C     		adds	r2, r3, #1
 2467 0062 7B68     		ldr	r3, [r7, #4]
 2468 0064 DA60     		str	r2, [r3, #12]
 2469 0066 3C61     		str	r4, [r7, #16]
 2470              	.LBB128:
 2471              	.LBB129:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2472              		.loc 2 481 3
 2473 0068 3B69     		ldr	r3, [r7, #16]
 2474              		.syntax unified
 2475              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2476 006a 83F31088 		MSR primask, r3
 2477              	@ 0 "" 2
 2478              		.loc 2 482 1
 2479              		.thumb
 2480              		.syntax unified
 2481 006e 00BF     		nop
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 67


 2482              	.LBE129:
 2483              	.LBE128:
 792:Algorithm/fifo.c ****   //Interrupt On
 793:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 794:Algorithm/fifo.c ****   return (0);
 2484              		.loc 1 794 10
 2485 0070 0023     		movs	r3, #0
 2486 0072 07E0     		b	.L102
 2487              	.L104:
 780:Algorithm/fifo.c ****   }
 2488              		.loc 1 780 5
 2489 0074 00BF     		nop
 2490              	.L100:
 2491 0076 FC60     		str	r4, [r7, #12]
 2492              	.LBB130:
 2493              	.LBB131:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2494              		.loc 2 481 3
 2495 0078 FB68     		ldr	r3, [r7, #12]
 2496              		.syntax unified
 2497              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2498 007a 83F31088 		MSR primask, r3
 2499              	@ 0 "" 2
 2500              		.loc 2 482 1
 2501              		.thumb
 2502              		.syntax unified
 2503 007e 00BF     		nop
 2504              	.LBE131:
 2505              	.LBE130:
 795:Algorithm/fifo.c **** end:
 796:Algorithm/fifo.c ****   //Interrupt On
 797:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 798:Algorithm/fifo.c ****   return (-1);
 2506              		.loc 1 798 10
 2507 0080 4FF0FF33 		mov	r3, #-1
 2508              	.L102:
 799:Algorithm/fifo.c **** }
 2509              		.loc 1 799 1
 2510 0084 1846     		mov	r0, r3
 2511 0086 1C37     		adds	r7, r7, #28
 2512              	.LCFI114:
 2513              		.cfi_def_cfa_offset 12
 2514 0088 BD46     		mov	sp, r7
 2515              	.LCFI115:
 2516              		.cfi_def_cfa_register 13
 2517              		@ sp needed
 2518 008a 90BD     		pop	{r4, r7, pc}
 2519              		.cfi_endproc
 2520              	.LFE167:
 2522              		.section	.text.fifo_put_noprotect,"ax",%progbits
 2523              		.align	1
 2524              		.global	fifo_put_noprotect
 2525              		.syntax unified
 2526              		.thumb
 2527              		.thumb_func
 2529              	fifo_put_noprotect:
 2530              	.LFB168:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 68


 800:Algorithm/fifo.c **** 
 801:Algorithm/fifo.c **** //******************************************************************************************
 802:Algorithm/fifo.c **** //
 803:Algorithm/fifo.c **** //! \brief  Put an element into FIFO.
 804:Algorithm/fifo.c **** //!
 805:Algorithm/fifo.c **** //! \param  [in]  pFIFO is the pointer of valid FIFO.
 806:Algorithm/fifo.c **** //! \param  [in]  pElement is the address of element you want to put
 807:Algorithm/fifo.c **** //!
 808:Algorithm/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 809:Algorithm/fifo.c **** //
 810:Algorithm/fifo.c **** //******************************************************************************************
 811:Algorithm/fifo.c **** int fifo_put_noprotect(fifo_t *p_fifo, void *p_element)
 812:Algorithm/fifo.c **** {
 2531              		.loc 1 812 1
 2532              		.cfi_startproc
 2533              		@ args = 0, pretend = 0, frame = 8
 2534              		@ frame_needed = 1, uses_anonymous_args = 0
 2535 0000 80B5     		push	{r7, lr}
 2536              	.LCFI116:
 2537              		.cfi_def_cfa_offset 8
 2538              		.cfi_offset 7, -8
 2539              		.cfi_offset 14, -4
 2540 0002 82B0     		sub	sp, sp, #8
 2541              	.LCFI117:
 2542              		.cfi_def_cfa_offset 16
 2543 0004 00AF     		add	r7, sp, #0
 2544              	.LCFI118:
 2545              		.cfi_def_cfa_register 7
 2546 0006 7860     		str	r0, [r7, #4]
 2547 0008 3960     		str	r1, [r7]
 813:Algorithm/fifo.c ****   //! Check input parameters.
 814:Algorithm/fifo.c ****   ASSERT(p_fifo);
 815:Algorithm/fifo.c ****   ASSERT(p_element);
 816:Algorithm/fifo.c **** 
 817:Algorithm/fifo.c ****   // Full ?
 818:Algorithm/fifo.c ****   if (0 == p_fifo->free_num)
 2548              		.loc 1 818 18
 2549 000a 7B68     		ldr	r3, [r7, #4]
 2550 000c 9B68     		ldr	r3, [r3, #8]
 2551              		.loc 1 818 6
 2552 000e 002B     		cmp	r3, #0
 2553 0010 02D1     		bne	.L106
 819:Algorithm/fifo.c ****   {
 820:Algorithm/fifo.c ****     //! Error, FIFO is full!
 821:Algorithm/fifo.c ****     return (-1);
 2554              		.loc 1 821 12
 2555 0012 4FF0FF33 		mov	r3, #-1
 2556 0016 23E0     		b	.L107
 2557              	.L106:
 822:Algorithm/fifo.c ****   }
 823:Algorithm/fifo.c **** 
 824:Algorithm/fifo.c ****   //! Copy Data
 825:Algorithm/fifo.c ****   if (p_fifo->p_write_addr > p_fifo->p_end_addr)
 2558              		.loc 1 825 13
 2559 0018 7B68     		ldr	r3, [r7, #4]
 2560 001a 9A69     		ldr	r2, [r3, #24]
 2561              		.loc 1 825 36
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 69


 2562 001c 7B68     		ldr	r3, [r7, #4]
 2563 001e 5B68     		ldr	r3, [r3, #4]
 2564              		.loc 1 825 6
 2565 0020 9A42     		cmp	r2, r3
 2566 0022 03D9     		bls	.L108
 826:Algorithm/fifo.c ****     p_fifo->p_write_addr = p_fifo->p_start_addr;
 2567              		.loc 1 826 34
 2568 0024 7B68     		ldr	r3, [r7, #4]
 2569 0026 1A68     		ldr	r2, [r3]
 2570              		.loc 1 826 26
 2571 0028 7B68     		ldr	r3, [r7, #4]
 2572 002a 9A61     		str	r2, [r3, #24]
 2573              	.L108:
 827:Algorithm/fifo.c **** 
 828:Algorithm/fifo.c ****   memcpy(p_fifo->p_write_addr, p_element, p_fifo->unit_size);
 2574              		.loc 1 828 16
 2575 002c 7B68     		ldr	r3, [r7, #4]
 2576 002e 9869     		ldr	r0, [r3, #24]
 2577              		.loc 1 828 49
 2578 0030 7B68     		ldr	r3, [r7, #4]
 2579 0032 1B69     		ldr	r3, [r3, #16]
 2580              		.loc 1 828 3
 2581 0034 1A46     		mov	r2, r3
 2582 0036 3968     		ldr	r1, [r7]
 2583 0038 FFF7FEFF 		bl	memcpy
 829:Algorithm/fifo.c ****   p_fifo->p_write_addr += p_fifo->unit_size;
 2584              		.loc 1 829 9
 2585 003c 7B68     		ldr	r3, [r7, #4]
 2586 003e 9B69     		ldr	r3, [r3, #24]
 2587              		.loc 1 829 33
 2588 0040 7A68     		ldr	r2, [r7, #4]
 2589 0042 1269     		ldr	r2, [r2, #16]
 2590              		.loc 1 829 24
 2591 0044 1A44     		add	r2, r2, r3
 2592 0046 7B68     		ldr	r3, [r7, #4]
 2593 0048 9A61     		str	r2, [r3, #24]
 830:Algorithm/fifo.c ****   p_fifo->free_num--;
 2594              		.loc 1 830 9
 2595 004a 7B68     		ldr	r3, [r7, #4]
 2596 004c 9B68     		ldr	r3, [r3, #8]
 2597              		.loc 1 830 19
 2598 004e 5A1E     		subs	r2, r3, #1
 2599 0050 7B68     		ldr	r3, [r7, #4]
 2600 0052 9A60     		str	r2, [r3, #8]
 831:Algorithm/fifo.c ****   p_fifo->used_num++;
 2601              		.loc 1 831 9
 2602 0054 7B68     		ldr	r3, [r7, #4]
 2603 0056 DB68     		ldr	r3, [r3, #12]
 2604              		.loc 1 831 19
 2605 0058 5A1C     		adds	r2, r3, #1
 2606 005a 7B68     		ldr	r3, [r7, #4]
 2607 005c DA60     		str	r2, [r3, #12]
 832:Algorithm/fifo.c **** 
 833:Algorithm/fifo.c ****   return (0);
 2608              		.loc 1 833 10
 2609 005e 0023     		movs	r3, #0
 2610              	.L107:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 70


 834:Algorithm/fifo.c **** }
 2611              		.loc 1 834 1
 2612 0060 1846     		mov	r0, r3
 2613 0062 0837     		adds	r7, r7, #8
 2614              	.LCFI119:
 2615              		.cfi_def_cfa_offset 8
 2616 0064 BD46     		mov	sp, r7
 2617              	.LCFI120:
 2618              		.cfi_def_cfa_register 13
 2619              		@ sp needed
 2620 0066 80BD     		pop	{r7, pc}
 2621              		.cfi_endproc
 2622              	.LFE168:
 2624              		.section	.text.fifo_get,"ax",%progbits
 2625              		.align	1
 2626              		.global	fifo_get
 2627              		.syntax unified
 2628              		.thumb
 2629              		.thumb_func
 2631              	fifo_get:
 2632              	.LFB169:
 835:Algorithm/fifo.c **** 
 836:Algorithm/fifo.c **** //******************************************************************************************
 837:Algorithm/fifo.c **** //
 838:Algorithm/fifo.c **** //! \brief  Get an element from FIFO.
 839:Algorithm/fifo.c **** //!
 840:Algorithm/fifo.c **** //! \param  [in]  pFIFO is the pointer of valid FIFO.
 841:Algorithm/fifo.c **** //! \param  [out] pElement is the address of element you want to get
 842:Algorithm/fifo.c **** //!
 843:Algorithm/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 844:Algorithm/fifo.c **** //
 845:Algorithm/fifo.c **** //******************************************************************************************
 846:Algorithm/fifo.c **** int fifo_get(fifo_t *p_fifo, void *p_element)
 847:Algorithm/fifo.c **** {
 2633              		.loc 1 847 1
 2634              		.cfi_startproc
 2635              		@ args = 0, pretend = 0, frame = 24
 2636              		@ frame_needed = 1, uses_anonymous_args = 0
 2637 0000 90B5     		push	{r4, r7, lr}
 2638              	.LCFI121:
 2639              		.cfi_def_cfa_offset 12
 2640              		.cfi_offset 4, -12
 2641              		.cfi_offset 7, -8
 2642              		.cfi_offset 14, -4
 2643 0002 87B0     		sub	sp, sp, #28
 2644              	.LCFI122:
 2645              		.cfi_def_cfa_offset 40
 2646 0004 00AF     		add	r7, sp, #0
 2647              	.LCFI123:
 2648              		.cfi_def_cfa_register 7
 2649 0006 7860     		str	r0, [r7, #4]
 2650 0008 3960     		str	r1, [r7]
 2651              	.LBB132:
 2652              	.LBB133:
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 2653              		.loc 2 453 3
 2654              		.syntax unified
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 71


 2655              	@ 453 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2656 000a EFF31083 		MRS r3, primask
 2657              	@ 0 "" 2
 2658              		.thumb
 2659              		.syntax unified
 2660 000e 7B61     		str	r3, [r7, #20]
 454:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2661              		.loc 2 454 9
 2662 0010 7B69     		ldr	r3, [r7, #20]
 2663              	.LBE133:
 2664              	.LBE132:
 848:Algorithm/fifo.c ****   FIFO_CPU_SR_TYPE cpu_sr;
 849:Algorithm/fifo.c ****   //! Check input parameters.
 850:Algorithm/fifo.c ****   ASSERT(p_fifo);
 851:Algorithm/fifo.c ****   ASSERT(p_element);
 852:Algorithm/fifo.c ****   
 853:Algorithm/fifo.c ****       //Interrupt Off;
 854:Algorithm/fifo.c ****   cpu_sr = FIFO_GET_CPU_SR();
 2665              		.loc 1 854 12
 2666 0012 1C46     		mov	r4, r3
 2667              	.LBB134:
 2668              	.LBB135:
 209:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2669              		.loc 2 209 3
 2670              		.syntax unified
 2671              	@ 209 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2672 0014 72B6     		cpsid i
 2673              	@ 0 "" 2
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 2674              		.loc 2 210 1
 2675              		.thumb
 2676              		.syntax unified
 2677 0016 00BF     		nop
 2678              	.LBE135:
 2679              	.LBE134:
 855:Algorithm/fifo.c ****   FIFO_ENTER_CRITICAL();
 856:Algorithm/fifo.c **** 
 857:Algorithm/fifo.c ****   // Empty ?
 858:Algorithm/fifo.c ****   if (0 == p_fifo->used_num)
 2680              		.loc 1 858 18
 2681 0018 7B68     		ldr	r3, [r7, #4]
 2682 001a DB68     		ldr	r3, [r3, #12]
 2683              		.loc 1 858 6
 2684 001c 002B     		cmp	r3, #0
 2685 001e 29D0     		beq	.L116
 859:Algorithm/fifo.c ****   {
 860:Algorithm/fifo.c ****     //! Error, FIFO is Empty!
 861:Algorithm/fifo.c ****     goto end;
 862:Algorithm/fifo.c ****   }
 863:Algorithm/fifo.c **** 
 864:Algorithm/fifo.c ****   //! Copy Data
 865:Algorithm/fifo.c **** 
 866:Algorithm/fifo.c ****   if (p_fifo->p_read_addr > p_fifo->p_end_addr)
 2686              		.loc 1 866 13
 2687 0020 7B68     		ldr	r3, [r7, #4]
 2688 0022 5A69     		ldr	r2, [r3, #20]
 2689              		.loc 1 866 35
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 72


 2690 0024 7B68     		ldr	r3, [r7, #4]
 2691 0026 5B68     		ldr	r3, [r3, #4]
 2692              		.loc 1 866 6
 2693 0028 9A42     		cmp	r2, r3
 2694 002a 03D9     		bls	.L113
 867:Algorithm/fifo.c ****   {
 868:Algorithm/fifo.c ****     p_fifo->p_read_addr = p_fifo->p_start_addr;
 2695              		.loc 1 868 33
 2696 002c 7B68     		ldr	r3, [r7, #4]
 2697 002e 1A68     		ldr	r2, [r3]
 2698              		.loc 1 868 25
 2699 0030 7B68     		ldr	r3, [r7, #4]
 2700 0032 5A61     		str	r2, [r3, #20]
 2701              	.L113:
 869:Algorithm/fifo.c ****   }
 870:Algorithm/fifo.c ****   memcpy(p_element, p_fifo->p_read_addr, p_fifo->unit_size);
 2702              		.loc 1 870 27
 2703 0034 7B68     		ldr	r3, [r7, #4]
 2704 0036 5969     		ldr	r1, [r3, #20]
 2705              		.loc 1 870 48
 2706 0038 7B68     		ldr	r3, [r7, #4]
 2707 003a 1B69     		ldr	r3, [r3, #16]
 2708              		.loc 1 870 3
 2709 003c 1A46     		mov	r2, r3
 2710 003e 3868     		ldr	r0, [r7]
 2711 0040 FFF7FEFF 		bl	memcpy
 871:Algorithm/fifo.c ****   p_fifo->p_read_addr += p_fifo->unit_size;
 2712              		.loc 1 871 9
 2713 0044 7B68     		ldr	r3, [r7, #4]
 2714 0046 5B69     		ldr	r3, [r3, #20]
 2715              		.loc 1 871 32
 2716 0048 7A68     		ldr	r2, [r7, #4]
 2717 004a 1269     		ldr	r2, [r2, #16]
 2718              		.loc 1 871 23
 2719 004c 1A44     		add	r2, r2, r3
 2720 004e 7B68     		ldr	r3, [r7, #4]
 2721 0050 5A61     		str	r2, [r3, #20]
 872:Algorithm/fifo.c ****   p_fifo->free_num++;
 2722              		.loc 1 872 9
 2723 0052 7B68     		ldr	r3, [r7, #4]
 2724 0054 9B68     		ldr	r3, [r3, #8]
 2725              		.loc 1 872 19
 2726 0056 5A1C     		adds	r2, r3, #1
 2727 0058 7B68     		ldr	r3, [r7, #4]
 2728 005a 9A60     		str	r2, [r3, #8]
 873:Algorithm/fifo.c ****   p_fifo->used_num--;
 2729              		.loc 1 873 9
 2730 005c 7B68     		ldr	r3, [r7, #4]
 2731 005e DB68     		ldr	r3, [r3, #12]
 2732              		.loc 1 873 19
 2733 0060 5A1E     		subs	r2, r3, #1
 2734 0062 7B68     		ldr	r3, [r7, #4]
 2735 0064 DA60     		str	r2, [r3, #12]
 2736 0066 3C61     		str	r4, [r7, #16]
 2737              	.LBB136:
 2738              	.LBB137:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 73


 2739              		.loc 2 481 3
 2740 0068 3B69     		ldr	r3, [r7, #16]
 2741              		.syntax unified
 2742              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2743 006a 83F31088 		MSR primask, r3
 2744              	@ 0 "" 2
 2745              		.loc 2 482 1
 2746              		.thumb
 2747              		.syntax unified
 2748 006e 00BF     		nop
 2749              	.LBE137:
 2750              	.LBE136:
 874:Algorithm/fifo.c ****   //Interrupt On
 875:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 876:Algorithm/fifo.c ****   return (0);
 2751              		.loc 1 876 10
 2752 0070 0023     		movs	r3, #0
 2753 0072 07E0     		b	.L114
 2754              	.L116:
 861:Algorithm/fifo.c ****   }
 2755              		.loc 1 861 5
 2756 0074 00BF     		nop
 2757              	.L112:
 2758 0076 FC60     		str	r4, [r7, #12]
 2759              	.LBB138:
 2760              	.LBB139:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2761              		.loc 2 481 3
 2762 0078 FB68     		ldr	r3, [r7, #12]
 2763              		.syntax unified
 2764              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2765 007a 83F31088 		MSR primask, r3
 2766              	@ 0 "" 2
 2767              		.loc 2 482 1
 2768              		.thumb
 2769              		.syntax unified
 2770 007e 00BF     		nop
 2771              	.LBE139:
 2772              	.LBE138:
 877:Algorithm/fifo.c **** end:
 878:Algorithm/fifo.c ****   //Interrupt On
 879:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
 880:Algorithm/fifo.c ****   return (-1);
 2773              		.loc 1 880 10
 2774 0080 4FF0FF33 		mov	r3, #-1
 2775              	.L114:
 881:Algorithm/fifo.c **** }
 2776              		.loc 1 881 1
 2777 0084 1846     		mov	r0, r3
 2778 0086 1C37     		adds	r7, r7, #28
 2779              	.LCFI124:
 2780              		.cfi_def_cfa_offset 12
 2781 0088 BD46     		mov	sp, r7
 2782              	.LCFI125:
 2783              		.cfi_def_cfa_register 13
 2784              		@ sp needed
 2785 008a 90BD     		pop	{r4, r7, pc}
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 74


 2786              		.cfi_endproc
 2787              	.LFE169:
 2789              		.section	.text.fifo_get_noprotect,"ax",%progbits
 2790              		.align	1
 2791              		.global	fifo_get_noprotect
 2792              		.syntax unified
 2793              		.thumb
 2794              		.thumb_func
 2796              	fifo_get_noprotect:
 2797              	.LFB170:
 882:Algorithm/fifo.c **** 
 883:Algorithm/fifo.c **** //******************************************************************************************
 884:Algorithm/fifo.c **** //
 885:Algorithm/fifo.c **** //! \brief  Get an element from FIFO.
 886:Algorithm/fifo.c **** //!
 887:Algorithm/fifo.c **** //! \param  [in]  pFIFO is the pointer of valid FIFO.
 888:Algorithm/fifo.c **** //! \param  [out] pElement is the address of element you want to get
 889:Algorithm/fifo.c **** //!
 890:Algorithm/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 891:Algorithm/fifo.c **** //
 892:Algorithm/fifo.c **** //******************************************************************************************
 893:Algorithm/fifo.c **** int fifo_get_noprotect(fifo_t *p_fifo, void *p_element)
 894:Algorithm/fifo.c **** {
 2798              		.loc 1 894 1
 2799              		.cfi_startproc
 2800              		@ args = 0, pretend = 0, frame = 8
 2801              		@ frame_needed = 1, uses_anonymous_args = 0
 2802 0000 80B5     		push	{r7, lr}
 2803              	.LCFI126:
 2804              		.cfi_def_cfa_offset 8
 2805              		.cfi_offset 7, -8
 2806              		.cfi_offset 14, -4
 2807 0002 82B0     		sub	sp, sp, #8
 2808              	.LCFI127:
 2809              		.cfi_def_cfa_offset 16
 2810 0004 00AF     		add	r7, sp, #0
 2811              	.LCFI128:
 2812              		.cfi_def_cfa_register 7
 2813 0006 7860     		str	r0, [r7, #4]
 2814 0008 3960     		str	r1, [r7]
 895:Algorithm/fifo.c ****   //! Check input parameters.
 896:Algorithm/fifo.c ****   ASSERT(p_fifo);
 897:Algorithm/fifo.c ****   ASSERT(p_element);
 898:Algorithm/fifo.c **** 
 899:Algorithm/fifo.c ****   // Empty ?
 900:Algorithm/fifo.c ****   if (0 == p_fifo->used_num)
 2815              		.loc 1 900 18
 2816 000a 7B68     		ldr	r3, [r7, #4]
 2817 000c DB68     		ldr	r3, [r3, #12]
 2818              		.loc 1 900 6
 2819 000e 002B     		cmp	r3, #0
 2820 0010 02D1     		bne	.L118
 901:Algorithm/fifo.c ****   {
 902:Algorithm/fifo.c ****     //! Error, FIFO is Empty!
 903:Algorithm/fifo.c ****     return (-1);
 2821              		.loc 1 903 12
 2822 0012 4FF0FF33 		mov	r3, #-1
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 75


 2823 0016 23E0     		b	.L119
 2824              	.L118:
 904:Algorithm/fifo.c ****   }
 905:Algorithm/fifo.c **** 
 906:Algorithm/fifo.c ****   //! Copy Data
 907:Algorithm/fifo.c ****   if (p_fifo->p_read_addr > p_fifo->p_end_addr)
 2825              		.loc 1 907 13
 2826 0018 7B68     		ldr	r3, [r7, #4]
 2827 001a 5A69     		ldr	r2, [r3, #20]
 2828              		.loc 1 907 35
 2829 001c 7B68     		ldr	r3, [r7, #4]
 2830 001e 5B68     		ldr	r3, [r3, #4]
 2831              		.loc 1 907 6
 2832 0020 9A42     		cmp	r2, r3
 2833 0022 03D9     		bls	.L120
 908:Algorithm/fifo.c ****   {
 909:Algorithm/fifo.c ****     p_fifo->p_read_addr = p_fifo->p_start_addr;
 2834              		.loc 1 909 33
 2835 0024 7B68     		ldr	r3, [r7, #4]
 2836 0026 1A68     		ldr	r2, [r3]
 2837              		.loc 1 909 25
 2838 0028 7B68     		ldr	r3, [r7, #4]
 2839 002a 5A61     		str	r2, [r3, #20]
 2840              	.L120:
 910:Algorithm/fifo.c ****   }
 911:Algorithm/fifo.c ****   memcpy(p_element, p_fifo->p_read_addr, p_fifo->unit_size);
 2841              		.loc 1 911 27
 2842 002c 7B68     		ldr	r3, [r7, #4]
 2843 002e 5969     		ldr	r1, [r3, #20]
 2844              		.loc 1 911 48
 2845 0030 7B68     		ldr	r3, [r7, #4]
 2846 0032 1B69     		ldr	r3, [r3, #16]
 2847              		.loc 1 911 3
 2848 0034 1A46     		mov	r2, r3
 2849 0036 3868     		ldr	r0, [r7]
 2850 0038 FFF7FEFF 		bl	memcpy
 912:Algorithm/fifo.c ****   p_fifo->p_read_addr += p_fifo->unit_size;
 2851              		.loc 1 912 9
 2852 003c 7B68     		ldr	r3, [r7, #4]
 2853 003e 5B69     		ldr	r3, [r3, #20]
 2854              		.loc 1 912 32
 2855 0040 7A68     		ldr	r2, [r7, #4]
 2856 0042 1269     		ldr	r2, [r2, #16]
 2857              		.loc 1 912 23
 2858 0044 1A44     		add	r2, r2, r3
 2859 0046 7B68     		ldr	r3, [r7, #4]
 2860 0048 5A61     		str	r2, [r3, #20]
 913:Algorithm/fifo.c ****   p_fifo->free_num++;
 2861              		.loc 1 913 9
 2862 004a 7B68     		ldr	r3, [r7, #4]
 2863 004c 9B68     		ldr	r3, [r3, #8]
 2864              		.loc 1 913 19
 2865 004e 5A1C     		adds	r2, r3, #1
 2866 0050 7B68     		ldr	r3, [r7, #4]
 2867 0052 9A60     		str	r2, [r3, #8]
 914:Algorithm/fifo.c ****   p_fifo->used_num--;
 2868              		.loc 1 914 9
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 76


 2869 0054 7B68     		ldr	r3, [r7, #4]
 2870 0056 DB68     		ldr	r3, [r3, #12]
 2871              		.loc 1 914 19
 2872 0058 5A1E     		subs	r2, r3, #1
 2873 005a 7B68     		ldr	r3, [r7, #4]
 2874 005c DA60     		str	r2, [r3, #12]
 915:Algorithm/fifo.c **** 
 916:Algorithm/fifo.c ****   return (0);
 2875              		.loc 1 916 10
 2876 005e 0023     		movs	r3, #0
 2877              	.L119:
 917:Algorithm/fifo.c **** }
 2878              		.loc 1 917 1
 2879 0060 1846     		mov	r0, r3
 2880 0062 0837     		adds	r7, r7, #8
 2881              	.LCFI129:
 2882              		.cfi_def_cfa_offset 8
 2883 0064 BD46     		mov	sp, r7
 2884              	.LCFI130:
 2885              		.cfi_def_cfa_register 13
 2886              		@ sp needed
 2887 0066 80BD     		pop	{r7, pc}
 2888              		.cfi_endproc
 2889              	.LFE170:
 2891              		.section	.text.fifo_pre_read,"ax",%progbits
 2892              		.align	1
 2893              		.global	fifo_pre_read
 2894              		.syntax unified
 2895              		.thumb
 2896              		.thumb_func
 2898              	fifo_pre_read:
 2899              	.LFB171:
 918:Algorithm/fifo.c **** 
 919:Algorithm/fifo.c **** //******************************************************************************************
 920:Algorithm/fifo.c **** //
 921:Algorithm/fifo.c **** //! \brief  Pre-Read an element from FIFO.
 922:Algorithm/fifo.c **** //!
 923:Algorithm/fifo.c **** //! \param  [in]  pFIFO is the pointer of valid FIFO.
 924:Algorithm/fifo.c **** //! \param  [in]  Offset is the offset from current pointer.
 925:Algorithm/fifo.c **** //! \param  [out] pElement is the address of element you want to get
 926:Algorithm/fifo.c **** //!
 927:Algorithm/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 928:Algorithm/fifo.c **** //
 929:Algorithm/fifo.c **** //******************************************************************************************
 930:Algorithm/fifo.c **** int fifo_pre_read(fifo_t *p_fifo, char offset, void *p_element)
 931:Algorithm/fifo.c **** {
 2900              		.loc 1 931 1
 2901              		.cfi_startproc
 2902              		@ args = 0, pretend = 0, frame = 24
 2903              		@ frame_needed = 1, uses_anonymous_args = 0
 2904 0000 80B5     		push	{r7, lr}
 2905              	.LCFI131:
 2906              		.cfi_def_cfa_offset 8
 2907              		.cfi_offset 7, -8
 2908              		.cfi_offset 14, -4
 2909 0002 86B0     		sub	sp, sp, #24
 2910              	.LCFI132:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 77


 2911              		.cfi_def_cfa_offset 32
 2912 0004 00AF     		add	r7, sp, #0
 2913              	.LCFI133:
 2914              		.cfi_def_cfa_register 7
 2915 0006 F860     		str	r0, [r7, #12]
 2916 0008 0B46     		mov	r3, r1
 2917 000a 7A60     		str	r2, [r7, #4]
 2918 000c FB72     		strb	r3, [r7, #11]
 932:Algorithm/fifo.c ****   char *_pre_red_index = (void *)0;
 2919              		.loc 1 932 9
 2920 000e 0023     		movs	r3, #0
 2921 0010 7B61     		str	r3, [r7, #20]
 933:Algorithm/fifo.c **** 
 934:Algorithm/fifo.c ****   //! Check input parameters.
 935:Algorithm/fifo.c ****   ASSERT(p_fifo);
 936:Algorithm/fifo.c ****   ASSERT(p_element);
 937:Algorithm/fifo.c **** 
 938:Algorithm/fifo.c ****   // OverFlow ?
 939:Algorithm/fifo.c ****   if (offset >= p_fifo->used_num)
 2922              		.loc 1 939 14
 2923 0012 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 2924              		.loc 1 939 23
 2925 0014 FB68     		ldr	r3, [r7, #12]
 2926 0016 DB68     		ldr	r3, [r3, #12]
 2927              		.loc 1 939 6
 2928 0018 9A42     		cmp	r2, r3
 2929 001a 02DB     		blt	.L122
 940:Algorithm/fifo.c ****   {
 941:Algorithm/fifo.c ****     return (-1);
 2930              		.loc 1 941 12
 2931 001c 4FF0FF33 		mov	r3, #-1
 2932 0020 1FE0     		b	.L123
 2933              	.L122:
 942:Algorithm/fifo.c ****   }
 943:Algorithm/fifo.c **** 
 944:Algorithm/fifo.c ****   // Move Read Pointer to right position
 945:Algorithm/fifo.c ****   _pre_red_index = p_fifo->p_read_addr + p_fifo->unit_size * offset;
 2934              		.loc 1 945 26
 2935 0022 FB68     		ldr	r3, [r7, #12]
 2936 0024 5B69     		ldr	r3, [r3, #20]
 2937              		.loc 1 945 48
 2938 0026 FA68     		ldr	r2, [r7, #12]
 2939 0028 1269     		ldr	r2, [r2, #16]
 2940              		.loc 1 945 60
 2941 002a F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 2942 002c 01FB02F2 		mul	r2, r1, r2
 2943              		.loc 1 945 18
 2944 0030 1344     		add	r3, r3, r2
 2945 0032 7B61     		str	r3, [r7, #20]
 946:Algorithm/fifo.c ****   while (_pre_red_index > p_fifo->p_end_addr)
 2946              		.loc 1 946 9
 2947 0034 08E0     		b	.L124
 2948              	.L125:
 947:Algorithm/fifo.c ****   {
 948:Algorithm/fifo.c ****     _pre_red_index = _pre_red_index - p_fifo->p_end_addr + p_fifo->p_start_addr - 1;
 2949              		.loc 1 948 66
 2950 0036 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 78


 2951 0038 1A68     		ldr	r2, [r3]
 2952              		.loc 1 948 45
 2953 003a FB68     		ldr	r3, [r7, #12]
 2954 003c 5B68     		ldr	r3, [r3, #4]
 2955              		.loc 1 948 37
 2956 003e 7969     		ldr	r1, [r7, #20]
 2957 0040 CB1A     		subs	r3, r1, r3
 2958              		.loc 1 948 81
 2959 0042 013B     		subs	r3, r3, #1
 2960              		.loc 1 948 20
 2961 0044 1344     		add	r3, r3, r2
 2962 0046 7B61     		str	r3, [r7, #20]
 2963              	.L124:
 946:Algorithm/fifo.c ****   while (_pre_red_index > p_fifo->p_end_addr)
 2964              		.loc 1 946 33
 2965 0048 FB68     		ldr	r3, [r7, #12]
 2966 004a 5B68     		ldr	r3, [r3, #4]
 946:Algorithm/fifo.c ****   while (_pre_red_index > p_fifo->p_end_addr)
 2967              		.loc 1 946 25
 2968 004c 7A69     		ldr	r2, [r7, #20]
 2969 004e 9A42     		cmp	r2, r3
 2970 0050 F1D8     		bhi	.L125
 949:Algorithm/fifo.c ****   }
 950:Algorithm/fifo.c ****   //! Copy Data
 951:Algorithm/fifo.c ****   memcpy(p_element, _pre_red_index, p_fifo->unit_size);
 2971              		.loc 1 951 43
 2972 0052 FB68     		ldr	r3, [r7, #12]
 2973 0054 1B69     		ldr	r3, [r3, #16]
 2974              		.loc 1 951 3
 2975 0056 1A46     		mov	r2, r3
 2976 0058 7969     		ldr	r1, [r7, #20]
 2977 005a 7868     		ldr	r0, [r7, #4]
 2978 005c FFF7FEFF 		bl	memcpy
 952:Algorithm/fifo.c **** 
 953:Algorithm/fifo.c ****   return (0);
 2979              		.loc 1 953 10
 2980 0060 0023     		movs	r3, #0
 2981              	.L123:
 954:Algorithm/fifo.c **** }
 2982              		.loc 1 954 1
 2983 0062 1846     		mov	r0, r3
 2984 0064 1837     		adds	r7, r7, #24
 2985              	.LCFI134:
 2986              		.cfi_def_cfa_offset 8
 2987 0066 BD46     		mov	sp, r7
 2988              	.LCFI135:
 2989              		.cfi_def_cfa_register 13
 2990              		@ sp needed
 2991 0068 80BD     		pop	{r7, pc}
 2992              		.cfi_endproc
 2993              	.LFE171:
 2995              		.section	.text.fifo_is_empty,"ax",%progbits
 2996              		.align	1
 2997              		.global	fifo_is_empty
 2998              		.syntax unified
 2999              		.thumb
 3000              		.thumb_func
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 79


 3002              	fifo_is_empty:
 3003              	.LFB172:
 955:Algorithm/fifo.c **** 
 956:Algorithm/fifo.c **** //******************************************************************************************
 957:Algorithm/fifo.c **** //
 958:Algorithm/fifo.c **** //! \brief  FIFO is empty ?
 959:Algorithm/fifo.c **** //!
 960:Algorithm/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO.
 961:Algorithm/fifo.c **** //!
 962:Algorithm/fifo.c **** //! \retval - None-zero(true) if empty.
 963:Algorithm/fifo.c **** //!         - Zero(false) if not empty.
 964:Algorithm/fifo.c **** //
 965:Algorithm/fifo.c **** //******************************************************************************************
 966:Algorithm/fifo.c **** int fifo_is_empty(fifo_t *p_fifo)
 967:Algorithm/fifo.c **** {
 3004              		.loc 1 967 1
 3005              		.cfi_startproc
 3006              		@ args = 0, pretend = 0, frame = 8
 3007              		@ frame_needed = 1, uses_anonymous_args = 0
 3008              		@ link register save eliminated.
 3009 0000 80B4     		push	{r7}
 3010              	.LCFI136:
 3011              		.cfi_def_cfa_offset 4
 3012              		.cfi_offset 7, -4
 3013 0002 83B0     		sub	sp, sp, #12
 3014              	.LCFI137:
 3015              		.cfi_def_cfa_offset 16
 3016 0004 00AF     		add	r7, sp, #0
 3017              	.LCFI138:
 3018              		.cfi_def_cfa_register 7
 3019 0006 7860     		str	r0, [r7, #4]
 968:Algorithm/fifo.c ****   //! Check input parameter.
 969:Algorithm/fifo.c ****   ASSERT(p_fifo);
 970:Algorithm/fifo.c **** 
 971:Algorithm/fifo.c ****   return (0 == p_fifo->used_num);
 3020              		.loc 1 971 22
 3021 0008 7B68     		ldr	r3, [r7, #4]
 3022 000a DB68     		ldr	r3, [r3, #12]
 3023              		.loc 1 971 13
 3024 000c 002B     		cmp	r3, #0
 3025 000e 0CBF     		ite	eq
 3026 0010 0123     		moveq	r3, #1
 3027 0012 0023     		movne	r3, #0
 3028 0014 DBB2     		uxtb	r3, r3
 972:Algorithm/fifo.c **** }
 3029              		.loc 1 972 1
 3030 0016 1846     		mov	r0, r3
 3031 0018 0C37     		adds	r7, r7, #12
 3032              	.LCFI139:
 3033              		.cfi_def_cfa_offset 4
 3034 001a BD46     		mov	sp, r7
 3035              	.LCFI140:
 3036              		.cfi_def_cfa_register 13
 3037              		@ sp needed
 3038 001c 5DF8047B 		ldr	r7, [sp], #4
 3039              	.LCFI141:
 3040              		.cfi_restore 7
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 80


 3041              		.cfi_def_cfa_offset 0
 3042 0020 7047     		bx	lr
 3043              		.cfi_endproc
 3044              	.LFE172:
 3046              		.section	.text.fifo_is_full,"ax",%progbits
 3047              		.align	1
 3048              		.global	fifo_is_full
 3049              		.syntax unified
 3050              		.thumb
 3051              		.thumb_func
 3053              	fifo_is_full:
 3054              	.LFB173:
 973:Algorithm/fifo.c **** 
 974:Algorithm/fifo.c **** //******************************************************************************************
 975:Algorithm/fifo.c **** //
 976:Algorithm/fifo.c **** //! \brief  FIFO is full ?
 977:Algorithm/fifo.c **** //!
 978:Algorithm/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO.
 979:Algorithm/fifo.c **** //!
 980:Algorithm/fifo.c **** //! \retval - None-zero(true) if full.
 981:Algorithm/fifo.c **** //!         - Zero(false) if not full.
 982:Algorithm/fifo.c **** //
 983:Algorithm/fifo.c **** //******************************************************************************************
 984:Algorithm/fifo.c **** int fifo_is_full(fifo_t *p_fifo)
 985:Algorithm/fifo.c **** {
 3055              		.loc 1 985 1
 3056              		.cfi_startproc
 3057              		@ args = 0, pretend = 0, frame = 8
 3058              		@ frame_needed = 1, uses_anonymous_args = 0
 3059              		@ link register save eliminated.
 3060 0000 80B4     		push	{r7}
 3061              	.LCFI142:
 3062              		.cfi_def_cfa_offset 4
 3063              		.cfi_offset 7, -4
 3064 0002 83B0     		sub	sp, sp, #12
 3065              	.LCFI143:
 3066              		.cfi_def_cfa_offset 16
 3067 0004 00AF     		add	r7, sp, #0
 3068              	.LCFI144:
 3069              		.cfi_def_cfa_register 7
 3070 0006 7860     		str	r0, [r7, #4]
 986:Algorithm/fifo.c ****   //! Check input parameter.
 987:Algorithm/fifo.c ****   ASSERT(p_fifo);
 988:Algorithm/fifo.c **** 
 989:Algorithm/fifo.c ****   return (0 == p_fifo->free_num);
 3071              		.loc 1 989 22
 3072 0008 7B68     		ldr	r3, [r7, #4]
 3073 000a 9B68     		ldr	r3, [r3, #8]
 3074              		.loc 1 989 13
 3075 000c 002B     		cmp	r3, #0
 3076 000e 0CBF     		ite	eq
 3077 0010 0123     		moveq	r3, #1
 3078 0012 0023     		movne	r3, #0
 3079 0014 DBB2     		uxtb	r3, r3
 990:Algorithm/fifo.c **** }
 3080              		.loc 1 990 1
 3081 0016 1846     		mov	r0, r3
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 81


 3082 0018 0C37     		adds	r7, r7, #12
 3083              	.LCFI145:
 3084              		.cfi_def_cfa_offset 4
 3085 001a BD46     		mov	sp, r7
 3086              	.LCFI146:
 3087              		.cfi_def_cfa_register 13
 3088              		@ sp needed
 3089 001c 5DF8047B 		ldr	r7, [sp], #4
 3090              	.LCFI147:
 3091              		.cfi_restore 7
 3092              		.cfi_def_cfa_offset 0
 3093 0020 7047     		bx	lr
 3094              		.cfi_endproc
 3095              	.LFE173:
 3097              		.section	.text.fifo_used,"ax",%progbits
 3098              		.align	1
 3099              		.global	fifo_used
 3100              		.syntax unified
 3101              		.thumb
 3102              		.thumb_func
 3104              	fifo_used:
 3105              	.LFB174:
 991:Algorithm/fifo.c **** 
 992:Algorithm/fifo.c **** //******************************************************************************************
 993:Algorithm/fifo.c **** //
 994:Algorithm/fifo.c **** //! \brief  Get FIFO the number of elements?
 995:Algorithm/fifo.c **** //!
 996:Algorithm/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO.
 997:Algorithm/fifo.c **** //!
 998:Algorithm/fifo.c **** //! \retval The number of elements in FIFO.
 999:Algorithm/fifo.c **** //
1000:Algorithm/fifo.c **** //******************************************************************************************
1001:Algorithm/fifo.c **** int fifo_used(fifo_t *p_fifo)
1002:Algorithm/fifo.c **** {
 3106              		.loc 1 1002 1
 3107              		.cfi_startproc
 3108              		@ args = 0, pretend = 0, frame = 8
 3109              		@ frame_needed = 1, uses_anonymous_args = 0
 3110              		@ link register save eliminated.
 3111 0000 80B4     		push	{r7}
 3112              	.LCFI148:
 3113              		.cfi_def_cfa_offset 4
 3114              		.cfi_offset 7, -4
 3115 0002 83B0     		sub	sp, sp, #12
 3116              	.LCFI149:
 3117              		.cfi_def_cfa_offset 16
 3118 0004 00AF     		add	r7, sp, #0
 3119              	.LCFI150:
 3120              		.cfi_def_cfa_register 7
 3121 0006 7860     		str	r0, [r7, #4]
1003:Algorithm/fifo.c ****   //! Check input parameter.
1004:Algorithm/fifo.c ****   ASSERT(p_fifo);
1005:Algorithm/fifo.c **** 
1006:Algorithm/fifo.c ****   return (p_fifo->used_num);
 3122              		.loc 1 1006 17
 3123 0008 7B68     		ldr	r3, [r7, #4]
 3124 000a DB68     		ldr	r3, [r3, #12]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 82


1007:Algorithm/fifo.c **** }
 3125              		.loc 1 1007 1
 3126 000c 1846     		mov	r0, r3
 3127 000e 0C37     		adds	r7, r7, #12
 3128              	.LCFI151:
 3129              		.cfi_def_cfa_offset 4
 3130 0010 BD46     		mov	sp, r7
 3131              	.LCFI152:
 3132              		.cfi_def_cfa_register 13
 3133              		@ sp needed
 3134 0012 5DF8047B 		ldr	r7, [sp], #4
 3135              	.LCFI153:
 3136              		.cfi_restore 7
 3137              		.cfi_def_cfa_offset 0
 3138 0016 7047     		bx	lr
 3139              		.cfi_endproc
 3140              	.LFE174:
 3142              		.section	.text.fifo_free,"ax",%progbits
 3143              		.align	1
 3144              		.global	fifo_free
 3145              		.syntax unified
 3146              		.thumb
 3147              		.thumb_func
 3149              	fifo_free:
 3150              	.LFB175:
1008:Algorithm/fifo.c **** 
1009:Algorithm/fifo.c **** //******************************************************************************************
1010:Algorithm/fifo.c **** //
1011:Algorithm/fifo.c **** //! \brief  Get FIFO the number of elements?
1012:Algorithm/fifo.c **** //!
1013:Algorithm/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO.
1014:Algorithm/fifo.c **** //!
1015:Algorithm/fifo.c **** //! \retval The number of elements in FIFO.
1016:Algorithm/fifo.c **** //
1017:Algorithm/fifo.c **** //******************************************************************************************
1018:Algorithm/fifo.c **** int fifo_free(fifo_t *p_fifo)
1019:Algorithm/fifo.c **** {
 3151              		.loc 1 1019 1
 3152              		.cfi_startproc
 3153              		@ args = 0, pretend = 0, frame = 8
 3154              		@ frame_needed = 1, uses_anonymous_args = 0
 3155              		@ link register save eliminated.
 3156 0000 80B4     		push	{r7}
 3157              	.LCFI154:
 3158              		.cfi_def_cfa_offset 4
 3159              		.cfi_offset 7, -4
 3160 0002 83B0     		sub	sp, sp, #12
 3161              	.LCFI155:
 3162              		.cfi_def_cfa_offset 16
 3163 0004 00AF     		add	r7, sp, #0
 3164              	.LCFI156:
 3165              		.cfi_def_cfa_register 7
 3166 0006 7860     		str	r0, [r7, #4]
1020:Algorithm/fifo.c ****   //! Check input parameter.
1021:Algorithm/fifo.c ****   ASSERT(p_fifo);
1022:Algorithm/fifo.c **** 
1023:Algorithm/fifo.c ****   return (p_fifo->free_num);
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 83


 3167              		.loc 1 1023 17
 3168 0008 7B68     		ldr	r3, [r7, #4]
 3169 000a 9B68     		ldr	r3, [r3, #8]
1024:Algorithm/fifo.c **** }
 3170              		.loc 1 1024 1
 3171 000c 1846     		mov	r0, r3
 3172 000e 0C37     		adds	r7, r7, #12
 3173              	.LCFI157:
 3174              		.cfi_def_cfa_offset 4
 3175 0010 BD46     		mov	sp, r7
 3176              	.LCFI158:
 3177              		.cfi_def_cfa_register 13
 3178              		@ sp needed
 3179 0012 5DF8047B 		ldr	r7, [sp], #4
 3180              	.LCFI159:
 3181              		.cfi_restore 7
 3182              		.cfi_def_cfa_offset 0
 3183 0016 7047     		bx	lr
 3184              		.cfi_endproc
 3185              	.LFE175:
 3187              		.section	.text.fifo_flush,"ax",%progbits
 3188              		.align	1
 3189              		.global	fifo_flush
 3190              		.syntax unified
 3191              		.thumb
 3192              		.thumb_func
 3194              	fifo_flush:
 3195              	.LFB176:
1025:Algorithm/fifo.c **** 
1026:Algorithm/fifo.c **** //******************************************************************************************
1027:Algorithm/fifo.c **** //
1028:Algorithm/fifo.c **** //! \brief  Flush the content of FIFO.
1029:Algorithm/fifo.c **** //!
1030:Algorithm/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO.
1031:Algorithm/fifo.c **** //!
1032:Algorithm/fifo.c **** //! \retval 0 if success, -1 if failure.
1033:Algorithm/fifo.c **** //
1034:Algorithm/fifo.c **** //******************************************************************************************
1035:Algorithm/fifo.c **** int fifo_flush(fifo_t *p_fifo)
1036:Algorithm/fifo.c **** {
 3196              		.loc 1 1036 1
 3197              		.cfi_startproc
 3198              		@ args = 0, pretend = 0, frame = 16
 3199              		@ frame_needed = 1, uses_anonymous_args = 0
 3200              		@ link register save eliminated.
 3201 0000 90B4     		push	{r4, r7}
 3202              	.LCFI160:
 3203              		.cfi_def_cfa_offset 8
 3204              		.cfi_offset 4, -8
 3205              		.cfi_offset 7, -4
 3206 0002 84B0     		sub	sp, sp, #16
 3207              	.LCFI161:
 3208              		.cfi_def_cfa_offset 24
 3209 0004 00AF     		add	r7, sp, #0
 3210              	.LCFI162:
 3211              		.cfi_def_cfa_register 7
 3212 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 84


 3213              	.LBB140:
 3214              	.LBB141:
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 3215              		.loc 2 453 3
 3216              		.syntax unified
 3217              	@ 453 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 3218 0008 EFF31083 		MRS r3, primask
 3219              	@ 0 "" 2
 3220              		.thumb
 3221              		.syntax unified
 3222 000c BB60     		str	r3, [r7, #8]
 454:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 3223              		.loc 2 454 9
 3224 000e BB68     		ldr	r3, [r7, #8]
 3225              	.LBE141:
 3226              	.LBE140:
1037:Algorithm/fifo.c ****   FIFO_CPU_SR_TYPE cpu_sr;
1038:Algorithm/fifo.c ****   //! Check input parameters.
1039:Algorithm/fifo.c ****   ASSERT(p_fifo);
1040:Algorithm/fifo.c **** 
1041:Algorithm/fifo.c ****   //! Initialize FIFO Control Block.
1042:Algorithm/fifo.c ****   //Interrupt Off;
1043:Algorithm/fifo.c ****   cpu_sr = FIFO_GET_CPU_SR();
 3227              		.loc 1 1043 12
 3228 0010 1C46     		mov	r4, r3
 3229              	.LBB142:
 3230              	.LBB143:
 209:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 3231              		.loc 2 209 3
 3232              		.syntax unified
 3233              	@ 209 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 3234 0012 72B6     		cpsid i
 3235              	@ 0 "" 2
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 3236              		.loc 2 210 1
 3237              		.thumb
 3238              		.syntax unified
 3239 0014 00BF     		nop
 3240              	.LBE143:
 3241              	.LBE142:
1044:Algorithm/fifo.c ****   FIFO_ENTER_CRITICAL();
1045:Algorithm/fifo.c **** 
1046:Algorithm/fifo.c ****   p_fifo->free_num = (p_fifo->p_end_addr - p_fifo->p_start_addr) / (p_fifo->unit_size);
 3242              		.loc 1 1046 29
 3243 0016 7B68     		ldr	r3, [r7, #4]
 3244 0018 5A68     		ldr	r2, [r3, #4]
 3245              		.loc 1 1046 50
 3246 001a 7B68     		ldr	r3, [r7, #4]
 3247 001c 1B68     		ldr	r3, [r3]
 3248              		.loc 1 1046 42
 3249 001e D21A     		subs	r2, r2, r3
 3250              		.loc 1 1046 75
 3251 0020 7B68     		ldr	r3, [r7, #4]
 3252 0022 1B69     		ldr	r3, [r3, #16]
 3253              		.loc 1 1046 66
 3254 0024 92FBF3F2 		sdiv	r2, r2, r3
 3255              		.loc 1 1046 20
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 85


 3256 0028 7B68     		ldr	r3, [r7, #4]
 3257 002a 9A60     		str	r2, [r3, #8]
1047:Algorithm/fifo.c ****   p_fifo->used_num = 0;
 3258              		.loc 1 1047 20
 3259 002c 7B68     		ldr	r3, [r7, #4]
 3260 002e 0022     		movs	r2, #0
 3261 0030 DA60     		str	r2, [r3, #12]
1048:Algorithm/fifo.c ****   p_fifo->p_read_addr = p_fifo->p_start_addr;
 3262              		.loc 1 1048 31
 3263 0032 7B68     		ldr	r3, [r7, #4]
 3264 0034 1A68     		ldr	r2, [r3]
 3265              		.loc 1 1048 23
 3266 0036 7B68     		ldr	r3, [r7, #4]
 3267 0038 5A61     		str	r2, [r3, #20]
1049:Algorithm/fifo.c ****   p_fifo->p_write_addr = p_fifo->p_start_addr;
 3268              		.loc 1 1049 32
 3269 003a 7B68     		ldr	r3, [r7, #4]
 3270 003c 1A68     		ldr	r2, [r3]
 3271              		.loc 1 1049 24
 3272 003e 7B68     		ldr	r3, [r7, #4]
 3273 0040 9A61     		str	r2, [r3, #24]
 3274 0042 FC60     		str	r4, [r7, #12]
 3275              	.LBB144:
 3276              	.LBB145:
 481:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 3277              		.loc 2 481 3
 3278 0044 FB68     		ldr	r3, [r7, #12]
 3279              		.syntax unified
 3280              	@ 481 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 3281 0046 83F31088 		MSR primask, r3
 3282              	@ 0 "" 2
 3283              		.loc 2 482 1
 3284              		.thumb
 3285              		.syntax unified
 3286 004a 00BF     		nop
 3287              	.LBE145:
 3288              	.LBE144:
1050:Algorithm/fifo.c ****   //Interrupt On
1051:Algorithm/fifo.c ****   FIFO_RESTORE_CPU_SR(cpu_sr);
1052:Algorithm/fifo.c **** 
1053:Algorithm/fifo.c ****   return (0);
 3289              		.loc 1 1053 10
 3290 004c 0023     		movs	r3, #0
1054:Algorithm/fifo.c **** }
 3291              		.loc 1 1054 1
 3292 004e 1846     		mov	r0, r3
 3293 0050 1037     		adds	r7, r7, #16
 3294              	.LCFI163:
 3295              		.cfi_def_cfa_offset 8
 3296 0052 BD46     		mov	sp, r7
 3297              	.LCFI164:
 3298              		.cfi_def_cfa_register 13
 3299              		@ sp needed
 3300 0054 90BC     		pop	{r4, r7}
 3301              	.LCFI165:
 3302              		.cfi_restore 7
 3303              		.cfi_restore 4
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 86


 3304              		.cfi_def_cfa_offset 0
 3305 0056 7047     		bx	lr
 3306              		.cfi_endproc
 3307              	.LFE176:
 3309              		.text
 3310              	.Letext0:
 3311              		.file 3 "D:/MSYS2/mingw64/arm-none-eabi/include/machine/_default_types.h"
 3312              		.file 4 "D:/MSYS2/mingw64/lib/gcc/arm-none-eabi/13.3.0/include/stddef.h"
 3313              		.file 5 "D:/MSYS2/mingw64/arm-none-eabi/include/sys/_stdint.h"
 3314              		.file 6 "Algorithm/fifo.h"
 3315              		.file 7 "D:/MSYS2/mingw64/arm-none-eabi/include/string.h"
 3316              		.file 8 "D:/MSYS2/mingw64/arm-none-eabi/include/stdlib.h"
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 87


DEFINED SYMBOLS
                            *ABS*:00000000 fifo.c
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:20     .text.fifo_s_create:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:26     .text.fifo_s_create:00000000 fifo_s_create
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:156    .text.fifo_s_init:00000000 fifo_s_init
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:102    .text.fifo_s_destroy:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:108    .text.fifo_s_destroy:00000000 fifo_s_destroy
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:150    .text.fifo_s_init:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:224    .text.fifo_s_put:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:230    .text.fifo_s_put:00000000 fifo_s_put
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:389    .text.fifo_s_puts:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:395    .text.fifo_s_puts:00000000 fifo_s_puts
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:629    .text.fifo_s_puts_noprotect:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:635    .text.fifo_s_puts_noprotect:00000000 fifo_s_puts_noprotect
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:806    .text.fifo_s_get:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:812    .text.fifo_s_get:00000000 fifo_s_get
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:942    .text.fifo_s_gets:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:948    .text.fifo_s_gets:00000000 fifo_s_gets
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1182   .text.fifo_s_gets_noprotect:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1188   .text.fifo_s_gets_noprotect:00000000 fifo_s_gets_noprotect
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1359   .text.fifo_s_preread:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1365   .text.fifo_s_preread:00000000 fifo_s_preread
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1447   .text.fifo_s_prereads:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1453   .text.fifo_s_prereads:00000000 fifo_s_prereads
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1677   .text.fifo_s_isempty:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1683   .text.fifo_s_isempty:00000000 fifo_s_isempty
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1728   .text.fifo_s_isfull:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1734   .text.fifo_s_isfull:00000000 fifo_s_isfull
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1779   .text.fifo_s_used:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1785   .text.fifo_s_used:00000000 fifo_s_used
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1824   .text.fifo_s_free:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1830   .text.fifo_s_free:00000000 fifo_s_free
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1869   .text.fifo_s_flush:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1875   .text.fifo_s_flush:00000000 fifo_s_flush
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1986   .text.fifo_s_discard:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:1992   .text.fifo_s_discard:00000000 fifo_s_discard
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2139   .text.fifo_create:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2145   .text.fifo_create:00000000 fifo_create
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2281   .text.fifo_init:00000000 fifo_init
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2227   .text.fifo_destory:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2233   .text.fifo_destory:00000000 fifo_destory
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2275   .text.fifo_init:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2358   .text.fifo_put:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2364   .text.fifo_put:00000000 fifo_put
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2523   .text.fifo_put_noprotect:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2529   .text.fifo_put_noprotect:00000000 fifo_put_noprotect
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2625   .text.fifo_get:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2631   .text.fifo_get:00000000 fifo_get
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2790   .text.fifo_get_noprotect:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2796   .text.fifo_get_noprotect:00000000 fifo_get_noprotect
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2892   .text.fifo_pre_read:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2898   .text.fifo_pre_read:00000000 fifo_pre_read
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:2996   .text.fifo_is_empty:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:3002   .text.fifo_is_empty:00000000 fifo_is_empty
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:3047   .text.fifo_is_full:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:3053   .text.fifo_is_full:00000000 fifo_is_full
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:3098   .text.fifo_used:00000000 $t
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s 			page 88


C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:3104   .text.fifo_used:00000000 fifo_used
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:3143   .text.fifo_free:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:3149   .text.fifo_free:00000000 fifo_free
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:3188   .text.fifo_flush:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccEGq4gh.s:3194   .text.fifo_flush:00000000 fifo_flush

UNDEFINED SYMBOLS
malloc
free
memcpy
