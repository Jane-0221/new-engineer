ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"dm4310_drv.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "User/Hardware/dm4310_drv.c"
  19              		.global	arm_motor
  20              		.section	.bss.arm_motor,"aw",%nobits
  21              		.align	2
  24              	arm_motor:
  25 0000 00000000 		.space	2720
  25      00000000 
  25      00000000 
  25      00000000 
  25      00000000 
  26              		.global	pos_motor
  27              		.section	.bss.pos_motor,"aw",%nobits
  28              		.align	2
  31              	pos_motor:
  32 0000 00000000 		.space	24
  32      00000000 
  32      00000000 
  32      00000000 
  32      00000000 
  33              		.global	vel_motor
  34              		.section	.bss.vel_motor,"aw",%nobits
  35              		.align	2
  38              	vel_motor:
  39 0000 00000000 		.space	24
  39      00000000 
  39      00000000 
  39      00000000 
  39      00000000 
  40              		.global	tor_motor
  41              		.section	.bss.tor_motor,"aw",%nobits
  42              		.align	2
  45              	tor_motor:
  46 0000 00000000 		.space	24
  46      00000000 
  46      00000000 
  46      00000000 
  46      00000000 
  47              		.section	.text.Hex_To_Float,"ax",%progbits
  48              		.align	1
  49              		.global	Hex_To_Float
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 2


  50              		.syntax unified
  51              		.thumb
  52              		.thumb_func
  54              	Hex_To_Float:
  55              	.LFB177:
   1:User/Hardware/dm4310_drv.c **** //#define  __FPU_PRESENT  1U
   2:User/Hardware/dm4310_drv.c **** //#include "arm_math.h"
   3:User/Hardware/dm4310_drv.c **** 
   4:User/Hardware/dm4310_drv.c **** #include "fdcan.h"
   5:User/Hardware/dm4310_drv.c **** #include "dm4310_drv.h"
   6:User/Hardware/dm4310_drv.c **** 
   7:User/Hardware/dm4310_drv.c **** #include "arm_math.h"
   8:User/Hardware/dm4310_drv.c **** 
   9:User/Hardware/dm4310_drv.c **** Arm_Motor_t arm_motor[num];
  10:User/Hardware/dm4310_drv.c **** POS_Motor pos_motor;
  11:User/Hardware/dm4310_drv.c **** VEL_Motor vel_motor;
  12:User/Hardware/dm4310_drv.c **** TOR_Motor tor_motor;
  13:User/Hardware/dm4310_drv.c **** /**********************************************数据类型转换****************************************
  14:User/Hardware/dm4310_drv.c **** float Hex_To_Float(uint32_t *Byte,int num)//十六进制到浮点数
  15:User/Hardware/dm4310_drv.c **** {
  56              		.loc 1 15 1
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 8
  59              		@ frame_needed = 1, uses_anonymous_args = 0
  60              		@ link register save eliminated.
  61 0000 80B4     		push	{r7}
  62              	.LCFI0:
  63              		.cfi_def_cfa_offset 4
  64              		.cfi_offset 7, -4
  65 0002 83B0     		sub	sp, sp, #12
  66              	.LCFI1:
  67              		.cfi_def_cfa_offset 16
  68 0004 00AF     		add	r7, sp, #0
  69              	.LCFI2:
  70              		.cfi_def_cfa_register 7
  71 0006 7860     		str	r0, [r7, #4]
  72 0008 3960     		str	r1, [r7]
  16:User/Hardware/dm4310_drv.c **** 	return *((float*)Byte);
  73              		.loc 1 16 9
  74 000a 7B68     		ldr	r3, [r7, #4]
  75 000c 1B68     		ldr	r3, [r3]	@ float
  76              		.loc 1 16 9 is_stmt 0 discriminator 1
  77 000e 07EE903A 		vmov	s15, r3
  17:User/Hardware/dm4310_drv.c **** }
  78              		.loc 1 17 1 is_stmt 1
  79 0012 B0EE670A 		vmov.f32	s0, s15
  80 0016 0C37     		adds	r7, r7, #12
  81              	.LCFI3:
  82              		.cfi_def_cfa_offset 4
  83 0018 BD46     		mov	sp, r7
  84              	.LCFI4:
  85              		.cfi_def_cfa_register 13
  86              		@ sp needed
  87 001a 5DF8047B 		ldr	r7, [sp], #4
  88              	.LCFI5:
  89              		.cfi_restore 7
  90              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 3


  91 001e 7047     		bx	lr
  92              		.cfi_endproc
  93              	.LFE177:
  95              		.section	.text.FloatTohex,"ax",%progbits
  96              		.align	1
  97              		.global	FloatTohex
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 102              	FloatTohex:
 103              	.LFB178:
  18:User/Hardware/dm4310_drv.c **** 
  19:User/Hardware/dm4310_drv.c **** uint32_t FloatTohex(float HEX)//浮点数到十六进制转换
  20:User/Hardware/dm4310_drv.c **** {
 104              		.loc 1 20 1
 105              		.cfi_startproc
 106              		@ args = 0, pretend = 0, frame = 8
 107              		@ frame_needed = 1, uses_anonymous_args = 0
 108              		@ link register save eliminated.
 109 0000 80B4     		push	{r7}
 110              	.LCFI6:
 111              		.cfi_def_cfa_offset 4
 112              		.cfi_offset 7, -4
 113 0002 83B0     		sub	sp, sp, #12
 114              	.LCFI7:
 115              		.cfi_def_cfa_offset 16
 116 0004 00AF     		add	r7, sp, #0
 117              	.LCFI8:
 118              		.cfi_def_cfa_register 7
 119 0006 87ED010A 		vstr.32	s0, [r7, #4]
  21:User/Hardware/dm4310_drv.c **** 	return *( uint32_t *)&HEX;
 120              		.loc 1 21 23
 121 000a 3B1D     		adds	r3, r7, #4
 122              		.loc 1 21 9
 123 000c 1B68     		ldr	r3, [r3]
  22:User/Hardware/dm4310_drv.c **** }
 124              		.loc 1 22 1
 125 000e 1846     		mov	r0, r3
 126 0010 0C37     		adds	r7, r7, #12
 127              	.LCFI9:
 128              		.cfi_def_cfa_offset 4
 129 0012 BD46     		mov	sp, r7
 130              	.LCFI10:
 131              		.cfi_def_cfa_register 13
 132              		@ sp needed
 133 0014 5DF8047B 		ldr	r7, [sp], #4
 134              	.LCFI11:
 135              		.cfi_restore 7
 136              		.cfi_def_cfa_offset 0
 137 0018 7047     		bx	lr
 138              		.cfi_endproc
 139              	.LFE178:
 141              		.section	.text.float_to_uint,"ax",%progbits
 142              		.align	1
 143              		.global	float_to_uint
 144              		.syntax unified
 145              		.thumb
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 4


 146              		.thumb_func
 148              	float_to_uint:
 149              	.LFB179:
  23:User/Hardware/dm4310_drv.c **** 
  24:User/Hardware/dm4310_drv.c **** /**
  25:User/Hardware/dm4310_drv.c **** ************************************************************************
  26:User/Hardware/dm4310_drv.c **** * @brief:      	float_to_uint: 浮点数转换为无符号整数函数
  27:User/Hardware/dm4310_drv.c **** * @param[in]:   x_float:	待转换的浮点数
  28:User/Hardware/dm4310_drv.c **** * @param[in]:   x_min:		范围最小值
  29:User/Hardware/dm4310_drv.c **** * @param[in]:   x_max:		范围最大值
  30:User/Hardware/dm4310_drv.c **** * @param[in]:   bits: 		目标无符号整数的位数
  31:User/Hardware/dm4310_drv.c **** * @retval:     	无符号整数结果
  32:User/Hardware/dm4310_drv.c **** * @details:    	将给定的浮点数 x 在指定范围 [x_min, x_max] 内进行线性映射，映射结果为一个指定位数的
  33:User/Hardware/dm4310_drv.c **** ************************************************************************
  34:User/Hardware/dm4310_drv.c **** **/
  35:User/Hardware/dm4310_drv.c **** int float_to_uint(float x_float, float x_min, float x_max, int bits)
  36:User/Hardware/dm4310_drv.c **** {
 150              		.loc 1 36 1
 151              		.cfi_startproc
 152              		@ args = 0, pretend = 0, frame = 24
 153              		@ frame_needed = 1, uses_anonymous_args = 0
 154              		@ link register save eliminated.
 155 0000 80B4     		push	{r7}
 156              	.LCFI12:
 157              		.cfi_def_cfa_offset 4
 158              		.cfi_offset 7, -4
 159 0002 87B0     		sub	sp, sp, #28
 160              	.LCFI13:
 161              		.cfi_def_cfa_offset 32
 162 0004 00AF     		add	r7, sp, #0
 163              	.LCFI14:
 164              		.cfi_def_cfa_register 7
 165 0006 87ED030A 		vstr.32	s0, [r7, #12]
 166 000a C7ED020A 		vstr.32	s1, [r7, #8]
 167 000e 87ED011A 		vstr.32	s2, [r7, #4]
 168 0012 3860     		str	r0, [r7]
  37:User/Hardware/dm4310_drv.c **** 	/* Converts a float to an unsigned int, given range and number of bits */
  38:User/Hardware/dm4310_drv.c **** 	float span = x_max - x_min;
 169              		.loc 1 38 8
 170 0014 97ED017A 		vldr.32	s14, [r7, #4]
 171 0018 D7ED027A 		vldr.32	s15, [r7, #8]
 172 001c 77EE677A 		vsub.f32	s15, s14, s15
 173 0020 C7ED057A 		vstr.32	s15, [r7, #20]
  39:User/Hardware/dm4310_drv.c **** 	float offset = x_min;
 174              		.loc 1 39 8
 175 0024 BB68     		ldr	r3, [r7, #8]	@ float
 176 0026 3B61     		str	r3, [r7, #16]	@ float
  40:User/Hardware/dm4310_drv.c **** 	return (int) ((x_float-offset)*((float)((1<<bits)-1))/span);
 177              		.loc 1 40 24
 178 0028 97ED037A 		vldr.32	s14, [r7, #12]
 179 002c D7ED047A 		vldr.32	s15, [r7, #16]
 180 0030 37EE677A 		vsub.f32	s14, s14, s15
 181              		.loc 1 40 44
 182 0034 0122     		movs	r2, #1
 183 0036 3B68     		ldr	r3, [r7]
 184 0038 02FA03F3 		lsl	r3, r2, r3
 185              		.loc 1 40 51
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 5


 186 003c 013B     		subs	r3, r3, #1
 187              		.loc 1 40 34
 188 003e 07EE903A 		vmov	s15, r3	@ int
 189 0042 F8EEE77A 		vcvt.f32.s32	s15, s15
 190              		.loc 1 40 32
 191 0046 67EE276A 		vmul.f32	s13, s14, s15
 192              		.loc 1 40 55
 193 004a 97ED057A 		vldr.32	s14, [r7, #20]
 194 004e C6EE877A 		vdiv.f32	s15, s13, s14
 195              		.loc 1 40 9
 196 0052 FDEEE77A 		vcvt.s32.f32	s15, s15
 197              		.loc 1 40 9 is_stmt 0 discriminator 1
 198 0056 17EE903A 		vmov	r3, s15	@ int
  41:User/Hardware/dm4310_drv.c **** }
 199              		.loc 1 41 1 is_stmt 1
 200 005a 1846     		mov	r0, r3
 201 005c 1C37     		adds	r7, r7, #28
 202              	.LCFI15:
 203              		.cfi_def_cfa_offset 4
 204 005e BD46     		mov	sp, r7
 205              	.LCFI16:
 206              		.cfi_def_cfa_register 13
 207              		@ sp needed
 208 0060 5DF8047B 		ldr	r7, [sp], #4
 209              	.LCFI17:
 210              		.cfi_restore 7
 211              		.cfi_def_cfa_offset 0
 212 0064 7047     		bx	lr
 213              		.cfi_endproc
 214              	.LFE179:
 216              		.section	.text.uint_to_float,"ax",%progbits
 217              		.align	1
 218              		.global	uint_to_float
 219              		.syntax unified
 220              		.thumb
 221              		.thumb_func
 223              	uint_to_float:
 224              	.LFB180:
  42:User/Hardware/dm4310_drv.c **** /**
  43:User/Hardware/dm4310_drv.c **** ************************************************************************
  44:User/Hardware/dm4310_drv.c **** * @brief:      	uint_to_float: 无符号整数转换为浮点数函数
  45:User/Hardware/dm4310_drv.c **** * @param[in]:   x_int: 待转换的无符号整数
  46:User/Hardware/dm4310_drv.c **** * @param[in]:   x_min: 范围最小值
  47:User/Hardware/dm4310_drv.c **** * @param[in]:   x_max: 范围最大值
  48:User/Hardware/dm4310_drv.c **** * @param[in]:   bits:  无符号整数的位数
  49:User/Hardware/dm4310_drv.c **** * @retval:     	浮点数结果
  50:User/Hardware/dm4310_drv.c **** * @details:    	将给定的无符号整数 x_int 在指定范围 [x_min, x_max] 内进行线性映射，映射结果为一个浮
  51:User/Hardware/dm4310_drv.c **** ************************************************************************
  52:User/Hardware/dm4310_drv.c **** **/
  53:User/Hardware/dm4310_drv.c **** float uint_to_float(int x_int, float x_min, float x_max, int bits)
  54:User/Hardware/dm4310_drv.c **** {
 225              		.loc 1 54 1
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 24
 228              		@ frame_needed = 1, uses_anonymous_args = 0
 229              		@ link register save eliminated.
 230 0000 80B4     		push	{r7}
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 6


 231              	.LCFI18:
 232              		.cfi_def_cfa_offset 4
 233              		.cfi_offset 7, -4
 234 0002 87B0     		sub	sp, sp, #28
 235              	.LCFI19:
 236              		.cfi_def_cfa_offset 32
 237 0004 00AF     		add	r7, sp, #0
 238              	.LCFI20:
 239              		.cfi_def_cfa_register 7
 240 0006 F860     		str	r0, [r7, #12]
 241 0008 87ED020A 		vstr.32	s0, [r7, #8]
 242 000c C7ED010A 		vstr.32	s1, [r7, #4]
 243 0010 3960     		str	r1, [r7]
  55:User/Hardware/dm4310_drv.c **** 	/* converts unsigned int to float, given range and number of bits */
  56:User/Hardware/dm4310_drv.c **** 	float span = x_max - x_min;
 244              		.loc 1 56 8
 245 0012 97ED017A 		vldr.32	s14, [r7, #4]
 246 0016 D7ED027A 		vldr.32	s15, [r7, #8]
 247 001a 77EE677A 		vsub.f32	s15, s14, s15
 248 001e C7ED057A 		vstr.32	s15, [r7, #20]
  57:User/Hardware/dm4310_drv.c **** 	float offset = x_min;
 249              		.loc 1 57 8
 250 0022 BB68     		ldr	r3, [r7, #8]	@ float
 251 0024 3B61     		str	r3, [r7, #16]	@ float
  58:User/Hardware/dm4310_drv.c **** 	return ((float)x_int)*span/((float)((1<<bits)-1)) + offset;
 252              		.loc 1 58 10
 253 0026 FB68     		ldr	r3, [r7, #12]
 254 0028 07EE903A 		vmov	s15, r3	@ int
 255 002c B8EEE77A 		vcvt.f32.s32	s14, s15
 256              		.loc 1 58 23
 257 0030 D7ED057A 		vldr.32	s15, [r7, #20]
 258 0034 67EE276A 		vmul.f32	s13, s14, s15
 259              		.loc 1 58 40
 260 0038 0122     		movs	r2, #1
 261 003a 3B68     		ldr	r3, [r7]
 262 003c 02FA03F3 		lsl	r3, r2, r3
 263              		.loc 1 58 47
 264 0040 013B     		subs	r3, r3, #1
 265              		.loc 1 58 30
 266 0042 07EE903A 		vmov	s15, r3	@ int
 267 0046 F8EEE77A 		vcvt.f32.s32	s15, s15
 268              		.loc 1 58 28
 269 004a 86EEA77A 		vdiv.f32	s14, s13, s15
 270              		.loc 1 58 52
 271 004e D7ED047A 		vldr.32	s15, [r7, #16]
 272 0052 77EE277A 		vadd.f32	s15, s14, s15
  59:User/Hardware/dm4310_drv.c **** }
 273              		.loc 1 59 1
 274 0056 B0EE670A 		vmov.f32	s0, s15
 275 005a 1C37     		adds	r7, r7, #28
 276              	.LCFI21:
 277              		.cfi_def_cfa_offset 4
 278 005c BD46     		mov	sp, r7
 279              	.LCFI22:
 280              		.cfi_def_cfa_register 13
 281              		@ sp needed
 282 005e 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 7


 283              	.LCFI23:
 284              		.cfi_restore 7
 285              		.cfi_def_cfa_offset 0
 286 0062 7047     		bx	lr
 287              		.cfi_endproc
 288              	.LFE180:
 290              		.section	.text.arm_motor_init,"ax",%progbits
 291              		.align	1
 292              		.global	arm_motor_init
 293              		.syntax unified
 294              		.thumb
 295              		.thumb_func
 297              	arm_motor_init:
 298              	.LFB181:
  60:User/Hardware/dm4310_drv.c **** 
  61:User/Hardware/dm4310_drv.c **** /**************************************************电机使能失能初始化******************************
  62:User/Hardware/dm4310_drv.c **** void arm_motor_init(Arm_Motor_t *motor,uint16_t id,uint16_t mode)
  63:User/Hardware/dm4310_drv.c **** {
 299              		.loc 1 63 1
 300              		.cfi_startproc
 301              		@ args = 0, pretend = 0, frame = 8
 302              		@ frame_needed = 1, uses_anonymous_args = 0
 303              		@ link register save eliminated.
 304 0000 80B4     		push	{r7}
 305              	.LCFI24:
 306              		.cfi_def_cfa_offset 4
 307              		.cfi_offset 7, -4
 308 0002 83B0     		sub	sp, sp, #12
 309              	.LCFI25:
 310              		.cfi_def_cfa_offset 16
 311 0004 00AF     		add	r7, sp, #0
 312              	.LCFI26:
 313              		.cfi_def_cfa_register 7
 314 0006 7860     		str	r0, [r7, #4]
 315 0008 0B46     		mov	r3, r1
 316 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 317 000c 1346     		mov	r3, r2	@ movhi
 318 000e 3B80     		strh	r3, [r7]	@ movhi
  64:User/Hardware/dm4310_drv.c ****   motor->mode=mode;
 319              		.loc 1 64 14
 320 0010 7B68     		ldr	r3, [r7, #4]
 321 0012 3A88     		ldrh	r2, [r7]	@ movhi
 322 0014 1A80     		strh	r2, [r3]	@ movhi
  65:User/Hardware/dm4310_drv.c ****   motor->para.id=id;
 323              		.loc 1 65 17
 324 0016 7B68     		ldr	r3, [r7, #4]
 325 0018 7A88     		ldrh	r2, [r7, #2]	@ movhi
 326 001a 9A80     		strh	r2, [r3, #4]	@ movhi
  66:User/Hardware/dm4310_drv.c **** }
 327              		.loc 1 66 1
 328 001c 00BF     		nop
 329 001e 0C37     		adds	r7, r7, #12
 330              	.LCFI27:
 331              		.cfi_def_cfa_offset 4
 332 0020 BD46     		mov	sp, r7
 333              	.LCFI28:
 334              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 8


 335              		@ sp needed
 336 0022 5DF8047B 		ldr	r7, [sp], #4
 337              	.LCFI29:
 338              		.cfi_restore 7
 339              		.cfi_def_cfa_offset 0
 340 0026 7047     		bx	lr
 341              		.cfi_endproc
 342              	.LFE181:
 344              		.section	.text.enable_motor_mode,"ax",%progbits
 345              		.align	1
 346              		.global	enable_motor_mode
 347              		.syntax unified
 348              		.thumb
 349              		.thumb_func
 351              	enable_motor_mode:
 352              	.LFB182:
  67:User/Hardware/dm4310_drv.c **** /**
  68:User/Hardware/dm4310_drv.c **** ************************************************************************
  69:User/Hardware/dm4310_drv.c **** * @brief:      	enable_motor_mode: 禁用电机模式函数
  70:User/Hardware/dm4310_drv.c **** * @param[in]:   hcan:     指向CAN_HandleTypeDef结构的指针
  71:User/Hardware/dm4310_drv.c **** * @param[in]:   motor_id: 电机ID，指定目标电机
  72:User/Hardware/dm4310_drv.c **** * @param[in]:   mode_id:  模式ID，指定要禁用的模式
  73:User/Hardware/dm4310_drv.c **** * @retval:     	void
  74:User/Hardware/dm4310_drv.c **** * @details:    	通过CAN总线向特定电机发送禁用特定模式的命令
  75:User/Hardware/dm4310_drv.c **** ************************************************************************
  76:User/Hardware/dm4310_drv.c **** **/
  77:User/Hardware/dm4310_drv.c **** void enable_motor_mode(hcan_t* hcan, uint16_t motor_id, uint16_t mode_id)
  78:User/Hardware/dm4310_drv.c **** {
 353              		.loc 1 78 1
 354              		.cfi_startproc
 355              		@ args = 0, pretend = 0, frame = 24
 356              		@ frame_needed = 1, uses_anonymous_args = 0
 357 0000 80B5     		push	{r7, lr}
 358              	.LCFI30:
 359              		.cfi_def_cfa_offset 8
 360              		.cfi_offset 7, -8
 361              		.cfi_offset 14, -4
 362 0002 86B0     		sub	sp, sp, #24
 363              	.LCFI31:
 364              		.cfi_def_cfa_offset 32
 365 0004 00AF     		add	r7, sp, #0
 366              	.LCFI32:
 367              		.cfi_def_cfa_register 7
 368 0006 7860     		str	r0, [r7, #4]
 369 0008 0B46     		mov	r3, r1
 370 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 371 000c 1346     		mov	r3, r2	@ movhi
 372 000e 3B80     		strh	r3, [r7]	@ movhi
  79:User/Hardware/dm4310_drv.c **** 	
  80:User/Hardware/dm4310_drv.c **** 	uint8_t data[8] = {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
 373              		.loc 1 80 10
 374 0010 07F10C03 		add	r3, r7, #12
 375 0014 0022     		movs	r2, #0
 376 0016 1A60     		str	r2, [r3]
 377 0018 5A60     		str	r2, [r3, #4]
  81:User/Hardware/dm4310_drv.c **** 	uint16_t id = motor_id + mode_id;
 378              		.loc 1 81 11
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 9


 379 001a 7A88     		ldrh	r2, [r7, #2]	@ movhi
 380 001c 3B88     		ldrh	r3, [r7]	@ movhi
 381 001e 1344     		add	r3, r3, r2
 382 0020 FB82     		strh	r3, [r7, #22]	@ movhi
  82:User/Hardware/dm4310_drv.c **** 	
  83:User/Hardware/dm4310_drv.c **** 	data[0] = 0xFF;
 383              		.loc 1 83 10
 384 0022 FF23     		movs	r3, #255
 385 0024 3B73     		strb	r3, [r7, #12]
  84:User/Hardware/dm4310_drv.c **** 	data[1] = 0xFF;
 386              		.loc 1 84 10
 387 0026 FF23     		movs	r3, #255
 388 0028 7B73     		strb	r3, [r7, #13]
  85:User/Hardware/dm4310_drv.c **** 	data[2] = 0xFF;
 389              		.loc 1 85 10
 390 002a FF23     		movs	r3, #255
 391 002c BB73     		strb	r3, [r7, #14]
  86:User/Hardware/dm4310_drv.c **** 	data[3] = 0xFF;
 392              		.loc 1 86 10
 393 002e FF23     		movs	r3, #255
 394 0030 FB73     		strb	r3, [r7, #15]
  87:User/Hardware/dm4310_drv.c **** 	data[4] = 0xFF;
 395              		.loc 1 87 10
 396 0032 FF23     		movs	r3, #255
 397 0034 3B74     		strb	r3, [r7, #16]
  88:User/Hardware/dm4310_drv.c **** 	data[5] = 0xFF;
 398              		.loc 1 88 10
 399 0036 FF23     		movs	r3, #255
 400 0038 7B74     		strb	r3, [r7, #17]
  89:User/Hardware/dm4310_drv.c **** 	data[6] = 0xFF;
 401              		.loc 1 89 10
 402 003a FF23     		movs	r3, #255
 403 003c BB74     		strb	r3, [r7, #18]
  90:User/Hardware/dm4310_drv.c **** 	data[7] = 0xFC;
 404              		.loc 1 90 10
 405 003e FC23     		movs	r3, #252
 406 0040 FB74     		strb	r3, [r7, #19]
  91:User/Hardware/dm4310_drv.c **** 	
  92:User/Hardware/dm4310_drv.c **** 	canx_send_data(hcan, id, data, 8);
 407              		.loc 1 92 2
 408 0042 F98A     		ldrh	r1, [r7, #22]
 409 0044 07F10C02 		add	r2, r7, #12
 410 0048 0823     		movs	r3, #8
 411 004a 7868     		ldr	r0, [r7, #4]
 412 004c FFF7FEFF 		bl	canx_send_data
  93:User/Hardware/dm4310_drv.c **** }
 413              		.loc 1 93 1
 414 0050 00BF     		nop
 415 0052 1837     		adds	r7, r7, #24
 416              	.LCFI33:
 417              		.cfi_def_cfa_offset 8
 418 0054 BD46     		mov	sp, r7
 419              	.LCFI34:
 420              		.cfi_def_cfa_register 13
 421              		@ sp needed
 422 0056 80BD     		pop	{r7, pc}
 423              		.cfi_endproc
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 10


 424              	.LFE182:
 426              		.section	.text.disable_motor_mode,"ax",%progbits
 427              		.align	1
 428              		.global	disable_motor_mode
 429              		.syntax unified
 430              		.thumb
 431              		.thumb_func
 433              	disable_motor_mode:
 434              	.LFB183:
  94:User/Hardware/dm4310_drv.c **** /**
  95:User/Hardware/dm4310_drv.c **** ************************************************************************
  96:User/Hardware/dm4310_drv.c **** * @brief:      	disable_motor_mode: 禁用电机模式函数
  97:User/Hardware/dm4310_drv.c **** * @param[in]:   hcan:     指向CAN_HandleTypeDef结构的指针
  98:User/Hardware/dm4310_drv.c **** * @param[in]:   motor_id: 电机ID，指定目标电机
  99:User/Hardware/dm4310_drv.c **** * @param[in]:   mode_id:  模式ID，指定要禁用的模式
 100:User/Hardware/dm4310_drv.c **** * @retval:     	void
 101:User/Hardware/dm4310_drv.c **** * @details:    	通过CAN总线向特定电机发送禁用特定模式的命令
 102:User/Hardware/dm4310_drv.c **** ************************************************************************
 103:User/Hardware/dm4310_drv.c **** **/
 104:User/Hardware/dm4310_drv.c **** void disable_motor_mode(hcan_t* hcan, uint16_t motor_id, uint16_t mode_id)
 105:User/Hardware/dm4310_drv.c **** {
 435              		.loc 1 105 1
 436              		.cfi_startproc
 437              		@ args = 0, pretend = 0, frame = 24
 438              		@ frame_needed = 1, uses_anonymous_args = 0
 439 0000 80B5     		push	{r7, lr}
 440              	.LCFI35:
 441              		.cfi_def_cfa_offset 8
 442              		.cfi_offset 7, -8
 443              		.cfi_offset 14, -4
 444 0002 86B0     		sub	sp, sp, #24
 445              	.LCFI36:
 446              		.cfi_def_cfa_offset 32
 447 0004 00AF     		add	r7, sp, #0
 448              	.LCFI37:
 449              		.cfi_def_cfa_register 7
 450 0006 7860     		str	r0, [r7, #4]
 451 0008 0B46     		mov	r3, r1
 452 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 453 000c 1346     		mov	r3, r2	@ movhi
 454 000e 3B80     		strh	r3, [r7]	@ movhi
 106:User/Hardware/dm4310_drv.c **** 	uint8_t data[8];
 107:User/Hardware/dm4310_drv.c **** 	uint16_t id = motor_id + mode_id;
 455              		.loc 1 107 11
 456 0010 7A88     		ldrh	r2, [r7, #2]	@ movhi
 457 0012 3B88     		ldrh	r3, [r7]	@ movhi
 458 0014 1344     		add	r3, r3, r2
 459 0016 FB82     		strh	r3, [r7, #22]	@ movhi
 108:User/Hardware/dm4310_drv.c **** 	
 109:User/Hardware/dm4310_drv.c **** 	data[0] = 0xFF;
 460              		.loc 1 109 10
 461 0018 FF23     		movs	r3, #255
 462 001a 3B73     		strb	r3, [r7, #12]
 110:User/Hardware/dm4310_drv.c **** 	data[1] = 0xFF;
 463              		.loc 1 110 10
 464 001c FF23     		movs	r3, #255
 465 001e 7B73     		strb	r3, [r7, #13]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 11


 111:User/Hardware/dm4310_drv.c **** 	data[2] = 0xFF;
 466              		.loc 1 111 10
 467 0020 FF23     		movs	r3, #255
 468 0022 BB73     		strb	r3, [r7, #14]
 112:User/Hardware/dm4310_drv.c **** 	data[3] = 0xFF;
 469              		.loc 1 112 10
 470 0024 FF23     		movs	r3, #255
 471 0026 FB73     		strb	r3, [r7, #15]
 113:User/Hardware/dm4310_drv.c **** 	data[4] = 0xFF;
 472              		.loc 1 113 10
 473 0028 FF23     		movs	r3, #255
 474 002a 3B74     		strb	r3, [r7, #16]
 114:User/Hardware/dm4310_drv.c **** 	data[5] = 0xFF;
 475              		.loc 1 114 10
 476 002c FF23     		movs	r3, #255
 477 002e 7B74     		strb	r3, [r7, #17]
 115:User/Hardware/dm4310_drv.c **** 	data[6] = 0xFF;
 478              		.loc 1 115 10
 479 0030 FF23     		movs	r3, #255
 480 0032 BB74     		strb	r3, [r7, #18]
 116:User/Hardware/dm4310_drv.c **** 	data[7] = 0xFD;
 481              		.loc 1 116 10
 482 0034 FD23     		movs	r3, #253
 483 0036 FB74     		strb	r3, [r7, #19]
 117:User/Hardware/dm4310_drv.c **** 	
 118:User/Hardware/dm4310_drv.c **** 	canx_send_data(hcan, id, data, 8);
 484              		.loc 1 118 2
 485 0038 F98A     		ldrh	r1, [r7, #22]
 486 003a 07F10C02 		add	r2, r7, #12
 487 003e 0823     		movs	r3, #8
 488 0040 7868     		ldr	r0, [r7, #4]
 489 0042 FFF7FEFF 		bl	canx_send_data
 119:User/Hardware/dm4310_drv.c **** }
 490              		.loc 1 119 1
 491 0046 00BF     		nop
 492 0048 1837     		adds	r7, r7, #24
 493              	.LCFI38:
 494              		.cfi_def_cfa_offset 8
 495 004a BD46     		mov	sp, r7
 496              	.LCFI39:
 497              		.cfi_def_cfa_register 13
 498              		@ sp needed
 499 004c 80BD     		pop	{r7, pc}
 500              		.cfi_endproc
 501              	.LFE183:
 503              		.section	.text.dm4310_fbdata,"ax",%progbits
 504              		.align	1
 505              		.global	dm4310_fbdata
 506              		.syntax unified
 507              		.thumb
 508              		.thumb_func
 510              	dm4310_fbdata:
 511              	.LFB184:
 120:User/Hardware/dm4310_drv.c **** /*******************************************不同型号达妙电机接收数据*******************************
 121:User/Hardware/dm4310_drv.c **** /**
 122:User/Hardware/dm4310_drv.c **** ************************************************************************
 123:User/Hardware/dm4310_drv.c **** * @brief:      	dm4310_fbdata: 获取DM4310电机反馈数据函数
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 12


 124:User/Hardware/dm4310_drv.c **** * @param[in]:   motor:    指向motor_t结构的指针，包含电机相关信息和反馈数据
 125:User/Hardware/dm4310_drv.c **** * @param[in]:   rx_data:  指向包含反馈数据的数组指针
 126:User/Hardware/dm4310_drv.c **** * @param[in]:   data_len: 数据长度
 127:User/Hardware/dm4310_drv.c **** * @retval:     	void
 128:User/Hardware/dm4310_drv.c **** * @details:    	从接收到的数据中提取DM4310电机的反馈信息，包括电机ID、
 129:User/Hardware/dm4310_drv.c **** *               状态、位置、速度、扭矩相关温度参数、寄存器数据等
 130:User/Hardware/dm4310_drv.c **** ************************************************************************
 131:User/Hardware/dm4310_drv.c **** **/
 132:User/Hardware/dm4310_drv.c **** void dm4310_fbdata(Arm_Motor_t *motor, uint8_t *rx_data,uint32_t data_len)
 133:User/Hardware/dm4310_drv.c **** { 
 512              		.loc 1 133 1
 513              		.cfi_startproc
 514              		@ args = 0, pretend = 0, frame = 16
 515              		@ frame_needed = 1, uses_anonymous_args = 0
 516 0000 80B5     		push	{r7, lr}
 517              	.LCFI40:
 518              		.cfi_def_cfa_offset 8
 519              		.cfi_offset 7, -8
 520              		.cfi_offset 14, -4
 521 0002 84B0     		sub	sp, sp, #16
 522              	.LCFI41:
 523              		.cfi_def_cfa_offset 24
 524 0004 00AF     		add	r7, sp, #0
 525              	.LCFI42:
 526              		.cfi_def_cfa_register 7
 527 0006 F860     		str	r0, [r7, #12]
 528 0008 B960     		str	r1, [r7, #8]
 529 000a 7A60     		str	r2, [r7, #4]
 134:User/Hardware/dm4310_drv.c **** 	if(data_len==FDCAN_DLC_BYTES_8)
 530              		.loc 1 134 4
 531 000c 7B68     		ldr	r3, [r7, #4]
 532 000e 082B     		cmp	r3, #8
 533 0010 70D1     		bne	.L14
 135:User/Hardware/dm4310_drv.c **** 	{//返回的数据有8个字节
 136:User/Hardware/dm4310_drv.c **** 	  motor->para.id = (rx_data[0])&0x0F;
 534              		.loc 1 136 29
 535 0012 BB68     		ldr	r3, [r7, #8]
 536 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 537              		.loc 1 136 33
 538 0016 03F00F03 		and	r3, r3, #15
 539 001a 9AB2     		uxth	r2, r3
 540              		.loc 1 136 19
 541 001c FB68     		ldr	r3, [r7, #12]
 542 001e 9A80     		strh	r2, [r3, #4]	@ movhi
 137:User/Hardware/dm4310_drv.c **** 	  motor->para.state = (rx_data[0])>>4;
 543              		.loc 1 137 32
 544 0020 BB68     		ldr	r3, [r7, #8]
 545 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 546              		.loc 1 137 22
 547 0024 1B09     		lsrs	r3, r3, #4
 548 0026 DBB2     		uxtb	r3, r3
 549 0028 1A46     		mov	r2, r3
 550 002a FB68     		ldr	r3, [r7, #12]
 551 002c DA80     		strh	r2, [r3, #6]	@ movhi
 138:User/Hardware/dm4310_drv.c **** 	  motor->para.p_int=(rx_data[1]<<8)|rx_data[2];
 552              		.loc 1 138 30
 553 002e BB68     		ldr	r3, [r7, #8]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 13


 554 0030 0133     		adds	r3, r3, #1
 555 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 556              		.loc 1 138 33
 557 0034 1B02     		lsls	r3, r3, #8
 558              		.loc 1 138 45
 559 0036 BA68     		ldr	r2, [r7, #8]
 560 0038 0232     		adds	r2, r2, #2
 561 003a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 562              		.loc 1 138 37
 563 003c 1A43     		orrs	r2, r2, r3
 564              		.loc 1 138 21
 565 003e FB68     		ldr	r3, [r7, #12]
 566 0040 9A60     		str	r2, [r3, #8]
 139:User/Hardware/dm4310_drv.c **** 	  motor->para.v_int=(rx_data[3]<<4)|(rx_data[4]>>4);
 567              		.loc 1 139 30
 568 0042 BB68     		ldr	r3, [r7, #8]
 569 0044 0333     		adds	r3, r3, #3
 570 0046 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 571              		.loc 1 139 33
 572 0048 1B01     		lsls	r3, r3, #4
 573              		.loc 1 139 46
 574 004a BA68     		ldr	r2, [r7, #8]
 575 004c 0432     		adds	r2, r2, #4
 576 004e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 577              		.loc 1 139 49
 578 0050 1209     		lsrs	r2, r2, #4
 579 0052 D2B2     		uxtb	r2, r2
 580              		.loc 1 139 37
 581 0054 1A43     		orrs	r2, r2, r3
 582              		.loc 1 139 21
 583 0056 FB68     		ldr	r3, [r7, #12]
 584 0058 DA60     		str	r2, [r3, #12]
 140:User/Hardware/dm4310_drv.c **** 	  motor->para.t_int=((rx_data[4]&0xF)<<8)|rx_data[5];
 585              		.loc 1 140 31
 586 005a BB68     		ldr	r3, [r7, #8]
 587 005c 0433     		adds	r3, r3, #4
 588 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 589              		.loc 1 140 39
 590 0060 1B02     		lsls	r3, r3, #8
 591 0062 03F47063 		and	r3, r3, #3840
 592              		.loc 1 140 51
 593 0066 BA68     		ldr	r2, [r7, #8]
 594 0068 0532     		adds	r2, r2, #5
 595 006a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 596              		.loc 1 140 43
 597 006c 1A43     		orrs	r2, r2, r3
 598              		.loc 1 140 21
 599 006e FB68     		ldr	r3, [r7, #12]
 600 0070 1A61     		str	r2, [r3, #16]
 141:User/Hardware/dm4310_drv.c **** 	  motor->para.pos = uint_to_float(motor->para.p_int, P_MIN, P_MAX, 16); // (-12.5,12.5)
 601              		.loc 1 141 22
 602 0072 FB68     		ldr	r3, [r7, #12]
 603 0074 9B68     		ldr	r3, [r3, #8]
 604 0076 1021     		movs	r1, #16
 605 0078 F2EE090A 		vmov.f32	s1, #1.25e+1
 606 007c BAEE090A 		vmov.f32	s0, #-1.25e+1
 607 0080 1846     		mov	r0, r3
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 14


 608 0082 FFF7FEFF 		bl	uint_to_float
 609 0086 F0EE407A 		vmov.f32	s15, s0
 610              		.loc 1 141 20 discriminator 1
 611 008a FB68     		ldr	r3, [r7, #12]
 612 008c C3ED077A 		vstr.32	s15, [r3, #28]
 142:User/Hardware/dm4310_drv.c **** 	  motor->para.vel = uint_to_float(motor->para.v_int, V_MIN, V_MAX, 12); // (-30.0,30.0)
 613              		.loc 1 142 22
 614 0090 FB68     		ldr	r3, [r7, #12]
 615 0092 DB68     		ldr	r3, [r3, #12]
 616 0094 0C21     		movs	r1, #12
 617 0096 F3EE0E0A 		vmov.f32	s1, #3.0e+1
 618 009a BBEE0E0A 		vmov.f32	s0, #-3.0e+1
 619 009e 1846     		mov	r0, r3
 620 00a0 FFF7FEFF 		bl	uint_to_float
 621 00a4 F0EE407A 		vmov.f32	s15, s0
 622              		.loc 1 142 20 discriminator 1
 623 00a8 FB68     		ldr	r3, [r7, #12]
 624 00aa C3ED087A 		vstr.32	s15, [r3, #32]
 143:User/Hardware/dm4310_drv.c **** 	  motor->para.tor = uint_to_float(motor->para.t_int, T_MIN, T_MAX, 12);  // (-10.0,10.0)
 625              		.loc 1 143 22
 626 00ae FB68     		ldr	r3, [r7, #12]
 627 00b0 1B69     		ldr	r3, [r3, #16]
 628 00b2 0C21     		movs	r1, #12
 629 00b4 F2EE040A 		vmov.f32	s1, #1.0e+1
 630 00b8 BAEE040A 		vmov.f32	s0, #-1.0e+1
 631 00bc 1846     		mov	r0, r3
 632 00be FFF7FEFF 		bl	uint_to_float
 633 00c2 F0EE407A 		vmov.f32	s15, s0
 634              		.loc 1 143 20 discriminator 1
 635 00c6 FB68     		ldr	r3, [r7, #12]
 636 00c8 C3ED097A 		vstr.32	s15, [r3, #36]
 144:User/Hardware/dm4310_drv.c **** 	  motor->para.Tmos = (float)(rx_data[6]);
 637              		.loc 1 144 38
 638 00cc BB68     		ldr	r3, [r7, #8]
 639 00ce 0633     		adds	r3, r3, #6
 640 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 641              		.loc 1 144 23
 642 00d2 07EE903A 		vmov	s15, r3	@ int
 643 00d6 F8EE677A 		vcvt.f32.u32	s15, s15
 644              		.loc 1 144 21
 645 00da FB68     		ldr	r3, [r7, #12]
 646 00dc C3ED0C7A 		vstr.32	s15, [r3, #48]
 145:User/Hardware/dm4310_drv.c **** 	  motor->para.Tcoil = (float)(rx_data[7]);
 647              		.loc 1 145 39
 648 00e0 BB68     		ldr	r3, [r7, #8]
 649 00e2 0733     		adds	r3, r3, #7
 650 00e4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 651              		.loc 1 145 24
 652 00e6 07EE903A 		vmov	s15, r3	@ int
 653 00ea F8EE677A 		vcvt.f32.u32	s15, s15
 654              		.loc 1 145 22
 655 00ee FB68     		ldr	r3, [r7, #12]
 656 00f0 C3ED0D7A 		vstr.32	s15, [r3, #52]
 657              	.L14:
 146:User/Hardware/dm4310_drv.c **** 	}
 147:User/Hardware/dm4310_drv.c **** }
 658              		.loc 1 147 1
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 15


 659 00f4 00BF     		nop
 660 00f6 1037     		adds	r7, r7, #16
 661              	.LCFI43:
 662              		.cfi_def_cfa_offset 8
 663 00f8 BD46     		mov	sp, r7
 664              	.LCFI44:
 665              		.cfi_def_cfa_register 13
 666              		@ sp needed
 667 00fa 80BD     		pop	{r7, pc}
 668              		.cfi_endproc
 669              	.LFE184:
 671              		.section	.text.dm8009_fbdata,"ax",%progbits
 672              		.align	1
 673              		.global	dm8009_fbdata
 674              		.syntax unified
 675              		.thumb
 676              		.thumb_func
 678              	dm8009_fbdata:
 679              	.LFB185:
 148:User/Hardware/dm4310_drv.c **** 
 149:User/Hardware/dm4310_drv.c **** void dm8009_fbdata(Arm_Motor_t *motor, uint8_t *rx_data,uint32_t data_len)
 150:User/Hardware/dm4310_drv.c **** { 
 680              		.loc 1 150 1
 681              		.cfi_startproc
 682              		@ args = 0, pretend = 0, frame = 16
 683              		@ frame_needed = 1, uses_anonymous_args = 0
 684 0000 80B5     		push	{r7, lr}
 685              	.LCFI45:
 686              		.cfi_def_cfa_offset 8
 687              		.cfi_offset 7, -8
 688              		.cfi_offset 14, -4
 689 0002 84B0     		sub	sp, sp, #16
 690              	.LCFI46:
 691              		.cfi_def_cfa_offset 24
 692 0004 00AF     		add	r7, sp, #0
 693              	.LCFI47:
 694              		.cfi_def_cfa_register 7
 695 0006 F860     		str	r0, [r7, #12]
 696 0008 B960     		str	r1, [r7, #8]
 697 000a 7A60     		str	r2, [r7, #4]
 151:User/Hardware/dm4310_drv.c **** 	if(data_len==FDCAN_DLC_BYTES_8)
 698              		.loc 1 151 4
 699 000c 7B68     		ldr	r3, [r7, #4]
 700 000e 082B     		cmp	r3, #8
 701 0010 70D1     		bne	.L17
 152:User/Hardware/dm4310_drv.c **** 	{//返回的数据有8个字节
 153:User/Hardware/dm4310_drv.c **** 	  motor->para.id = (rx_data[0])&0x0F;
 702              		.loc 1 153 29
 703 0012 BB68     		ldr	r3, [r7, #8]
 704 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 705              		.loc 1 153 33
 706 0016 03F00F03 		and	r3, r3, #15
 707 001a 9AB2     		uxth	r2, r3
 708              		.loc 1 153 19
 709 001c FB68     		ldr	r3, [r7, #12]
 710 001e 9A80     		strh	r2, [r3, #4]	@ movhi
 154:User/Hardware/dm4310_drv.c **** 	  motor->para.state = (rx_data[0])>>4;
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 16


 711              		.loc 1 154 32
 712 0020 BB68     		ldr	r3, [r7, #8]
 713 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 714              		.loc 1 154 22
 715 0024 1B09     		lsrs	r3, r3, #4
 716 0026 DBB2     		uxtb	r3, r3
 717 0028 1A46     		mov	r2, r3
 718 002a FB68     		ldr	r3, [r7, #12]
 719 002c DA80     		strh	r2, [r3, #6]	@ movhi
 155:User/Hardware/dm4310_drv.c **** 	  motor->para.p_int=(rx_data[1]<<8)|rx_data[2];
 720              		.loc 1 155 30
 721 002e BB68     		ldr	r3, [r7, #8]
 722 0030 0133     		adds	r3, r3, #1
 723 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 724              		.loc 1 155 33
 725 0034 1B02     		lsls	r3, r3, #8
 726              		.loc 1 155 45
 727 0036 BA68     		ldr	r2, [r7, #8]
 728 0038 0232     		adds	r2, r2, #2
 729 003a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 730              		.loc 1 155 37
 731 003c 1A43     		orrs	r2, r2, r3
 732              		.loc 1 155 21
 733 003e FB68     		ldr	r3, [r7, #12]
 734 0040 9A60     		str	r2, [r3, #8]
 156:User/Hardware/dm4310_drv.c **** 	  motor->para.v_int=(rx_data[3]<<4)|(rx_data[4]>>4);
 735              		.loc 1 156 30
 736 0042 BB68     		ldr	r3, [r7, #8]
 737 0044 0333     		adds	r3, r3, #3
 738 0046 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 739              		.loc 1 156 33
 740 0048 1B01     		lsls	r3, r3, #4
 741              		.loc 1 156 46
 742 004a BA68     		ldr	r2, [r7, #8]
 743 004c 0432     		adds	r2, r2, #4
 744 004e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 745              		.loc 1 156 49
 746 0050 1209     		lsrs	r2, r2, #4
 747 0052 D2B2     		uxtb	r2, r2
 748              		.loc 1 156 37
 749 0054 1A43     		orrs	r2, r2, r3
 750              		.loc 1 156 21
 751 0056 FB68     		ldr	r3, [r7, #12]
 752 0058 DA60     		str	r2, [r3, #12]
 157:User/Hardware/dm4310_drv.c **** 	  motor->para.t_int=((rx_data[4]&0xF)<<8)|rx_data[5];
 753              		.loc 1 157 31
 754 005a BB68     		ldr	r3, [r7, #8]
 755 005c 0433     		adds	r3, r3, #4
 756 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 757              		.loc 1 157 39
 758 0060 1B02     		lsls	r3, r3, #8
 759 0062 03F47063 		and	r3, r3, #3840
 760              		.loc 1 157 51
 761 0066 BA68     		ldr	r2, [r7, #8]
 762 0068 0532     		adds	r2, r2, #5
 763 006a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 764              		.loc 1 157 43
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 17


 765 006c 1A43     		orrs	r2, r2, r3
 766              		.loc 1 157 21
 767 006e FB68     		ldr	r3, [r7, #12]
 768 0070 1A61     		str	r2, [r3, #16]
 158:User/Hardware/dm4310_drv.c **** 	  motor->para.pos = uint_to_float(motor->para.p_int, P_MIN2, P_MAX2, 16); // (-12.5,12.5)
 769              		.loc 1 158 22
 770 0072 FB68     		ldr	r3, [r7, #12]
 771 0074 9B68     		ldr	r3, [r3, #8]
 772 0076 1021     		movs	r1, #16
 773 0078 F2EE090A 		vmov.f32	s1, #1.25e+1
 774 007c BAEE090A 		vmov.f32	s0, #-1.25e+1
 775 0080 1846     		mov	r0, r3
 776 0082 FFF7FEFF 		bl	uint_to_float
 777 0086 F0EE407A 		vmov.f32	s15, s0
 778              		.loc 1 158 20 discriminator 1
 779 008a FB68     		ldr	r3, [r7, #12]
 780 008c C3ED077A 		vstr.32	s15, [r3, #28]
 159:User/Hardware/dm4310_drv.c **** 	  motor->para.vel = uint_to_float(motor->para.v_int, V_MIN2, V_MAX2, 12); // (-30.0,30.0)
 781              		.loc 1 159 22
 782 0090 FB68     		ldr	r3, [r7, #12]
 783 0092 DB68     		ldr	r3, [r3, #12]
 784 0094 0C21     		movs	r1, #12
 785 0096 DFED190A 		vldr.32	s1, .L18
 786 009a 9FED190A 		vldr.32	s0, .L18+4
 787 009e 1846     		mov	r0, r3
 788 00a0 FFF7FEFF 		bl	uint_to_float
 789 00a4 F0EE407A 		vmov.f32	s15, s0
 790              		.loc 1 159 20 discriminator 1
 791 00a8 FB68     		ldr	r3, [r7, #12]
 792 00aa C3ED087A 		vstr.32	s15, [r3, #32]
 160:User/Hardware/dm4310_drv.c **** 	  motor->para.tor = uint_to_float(motor->para.t_int, T_MIN2, T_MAX2, 12);  // (-10.0,10.0)
 793              		.loc 1 160 22
 794 00ae FB68     		ldr	r3, [r7, #12]
 795 00b0 1B69     		ldr	r3, [r3, #16]
 796 00b2 0C21     		movs	r1, #12
 797 00b4 DFED130A 		vldr.32	s1, .L18+8
 798 00b8 9FED130A 		vldr.32	s0, .L18+12
 799 00bc 1846     		mov	r0, r3
 800 00be FFF7FEFF 		bl	uint_to_float
 801 00c2 F0EE407A 		vmov.f32	s15, s0
 802              		.loc 1 160 20 discriminator 1
 803 00c6 FB68     		ldr	r3, [r7, #12]
 804 00c8 C3ED097A 		vstr.32	s15, [r3, #36]
 161:User/Hardware/dm4310_drv.c **** 	  motor->para.Tmos = (float)(rx_data[6]);
 805              		.loc 1 161 38
 806 00cc BB68     		ldr	r3, [r7, #8]
 807 00ce 0633     		adds	r3, r3, #6
 808 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 809              		.loc 1 161 23
 810 00d2 07EE903A 		vmov	s15, r3	@ int
 811 00d6 F8EE677A 		vcvt.f32.u32	s15, s15
 812              		.loc 1 161 21
 813 00da FB68     		ldr	r3, [r7, #12]
 814 00dc C3ED0C7A 		vstr.32	s15, [r3, #48]
 162:User/Hardware/dm4310_drv.c **** 	  motor->para.Tcoil = (float)(rx_data[7]);
 815              		.loc 1 162 39
 816 00e0 BB68     		ldr	r3, [r7, #8]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 18


 817 00e2 0733     		adds	r3, r3, #7
 818 00e4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 819              		.loc 1 162 24
 820 00e6 07EE903A 		vmov	s15, r3	@ int
 821 00ea F8EE677A 		vcvt.f32.u32	s15, s15
 822              		.loc 1 162 22
 823 00ee FB68     		ldr	r3, [r7, #12]
 824 00f0 C3ED0D7A 		vstr.32	s15, [r3, #52]
 825              	.L17:
 163:User/Hardware/dm4310_drv.c **** 	}
 164:User/Hardware/dm4310_drv.c **** }
 826              		.loc 1 164 1
 827 00f4 00BF     		nop
 828 00f6 1037     		adds	r7, r7, #16
 829              	.LCFI48:
 830              		.cfi_def_cfa_offset 8
 831 00f8 BD46     		mov	sp, r7
 832              	.LCFI49:
 833              		.cfi_def_cfa_register 13
 834              		@ sp needed
 835 00fa 80BD     		pop	{r7, pc}
 836              	.L19:
 837              		.align	2
 838              	.L18:
 839 00fc 00003442 		.word	1110704128
 840 0100 000034C2 		.word	-1036779520
 841 0104 00005842 		.word	1113063424
 842 0108 000058C2 		.word	-1034420224
 843              		.cfi_endproc
 844              	.LFE185:
 846              		.section	.text.dm10010l_fbdata,"ax",%progbits
 847              		.align	1
 848              		.global	dm10010l_fbdata
 849              		.syntax unified
 850              		.thumb
 851              		.thumb_func
 853              	dm10010l_fbdata:
 854              	.LFB186:
 165:User/Hardware/dm4310_drv.c **** 
 166:User/Hardware/dm4310_drv.c **** void dm10010l_fbdata(Arm_Motor_t *motor, uint8_t *rx_data,uint32_t data_len)
 167:User/Hardware/dm4310_drv.c **** { 
 855              		.loc 1 167 1
 856              		.cfi_startproc
 857              		@ args = 0, pretend = 0, frame = 16
 858              		@ frame_needed = 1, uses_anonymous_args = 0
 859 0000 80B5     		push	{r7, lr}
 860              	.LCFI50:
 861              		.cfi_def_cfa_offset 8
 862              		.cfi_offset 7, -8
 863              		.cfi_offset 14, -4
 864 0002 84B0     		sub	sp, sp, #16
 865              	.LCFI51:
 866              		.cfi_def_cfa_offset 24
 867 0004 00AF     		add	r7, sp, #0
 868              	.LCFI52:
 869              		.cfi_def_cfa_register 7
 870 0006 F860     		str	r0, [r7, #12]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 19


 871 0008 B960     		str	r1, [r7, #8]
 872 000a 7A60     		str	r2, [r7, #4]
 168:User/Hardware/dm4310_drv.c **** 	if(data_len==FDCAN_DLC_BYTES_8)
 873              		.loc 1 168 4
 874 000c 7B68     		ldr	r3, [r7, #4]
 875 000e 082B     		cmp	r3, #8
 876 0010 70D1     		bne	.L22
 169:User/Hardware/dm4310_drv.c **** 	{//返回的数据有8个字节
 170:User/Hardware/dm4310_drv.c **** 	  motor->para.id = (rx_data[0])&0x0F;
 877              		.loc 1 170 29
 878 0012 BB68     		ldr	r3, [r7, #8]
 879 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 880              		.loc 1 170 33
 881 0016 03F00F03 		and	r3, r3, #15
 882 001a 9AB2     		uxth	r2, r3
 883              		.loc 1 170 19
 884 001c FB68     		ldr	r3, [r7, #12]
 885 001e 9A80     		strh	r2, [r3, #4]	@ movhi
 171:User/Hardware/dm4310_drv.c **** 	  motor->para.state = (rx_data[0])>>4;
 886              		.loc 1 171 32
 887 0020 BB68     		ldr	r3, [r7, #8]
 888 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 889              		.loc 1 171 22
 890 0024 1B09     		lsrs	r3, r3, #4
 891 0026 DBB2     		uxtb	r3, r3
 892 0028 1A46     		mov	r2, r3
 893 002a FB68     		ldr	r3, [r7, #12]
 894 002c DA80     		strh	r2, [r3, #6]	@ movhi
 172:User/Hardware/dm4310_drv.c **** 	  motor->para.p_int=(rx_data[1]<<8)|rx_data[2];
 895              		.loc 1 172 30
 896 002e BB68     		ldr	r3, [r7, #8]
 897 0030 0133     		adds	r3, r3, #1
 898 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 899              		.loc 1 172 33
 900 0034 1B02     		lsls	r3, r3, #8
 901              		.loc 1 172 45
 902 0036 BA68     		ldr	r2, [r7, #8]
 903 0038 0232     		adds	r2, r2, #2
 904 003a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 905              		.loc 1 172 37
 906 003c 1A43     		orrs	r2, r2, r3
 907              		.loc 1 172 21
 908 003e FB68     		ldr	r3, [r7, #12]
 909 0040 9A60     		str	r2, [r3, #8]
 173:User/Hardware/dm4310_drv.c **** 	  motor->para.v_int=(rx_data[3]<<4)|(rx_data[4]>>4);
 910              		.loc 1 173 30
 911 0042 BB68     		ldr	r3, [r7, #8]
 912 0044 0333     		adds	r3, r3, #3
 913 0046 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 914              		.loc 1 173 33
 915 0048 1B01     		lsls	r3, r3, #4
 916              		.loc 1 173 46
 917 004a BA68     		ldr	r2, [r7, #8]
 918 004c 0432     		adds	r2, r2, #4
 919 004e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 920              		.loc 1 173 49
 921 0050 1209     		lsrs	r2, r2, #4
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 20


 922 0052 D2B2     		uxtb	r2, r2
 923              		.loc 1 173 37
 924 0054 1A43     		orrs	r2, r2, r3
 925              		.loc 1 173 21
 926 0056 FB68     		ldr	r3, [r7, #12]
 927 0058 DA60     		str	r2, [r3, #12]
 174:User/Hardware/dm4310_drv.c **** 	  motor->para.t_int=((rx_data[4]&0xF)<<8)|rx_data[5];
 928              		.loc 1 174 31
 929 005a BB68     		ldr	r3, [r7, #8]
 930 005c 0433     		adds	r3, r3, #4
 931 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 932              		.loc 1 174 39
 933 0060 1B02     		lsls	r3, r3, #8
 934 0062 03F47063 		and	r3, r3, #3840
 935              		.loc 1 174 51
 936 0066 BA68     		ldr	r2, [r7, #8]
 937 0068 0532     		adds	r2, r2, #5
 938 006a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 939              		.loc 1 174 43
 940 006c 1A43     		orrs	r2, r2, r3
 941              		.loc 1 174 21
 942 006e FB68     		ldr	r3, [r7, #12]
 943 0070 1A61     		str	r2, [r3, #16]
 175:User/Hardware/dm4310_drv.c **** 	  motor->para.pos = uint_to_float(motor->para.p_int, P_MIN3, P_MAX3, 16); // (-12.5,12.5)
 944              		.loc 1 175 22
 945 0072 FB68     		ldr	r3, [r7, #12]
 946 0074 9B68     		ldr	r3, [r3, #8]
 947 0076 1021     		movs	r1, #16
 948 0078 F2EE090A 		vmov.f32	s1, #1.25e+1
 949 007c BAEE090A 		vmov.f32	s0, #-1.25e+1
 950 0080 1846     		mov	r0, r3
 951 0082 FFF7FEFF 		bl	uint_to_float
 952 0086 F0EE407A 		vmov.f32	s15, s0
 953              		.loc 1 175 20 discriminator 1
 954 008a FB68     		ldr	r3, [r7, #12]
 955 008c C3ED077A 		vstr.32	s15, [r3, #28]
 176:User/Hardware/dm4310_drv.c **** 	  motor->para.vel = uint_to_float(motor->para.v_int, V_MIN3, V_MAX3, 12); // (-30.0,30.0)
 956              		.loc 1 176 22
 957 0090 FB68     		ldr	r3, [r7, #12]
 958 0092 DB68     		ldr	r3, [r3, #12]
 959 0094 0C21     		movs	r1, #12
 960 0096 F3EE090A 		vmov.f32	s1, #2.5e+1
 961 009a BBEE090A 		vmov.f32	s0, #-2.5e+1
 962 009e 1846     		mov	r0, r3
 963 00a0 FFF7FEFF 		bl	uint_to_float
 964 00a4 F0EE407A 		vmov.f32	s15, s0
 965              		.loc 1 176 20 discriminator 1
 966 00a8 FB68     		ldr	r3, [r7, #12]
 967 00aa C3ED087A 		vstr.32	s15, [r3, #32]
 177:User/Hardware/dm4310_drv.c **** 	  motor->para.tor = uint_to_float(motor->para.t_int, T_MIN3, T_MAX3, 12);  // (-10.0,10.0)
 968              		.loc 1 177 22
 969 00ae FB68     		ldr	r3, [r7, #12]
 970 00b0 1B69     		ldr	r3, [r3, #16]
 971 00b2 0C21     		movs	r1, #12
 972 00b4 DFED110A 		vldr.32	s1, .L23
 973 00b8 9FED110A 		vldr.32	s0, .L23+4
 974 00bc 1846     		mov	r0, r3
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 21


 975 00be FFF7FEFF 		bl	uint_to_float
 976 00c2 F0EE407A 		vmov.f32	s15, s0
 977              		.loc 1 177 20 discriminator 1
 978 00c6 FB68     		ldr	r3, [r7, #12]
 979 00c8 C3ED097A 		vstr.32	s15, [r3, #36]
 178:User/Hardware/dm4310_drv.c **** 	  motor->para.Tmos = (float)(rx_data[6]);
 980              		.loc 1 178 38
 981 00cc BB68     		ldr	r3, [r7, #8]
 982 00ce 0633     		adds	r3, r3, #6
 983 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 984              		.loc 1 178 23
 985 00d2 07EE903A 		vmov	s15, r3	@ int
 986 00d6 F8EE677A 		vcvt.f32.u32	s15, s15
 987              		.loc 1 178 21
 988 00da FB68     		ldr	r3, [r7, #12]
 989 00dc C3ED0C7A 		vstr.32	s15, [r3, #48]
 179:User/Hardware/dm4310_drv.c **** 	  motor->para.Tcoil = (float)(rx_data[7]);
 990              		.loc 1 179 39
 991 00e0 BB68     		ldr	r3, [r7, #8]
 992 00e2 0733     		adds	r3, r3, #7
 993 00e4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 994              		.loc 1 179 24
 995 00e6 07EE903A 		vmov	s15, r3	@ int
 996 00ea F8EE677A 		vcvt.f32.u32	s15, s15
 997              		.loc 1 179 22
 998 00ee FB68     		ldr	r3, [r7, #12]
 999 00f0 C3ED0D7A 		vstr.32	s15, [r3, #52]
 1000              	.L22:
 180:User/Hardware/dm4310_drv.c **** 	}
 181:User/Hardware/dm4310_drv.c **** }
 1001              		.loc 1 181 1
 1002 00f4 00BF     		nop
 1003 00f6 1037     		adds	r7, r7, #16
 1004              	.LCFI53:
 1005              		.cfi_def_cfa_offset 8
 1006 00f8 BD46     		mov	sp, r7
 1007              	.LCFI54:
 1008              		.cfi_def_cfa_register 13
 1009              		@ sp needed
 1010 00fa 80BD     		pop	{r7, pc}
 1011              	.L24:
 1012              		.align	2
 1013              	.L23:
 1014 00fc 00004843 		.word	1128792064
 1015 0100 000048C3 		.word	-1018691584
 1016              		.cfi_endproc
 1017              	.LFE186:
 1019              		.section	.text.set_DM_pos_vel,"ax",%progbits
 1020              		.align	1
 1021              		.global	set_DM_pos_vel
 1022              		.syntax unified
 1023              		.thumb
 1024              		.thumb_func
 1026              	set_DM_pos_vel:
 1027              	.LFB187:
 182:User/Hardware/dm4310_drv.c **** /************************************控制达妙电机参数**********************************************
 183:User/Hardware/dm4310_drv.c **** //POS模式传入参数
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 22


 184:User/Hardware/dm4310_drv.c **** void set_DM_pos_vel(float pos, float vel,uint16_t motor_id)
 185:User/Hardware/dm4310_drv.c **** {
 1028              		.loc 1 185 1
 1029              		.cfi_startproc
 1030              		@ args = 0, pretend = 0, frame = 16
 1031              		@ frame_needed = 1, uses_anonymous_args = 0
 1032              		@ link register save eliminated.
 1033 0000 80B4     		push	{r7}
 1034              	.LCFI55:
 1035              		.cfi_def_cfa_offset 4
 1036              		.cfi_offset 7, -4
 1037 0002 85B0     		sub	sp, sp, #20
 1038              	.LCFI56:
 1039              		.cfi_def_cfa_offset 24
 1040 0004 00AF     		add	r7, sp, #0
 1041              	.LCFI57:
 1042              		.cfi_def_cfa_register 7
 1043 0006 87ED030A 		vstr.32	s0, [r7, #12]
 1044 000a C7ED020A 		vstr.32	s1, [r7, #8]
 1045 000e 0346     		mov	r3, r0
 1046 0010 FB80     		strh	r3, [r7, #6]	@ movhi
 186:User/Hardware/dm4310_drv.c **** 	arm_motor[motor_id].ctrl.pos_set = pos;
 1047              		.loc 1 186 26
 1048 0012 FA88     		ldrh	r2, [r7, #6]
 1049              		.loc 1 186 35
 1050 0014 0C49     		ldr	r1, .L26
 1051 0016 1346     		mov	r3, r2
 1052 0018 1B01     		lsls	r3, r3, #4
 1053 001a 1344     		add	r3, r3, r2
 1054 001c 1B01     		lsls	r3, r3, #4
 1055 001e 0B44     		add	r3, r3, r1
 1056 0020 3C33     		adds	r3, r3, #60
 1057 0022 FA68     		ldr	r2, [r7, #12]	@ float
 1058 0024 1A60     		str	r2, [r3]	@ float
 187:User/Hardware/dm4310_drv.c **** 	arm_motor[motor_id].ctrl.vel_set = vel;
 1059              		.loc 1 187 26
 1060 0026 FA88     		ldrh	r2, [r7, #6]
 1061              		.loc 1 187 35
 1062 0028 0749     		ldr	r1, .L26
 1063 002a 1346     		mov	r3, r2
 1064 002c 1B01     		lsls	r3, r3, #4
 1065 002e 1344     		add	r3, r3, r2
 1066 0030 1B01     		lsls	r3, r3, #4
 1067 0032 0B44     		add	r3, r3, r1
 1068 0034 4033     		adds	r3, r3, #64
 1069 0036 BA68     		ldr	r2, [r7, #8]	@ float
 1070 0038 1A60     		str	r2, [r3]	@ float
 188:User/Hardware/dm4310_drv.c **** }
 1071              		.loc 1 188 1
 1072 003a 00BF     		nop
 1073 003c 1437     		adds	r7, r7, #20
 1074              	.LCFI58:
 1075              		.cfi_def_cfa_offset 4
 1076 003e BD46     		mov	sp, r7
 1077              	.LCFI59:
 1078              		.cfi_def_cfa_register 13
 1079              		@ sp needed
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 23


 1080 0040 5DF8047B 		ldr	r7, [sp], #4
 1081              	.LCFI60:
 1082              		.cfi_restore 7
 1083              		.cfi_def_cfa_offset 0
 1084 0044 7047     		bx	lr
 1085              	.L27:
 1086 0046 00BF     		.align	2
 1087              	.L26:
 1088 0048 00000000 		.word	arm_motor
 1089              		.cfi_endproc
 1090              	.LFE187:
 1092              		.section	.text.set_DM_vel,"ax",%progbits
 1093              		.align	1
 1094              		.global	set_DM_vel
 1095              		.syntax unified
 1096              		.thumb
 1097              		.thumb_func
 1099              	set_DM_vel:
 1100              	.LFB188:
 189:User/Hardware/dm4310_drv.c **** //VEL模式传入参数
 190:User/Hardware/dm4310_drv.c **** void set_DM_vel(float vel,uint16_t motor_id)
 191:User/Hardware/dm4310_drv.c **** {
 1101              		.loc 1 191 1
 1102              		.cfi_startproc
 1103              		@ args = 0, pretend = 0, frame = 8
 1104              		@ frame_needed = 1, uses_anonymous_args = 0
 1105              		@ link register save eliminated.
 1106 0000 80B4     		push	{r7}
 1107              	.LCFI61:
 1108              		.cfi_def_cfa_offset 4
 1109              		.cfi_offset 7, -4
 1110 0002 83B0     		sub	sp, sp, #12
 1111              	.LCFI62:
 1112              		.cfi_def_cfa_offset 16
 1113 0004 00AF     		add	r7, sp, #0
 1114              	.LCFI63:
 1115              		.cfi_def_cfa_register 7
 1116 0006 87ED010A 		vstr.32	s0, [r7, #4]
 1117 000a 0346     		mov	r3, r0
 1118 000c 7B80     		strh	r3, [r7, #2]	@ movhi
 192:User/Hardware/dm4310_drv.c **** 	arm_motor[motor_id].ctrl.vel_set = vel;
 1119              		.loc 1 192 26
 1120 000e 7A88     		ldrh	r2, [r7, #2]
 1121              		.loc 1 192 35
 1122 0010 0749     		ldr	r1, .L29
 1123 0012 1346     		mov	r3, r2
 1124 0014 1B01     		lsls	r3, r3, #4
 1125 0016 1344     		add	r3, r3, r2
 1126 0018 1B01     		lsls	r3, r3, #4
 1127 001a 0B44     		add	r3, r3, r1
 1128 001c 4033     		adds	r3, r3, #64
 1129 001e 7A68     		ldr	r2, [r7, #4]	@ float
 1130 0020 1A60     		str	r2, [r3]	@ float
 193:User/Hardware/dm4310_drv.c **** }
 1131              		.loc 1 193 1
 1132 0022 00BF     		nop
 1133 0024 0C37     		adds	r7, r7, #12
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 24


 1134              	.LCFI64:
 1135              		.cfi_def_cfa_offset 4
 1136 0026 BD46     		mov	sp, r7
 1137              	.LCFI65:
 1138              		.cfi_def_cfa_register 13
 1139              		@ sp needed
 1140 0028 5DF8047B 		ldr	r7, [sp], #4
 1141              	.LCFI66:
 1142              		.cfi_restore 7
 1143              		.cfi_def_cfa_offset 0
 1144 002c 7047     		bx	lr
 1145              	.L30:
 1146 002e 00BF     		.align	2
 1147              	.L29:
 1148 0030 00000000 		.word	arm_motor
 1149              		.cfi_endproc
 1150              	.LFE188:
 1152              		.section	.text.set_DM_mit,"ax",%progbits
 1153              		.align	1
 1154              		.global	set_DM_mit
 1155              		.syntax unified
 1156              		.thumb
 1157              		.thumb_func
 1159              	set_DM_mit:
 1160              	.LFB189:
 194:User/Hardware/dm4310_drv.c **** //MIT模式传入参数
 195:User/Hardware/dm4310_drv.c **** void set_DM_mit(float pos, float vel, float torq,float kp, float kd,uint16_t motor_id)
 196:User/Hardware/dm4310_drv.c **** {
 1161              		.loc 1 196 1
 1162              		.cfi_startproc
 1163              		@ args = 0, pretend = 0, frame = 24
 1164              		@ frame_needed = 1, uses_anonymous_args = 0
 1165              		@ link register save eliminated.
 1166 0000 80B4     		push	{r7}
 1167              	.LCFI67:
 1168              		.cfi_def_cfa_offset 4
 1169              		.cfi_offset 7, -4
 1170 0002 87B0     		sub	sp, sp, #28
 1171              	.LCFI68:
 1172              		.cfi_def_cfa_offset 32
 1173 0004 00AF     		add	r7, sp, #0
 1174              	.LCFI69:
 1175              		.cfi_def_cfa_register 7
 1176 0006 87ED050A 		vstr.32	s0, [r7, #20]
 1177 000a C7ED040A 		vstr.32	s1, [r7, #16]
 1178 000e 87ED031A 		vstr.32	s2, [r7, #12]
 1179 0012 C7ED021A 		vstr.32	s3, [r7, #8]
 1180 0016 87ED012A 		vstr.32	s4, [r7, #4]
 1181 001a 0346     		mov	r3, r0
 1182 001c 7B80     		strh	r3, [r7, #2]	@ movhi
 197:User/Hardware/dm4310_drv.c **** 	arm_motor[motor_id].ctrl.pos_set = pos;
 1183              		.loc 1 197 26
 1184 001e 7A88     		ldrh	r2, [r7, #2]
 1185              		.loc 1 197 35
 1186 0020 1B49     		ldr	r1, .L32
 1187 0022 1346     		mov	r3, r2
 1188 0024 1B01     		lsls	r3, r3, #4
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 25


 1189 0026 1344     		add	r3, r3, r2
 1190 0028 1B01     		lsls	r3, r3, #4
 1191 002a 0B44     		add	r3, r3, r1
 1192 002c 3C33     		adds	r3, r3, #60
 1193 002e 7A69     		ldr	r2, [r7, #20]	@ float
 1194 0030 1A60     		str	r2, [r3]	@ float
 198:User/Hardware/dm4310_drv.c **** 	arm_motor[motor_id].ctrl.vel_set = vel;
 1195              		.loc 1 198 26
 1196 0032 7A88     		ldrh	r2, [r7, #2]
 1197              		.loc 1 198 35
 1198 0034 1649     		ldr	r1, .L32
 1199 0036 1346     		mov	r3, r2
 1200 0038 1B01     		lsls	r3, r3, #4
 1201 003a 1344     		add	r3, r3, r2
 1202 003c 1B01     		lsls	r3, r3, #4
 1203 003e 0B44     		add	r3, r3, r1
 1204 0040 4033     		adds	r3, r3, #64
 1205 0042 3A69     		ldr	r2, [r7, #16]	@ float
 1206 0044 1A60     		str	r2, [r3]	@ float
 199:User/Hardware/dm4310_drv.c **** 	arm_motor[motor_id].ctrl.tor_set = torq;
 1207              		.loc 1 199 26
 1208 0046 7A88     		ldrh	r2, [r7, #2]
 1209              		.loc 1 199 35
 1210 0048 1149     		ldr	r1, .L32
 1211 004a 1346     		mov	r3, r2
 1212 004c 1B01     		lsls	r3, r3, #4
 1213 004e 1344     		add	r3, r3, r2
 1214 0050 1B01     		lsls	r3, r3, #4
 1215 0052 0B44     		add	r3, r3, r1
 1216 0054 4433     		adds	r3, r3, #68
 1217 0056 FA68     		ldr	r2, [r7, #12]	@ float
 1218 0058 1A60     		str	r2, [r3]	@ float
 200:User/Hardware/dm4310_drv.c **** 	arm_motor[motor_id].ctrl.kp_set = kp;
 1219              		.loc 1 200 26
 1220 005a 7A88     		ldrh	r2, [r7, #2]
 1221              		.loc 1 200 34
 1222 005c 0C49     		ldr	r1, .L32
 1223 005e 1346     		mov	r3, r2
 1224 0060 1B01     		lsls	r3, r3, #4
 1225 0062 1344     		add	r3, r3, r2
 1226 0064 1B01     		lsls	r3, r3, #4
 1227 0066 0B44     		add	r3, r3, r1
 1228 0068 4C33     		adds	r3, r3, #76
 1229 006a BA68     		ldr	r2, [r7, #8]	@ float
 1230 006c 1A60     		str	r2, [r3]	@ float
 201:User/Hardware/dm4310_drv.c **** 	arm_motor[motor_id].ctrl.kd_set = kd;
 1231              		.loc 1 201 26
 1232 006e 7A88     		ldrh	r2, [r7, #2]
 1233              		.loc 1 201 34
 1234 0070 0749     		ldr	r1, .L32
 1235 0072 1346     		mov	r3, r2
 1236 0074 1B01     		lsls	r3, r3, #4
 1237 0076 1344     		add	r3, r3, r2
 1238 0078 1B01     		lsls	r3, r3, #4
 1239 007a 0B44     		add	r3, r3, r1
 1240 007c 5033     		adds	r3, r3, #80
 1241 007e 7A68     		ldr	r2, [r7, #4]	@ float
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 26


 1242 0080 1A60     		str	r2, [r3]	@ float
 202:User/Hardware/dm4310_drv.c **** }
 1243              		.loc 1 202 1
 1244 0082 00BF     		nop
 1245 0084 1C37     		adds	r7, r7, #28
 1246              	.LCFI70:
 1247              		.cfi_def_cfa_offset 4
 1248 0086 BD46     		mov	sp, r7
 1249              	.LCFI71:
 1250              		.cfi_def_cfa_register 13
 1251              		@ sp needed
 1252 0088 5DF8047B 		ldr	r7, [sp], #4
 1253              	.LCFI72:
 1254              		.cfi_restore 7
 1255              		.cfi_def_cfa_offset 0
 1256 008c 7047     		bx	lr
 1257              	.L33:
 1258 008e 00BF     		.align	2
 1259              	.L32:
 1260 0090 00000000 		.word	arm_motor
 1261              		.cfi_endproc
 1262              	.LFE189:
 1264              		.section	.text.set_DM_mode,"ax",%progbits
 1265              		.align	1
 1266              		.global	set_DM_mode
 1267              		.syntax unified
 1268              		.thumb
 1269              		.thumb_func
 1271              	set_DM_mode:
 1272              	.LFB190:
 203:User/Hardware/dm4310_drv.c **** //达妙迪机控制模式写入 （只是存入数组方便我们看，真正的模式设置在上位机里）
 204:User/Hardware/dm4310_drv.c **** void set_DM_mode(uint16_t motor_id, uint16_t mode_id)
 205:User/Hardware/dm4310_drv.c **** {
 1273              		.loc 1 205 1
 1274              		.cfi_startproc
 1275              		@ args = 0, pretend = 0, frame = 8
 1276              		@ frame_needed = 1, uses_anonymous_args = 0
 1277              		@ link register save eliminated.
 1278 0000 80B4     		push	{r7}
 1279              	.LCFI73:
 1280              		.cfi_def_cfa_offset 4
 1281              		.cfi_offset 7, -4
 1282 0002 83B0     		sub	sp, sp, #12
 1283              	.LCFI74:
 1284              		.cfi_def_cfa_offset 16
 1285 0004 00AF     		add	r7, sp, #0
 1286              	.LCFI75:
 1287              		.cfi_def_cfa_register 7
 1288 0006 0346     		mov	r3, r0
 1289 0008 0A46     		mov	r2, r1
 1290 000a FB80     		strh	r3, [r7, #6]	@ movhi
 1291 000c 1346     		mov	r3, r2	@ movhi
 1292 000e BB80     		strh	r3, [r7, #4]	@ movhi
 206:User/Hardware/dm4310_drv.c **** 	arm_motor[motor_id].ctrl.set_mode = mode_id;
 1293              		.loc 1 206 26
 1294 0010 FA88     		ldrh	r2, [r7, #6]
 1295              		.loc 1 206 36
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 27


 1296 0012 0749     		ldr	r1, .L35
 1297 0014 1346     		mov	r3, r2
 1298 0016 1B01     		lsls	r3, r3, #4
 1299 0018 1344     		add	r3, r3, r2
 1300 001a 1B01     		lsls	r3, r3, #4
 1301 001c 0B44     		add	r3, r3, r1
 1302 001e 3833     		adds	r3, r3, #56
 1303 0020 BA88     		ldrh	r2, [r7, #4]	@ movhi
 1304 0022 1A80     		strh	r2, [r3]	@ movhi
 207:User/Hardware/dm4310_drv.c **** }
 1305              		.loc 1 207 1
 1306 0024 00BF     		nop
 1307 0026 0C37     		adds	r7, r7, #12
 1308              	.LCFI76:
 1309              		.cfi_def_cfa_offset 4
 1310 0028 BD46     		mov	sp, r7
 1311              	.LCFI77:
 1312              		.cfi_def_cfa_register 13
 1313              		@ sp needed
 1314 002a 5DF8047B 		ldr	r7, [sp], #4
 1315              	.LCFI78:
 1316              		.cfi_restore 7
 1317              		.cfi_def_cfa_offset 0
 1318 002e 7047     		bx	lr
 1319              	.L36:
 1320              		.align	2
 1321              	.L35:
 1322 0030 00000000 		.word	arm_motor
 1323              		.cfi_endproc
 1324              	.LFE190:
 1326              		.section	.text.mit_ctrl,"ax",%progbits
 1327              		.align	1
 1328              		.global	mit_ctrl
 1329              		.syntax unified
 1330              		.thumb
 1331              		.thumb_func
 1333              	mit_ctrl:
 1334              	.LFB191:
 208:User/Hardware/dm4310_drv.c **** 
 209:User/Hardware/dm4310_drv.c **** /***********************************************达秒电机的不同模式*********************************
 210:User/Hardware/dm4310_drv.c **** /**
 211:User/Hardware/dm4310_drv.c **** ************************************************************************
 212:User/Hardware/dm4310_drv.c **** * @brief:      	mit_ctrl: MIT模式下的电机控制函数
 213:User/Hardware/dm4310_drv.c **** * @param[in]:   hcan:			指向CAN_HandleTypeDef结构的指针，用于指定CAN总线
 214:User/Hardware/dm4310_drv.c **** * @param[in]:   motor_id:	电机ID，指定目标电机
 215:User/Hardware/dm4310_drv.c **** * @param[in]:   pos:			位置给定值
 216:User/Hardware/dm4310_drv.c **** * @param[in]:   vel:			速度给定值
 217:User/Hardware/dm4310_drv.c **** * @param[in]:   kp:				位置比例系数
 218:User/Hardware/dm4310_drv.c **** * @param[in]:   kd:				位置微分系数
 219:User/Hardware/dm4310_drv.c **** * @param[in]:   torq:			转矩给定值
 220:User/Hardware/dm4310_drv.c **** * @retval:     	void
 221:User/Hardware/dm4310_drv.c **** * @details:    	通过CAN总线向电机发送MIT模式下的控制帧。
 222:User/Hardware/dm4310_drv.c **** ************************************************************************
 223:User/Hardware/dm4310_drv.c **** **/
 224:User/Hardware/dm4310_drv.c **** void mit_ctrl(hcan_t* hcan, uint16_t motor_id, float pos, float vel,float kp, float kd, float torq)
 225:User/Hardware/dm4310_drv.c **** {
 1335              		.loc 1 225 1
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 28


 1336              		.cfi_startproc
 1337              		@ args = 0, pretend = 0, frame = 56
 1338              		@ frame_needed = 1, uses_anonymous_args = 0
 1339 0000 80B5     		push	{r7, lr}
 1340              	.LCFI79:
 1341              		.cfi_def_cfa_offset 8
 1342              		.cfi_offset 7, -8
 1343              		.cfi_offset 14, -4
 1344 0002 8EB0     		sub	sp, sp, #56
 1345              	.LCFI80:
 1346              		.cfi_def_cfa_offset 64
 1347 0004 00AF     		add	r7, sp, #0
 1348              	.LCFI81:
 1349              		.cfi_def_cfa_register 7
 1350 0006 F861     		str	r0, [r7, #28]
 1351 0008 0B46     		mov	r3, r1
 1352 000a 87ED050A 		vstr.32	s0, [r7, #20]
 1353 000e C7ED040A 		vstr.32	s1, [r7, #16]
 1354 0012 87ED031A 		vstr.32	s2, [r7, #12]
 1355 0016 C7ED021A 		vstr.32	s3, [r7, #8]
 1356 001a 87ED012A 		vstr.32	s4, [r7, #4]
 1357 001e 7B83     		strh	r3, [r7, #26]	@ movhi
 226:User/Hardware/dm4310_drv.c **** 	uint8_t data[8];
 227:User/Hardware/dm4310_drv.c **** 	uint16_t pos_tmp,vel_tmp,kp_tmp,kd_tmp,tor_tmp;
 228:User/Hardware/dm4310_drv.c **** 	uint16_t id = motor_id + MIT_MODE;
 1358              		.loc 1 228 11
 1359 0020 7B8B     		ldrh	r3, [r7, #26]	@ movhi
 1360 0022 FB86     		strh	r3, [r7, #54]	@ movhi
 229:User/Hardware/dm4310_drv.c **** 
 230:User/Hardware/dm4310_drv.c **** 	pos_tmp = float_to_uint(pos,  P_MIN,  P_MAX,  16);
 1361              		.loc 1 230 12
 1362 0024 1020     		movs	r0, #16
 1363 0026 B2EE091A 		vmov.f32	s2, #1.25e+1
 1364 002a FAEE090A 		vmov.f32	s1, #-1.25e+1
 1365 002e 97ED050A 		vldr.32	s0, [r7, #20]
 1366 0032 FFF7FEFF 		bl	float_to_uint
 1367 0036 0346     		mov	r3, r0
 1368              		.loc 1 230 10 discriminator 1
 1369 0038 BB86     		strh	r3, [r7, #52]	@ movhi
 231:User/Hardware/dm4310_drv.c **** 	vel_tmp = float_to_uint(vel,  V_MIN,  V_MAX,  12);
 1370              		.loc 1 231 12
 1371 003a 0C20     		movs	r0, #12
 1372 003c B3EE0E1A 		vmov.f32	s2, #3.0e+1
 1373 0040 FBEE0E0A 		vmov.f32	s1, #-3.0e+1
 1374 0044 97ED040A 		vldr.32	s0, [r7, #16]
 1375 0048 FFF7FEFF 		bl	float_to_uint
 1376 004c 0346     		mov	r3, r0
 1377              		.loc 1 231 10 discriminator 1
 1378 004e 7B86     		strh	r3, [r7, #50]	@ movhi
 232:User/Hardware/dm4310_drv.c **** 	kp_tmp  = float_to_uint(kp,   KP_MIN, KP_MAX, 12);
 1379              		.loc 1 232 12
 1380 0050 0C20     		movs	r0, #12
 1381 0052 9FED311A 		vldr.32	s2, .L38
 1382 0056 DFED310A 		vldr.32	s1, .L38+4
 1383 005a 97ED030A 		vldr.32	s0, [r7, #12]
 1384 005e FFF7FEFF 		bl	float_to_uint
 1385 0062 0346     		mov	r3, r0
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 29


 1386              		.loc 1 232 10 discriminator 1
 1387 0064 3B86     		strh	r3, [r7, #48]	@ movhi
 233:User/Hardware/dm4310_drv.c **** 	kd_tmp  = float_to_uint(kd,   KD_MIN, KD_MAX, 12);
 1388              		.loc 1 233 12
 1389 0066 0C20     		movs	r0, #12
 1390 0068 B1EE041A 		vmov.f32	s2, #5.0e+0
 1391 006c DFED2B0A 		vldr.32	s1, .L38+4
 1392 0070 97ED020A 		vldr.32	s0, [r7, #8]
 1393 0074 FFF7FEFF 		bl	float_to_uint
 1394 0078 0346     		mov	r3, r0
 1395              		.loc 1 233 10 discriminator 1
 1396 007a FB85     		strh	r3, [r7, #46]	@ movhi
 234:User/Hardware/dm4310_drv.c **** 	tor_tmp = float_to_uint(torq, T_MIN,  T_MAX,  12);
 1397              		.loc 1 234 12
 1398 007c 0C20     		movs	r0, #12
 1399 007e B2EE041A 		vmov.f32	s2, #1.0e+1
 1400 0082 FAEE040A 		vmov.f32	s1, #-1.0e+1
 1401 0086 97ED010A 		vldr.32	s0, [r7, #4]
 1402 008a FFF7FEFF 		bl	float_to_uint
 1403 008e 0346     		mov	r3, r0
 1404              		.loc 1 234 10 discriminator 1
 1405 0090 BB85     		strh	r3, [r7, #44]	@ movhi
 235:User/Hardware/dm4310_drv.c **** 
 236:User/Hardware/dm4310_drv.c **** 	data[0] = (pos_tmp >> 8);
 1406              		.loc 1 236 10
 1407 0092 BB8E     		ldrh	r3, [r7, #52]
 1408 0094 1B0A     		lsrs	r3, r3, #8
 1409 0096 9BB2     		uxth	r3, r3
 1410 0098 DBB2     		uxtb	r3, r3
 1411 009a 87F82430 		strb	r3, [r7, #36]
 237:User/Hardware/dm4310_drv.c **** 	data[1] = pos_tmp;
 1412              		.loc 1 237 10
 1413 009e BB8E     		ldrh	r3, [r7, #52]	@ movhi
 1414 00a0 DBB2     		uxtb	r3, r3
 1415 00a2 87F82530 		strb	r3, [r7, #37]
 238:User/Hardware/dm4310_drv.c **** 	data[2] = (vel_tmp >> 4);
 1416              		.loc 1 238 10
 1417 00a6 7B8E     		ldrh	r3, [r7, #50]
 1418 00a8 1B09     		lsrs	r3, r3, #4
 1419 00aa 9BB2     		uxth	r3, r3
 1420 00ac DBB2     		uxtb	r3, r3
 1421 00ae 87F82630 		strb	r3, [r7, #38]
 239:User/Hardware/dm4310_drv.c **** 	data[3] = ((vel_tmp&0xF)<<4)|(kp_tmp>>8);
 1422              		.loc 1 239 30
 1423 00b2 7B8E     		ldrh	r3, [r7, #50]	@ movhi
 1424 00b4 5BB2     		sxtb	r3, r3
 1425 00b6 1B01     		lsls	r3, r3, #4
 1426 00b8 5AB2     		sxtb	r2, r3
 1427 00ba 3B8E     		ldrh	r3, [r7, #48]
 1428 00bc 1B0A     		lsrs	r3, r3, #8
 1429 00be 9BB2     		uxth	r3, r3
 1430 00c0 5BB2     		sxtb	r3, r3
 1431 00c2 1343     		orrs	r3, r3, r2
 1432 00c4 5BB2     		sxtb	r3, r3
 1433 00c6 DBB2     		uxtb	r3, r3
 1434              		.loc 1 239 10
 1435 00c8 87F82730 		strb	r3, [r7, #39]
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 30


 240:User/Hardware/dm4310_drv.c **** 	data[4] = kp_tmp;
 1436              		.loc 1 240 10
 1437 00cc 3B8E     		ldrh	r3, [r7, #48]	@ movhi
 1438 00ce DBB2     		uxtb	r3, r3
 1439 00d0 87F82830 		strb	r3, [r7, #40]
 241:User/Hardware/dm4310_drv.c **** 	data[5] = (kd_tmp >> 4);
 1440              		.loc 1 241 10
 1441 00d4 FB8D     		ldrh	r3, [r7, #46]
 1442 00d6 1B09     		lsrs	r3, r3, #4
 1443 00d8 9BB2     		uxth	r3, r3
 1444 00da DBB2     		uxtb	r3, r3
 1445 00dc 87F82930 		strb	r3, [r7, #41]
 242:User/Hardware/dm4310_drv.c **** 	data[6] = ((kd_tmp&0xF)<<4)|(tor_tmp>>8);
 1446              		.loc 1 242 29
 1447 00e0 FB8D     		ldrh	r3, [r7, #46]	@ movhi
 1448 00e2 5BB2     		sxtb	r3, r3
 1449 00e4 1B01     		lsls	r3, r3, #4
 1450 00e6 5AB2     		sxtb	r2, r3
 1451 00e8 BB8D     		ldrh	r3, [r7, #44]
 1452 00ea 1B0A     		lsrs	r3, r3, #8
 1453 00ec 9BB2     		uxth	r3, r3
 1454 00ee 5BB2     		sxtb	r3, r3
 1455 00f0 1343     		orrs	r3, r3, r2
 1456 00f2 5BB2     		sxtb	r3, r3
 1457 00f4 DBB2     		uxtb	r3, r3
 1458              		.loc 1 242 10
 1459 00f6 87F82A30 		strb	r3, [r7, #42]
 243:User/Hardware/dm4310_drv.c **** 	data[7] = tor_tmp;
 1460              		.loc 1 243 10
 1461 00fa BB8D     		ldrh	r3, [r7, #44]	@ movhi
 1462 00fc DBB2     		uxtb	r3, r3
 1463 00fe 87F82B30 		strb	r3, [r7, #43]
 244:User/Hardware/dm4310_drv.c **** 	
 245:User/Hardware/dm4310_drv.c **** 	canx_send_data(hcan, id, data, 8);
 1464              		.loc 1 245 2
 1465 0102 F98E     		ldrh	r1, [r7, #54]
 1466 0104 07F12402 		add	r2, r7, #36
 1467 0108 0823     		movs	r3, #8
 1468 010a F869     		ldr	r0, [r7, #28]
 1469 010c FFF7FEFF 		bl	canx_send_data
 246:User/Hardware/dm4310_drv.c **** }
 1470              		.loc 1 246 1
 1471 0110 00BF     		nop
 1472 0112 3837     		adds	r7, r7, #56
 1473              	.LCFI82:
 1474              		.cfi_def_cfa_offset 8
 1475 0114 BD46     		mov	sp, r7
 1476              	.LCFI83:
 1477              		.cfi_def_cfa_register 13
 1478              		@ sp needed
 1479 0116 80BD     		pop	{r7, pc}
 1480              	.L39:
 1481              		.align	2
 1482              	.L38:
 1483 0118 0000FA43 		.word	1140457472
 1484 011c 00000000 		.word	0
 1485              		.cfi_endproc
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 31


 1486              	.LFE191:
 1488              		.section	.text.pos_speed_ctrl,"ax",%progbits
 1489              		.align	1
 1490              		.global	pos_speed_ctrl
 1491              		.syntax unified
 1492              		.thumb
 1493              		.thumb_func
 1495              	pos_speed_ctrl:
 1496              	.LFB192:
 247:User/Hardware/dm4310_drv.c **** /**
 248:User/Hardware/dm4310_drv.c **** ************************************************************************
 249:User/Hardware/dm4310_drv.c **** * @brief:      	pos_speed_ctrl: 位置速度控制函数
 250:User/Hardware/dm4310_drv.c **** * @param[in]:   hcan:			指向CAN_HandleTypeDef结构的指针，用于指定CAN总线
 251:User/Hardware/dm4310_drv.c **** * @param[in]:   motor_id:	电机ID，指定目标电机
 252:User/Hardware/dm4310_drv.c **** * @param[in]:   vel:			速度给定值
 253:User/Hardware/dm4310_drv.c **** * @retval:     	void
 254:User/Hardware/dm4310_drv.c **** * @details:    	通过CAN总线向电机发送位置速度控制命令
 255:User/Hardware/dm4310_drv.c **** ************************************************************************
 256:User/Hardware/dm4310_drv.c **** **/
 257:User/Hardware/dm4310_drv.c **** void pos_speed_ctrl(hcan_t* hcan,uint16_t motor_id, float pos, float vel)
 258:User/Hardware/dm4310_drv.c **** {
 1497              		.loc 1 258 1
 1498              		.cfi_startproc
 1499              		@ args = 0, pretend = 0, frame = 40
 1500              		@ frame_needed = 1, uses_anonymous_args = 0
 1501 0000 80B5     		push	{r7, lr}
 1502              	.LCFI84:
 1503              		.cfi_def_cfa_offset 8
 1504              		.cfi_offset 7, -8
 1505              		.cfi_offset 14, -4
 1506 0002 8AB0     		sub	sp, sp, #40
 1507              	.LCFI85:
 1508              		.cfi_def_cfa_offset 48
 1509 0004 00AF     		add	r7, sp, #0
 1510              	.LCFI86:
 1511              		.cfi_def_cfa_register 7
 1512 0006 F860     		str	r0, [r7, #12]
 1513 0008 0B46     		mov	r3, r1
 1514 000a 87ED010A 		vstr.32	s0, [r7, #4]
 1515 000e C7ED000A 		vstr.32	s1, [r7]
 1516 0012 7B81     		strh	r3, [r7, #10]	@ movhi
 259:User/Hardware/dm4310_drv.c **** 	uint16_t id;
 260:User/Hardware/dm4310_drv.c **** 	uint8_t *pbuf, *vbuf;
 261:User/Hardware/dm4310_drv.c **** 	uint8_t data[8];
 262:User/Hardware/dm4310_drv.c **** 	
 263:User/Hardware/dm4310_drv.c **** 	id = motor_id + POS_MODE;
 1517              		.loc 1 263 5
 1518 0014 7B89     		ldrh	r3, [r7, #10]	@ movhi
 1519 0016 03F58073 		add	r3, r3, #256
 1520 001a FB84     		strh	r3, [r7, #38]	@ movhi
 264:User/Hardware/dm4310_drv.c **** 	pbuf=(uint8_t*)&pos;
 1521              		.loc 1 264 6
 1522 001c 3B1D     		adds	r3, r7, #4
 1523 001e 3B62     		str	r3, [r7, #32]
 265:User/Hardware/dm4310_drv.c **** 	vbuf=(uint8_t*)&vel;
 1524              		.loc 1 265 6
 1525 0020 3B46     		mov	r3, r7
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 32


 1526 0022 FB61     		str	r3, [r7, #28]
 266:User/Hardware/dm4310_drv.c **** 	
 267:User/Hardware/dm4310_drv.c **** 	data[0] = *pbuf;
 1527              		.loc 1 267 12
 1528 0024 3B6A     		ldr	r3, [r7, #32]
 1529 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1530              		.loc 1 267 10
 1531 0028 3B75     		strb	r3, [r7, #20]
 268:User/Hardware/dm4310_drv.c **** 	data[1] = *(pbuf+1);
 1532              		.loc 1 268 10
 1533 002a 3B6A     		ldr	r3, [r7, #32]
 1534 002c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1535 002e 7B75     		strb	r3, [r7, #21]
 269:User/Hardware/dm4310_drv.c **** 	data[2] = *(pbuf+2);
 1536              		.loc 1 269 10
 1537 0030 3B6A     		ldr	r3, [r7, #32]
 1538 0032 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 1539 0034 BB75     		strb	r3, [r7, #22]
 270:User/Hardware/dm4310_drv.c **** 	data[3] = *(pbuf+3);
 1540              		.loc 1 270 10
 1541 0036 3B6A     		ldr	r3, [r7, #32]
 1542 0038 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1543 003a FB75     		strb	r3, [r7, #23]
 271:User/Hardware/dm4310_drv.c **** 
 272:User/Hardware/dm4310_drv.c **** 	data[4] = *vbuf;
 1544              		.loc 1 272 12
 1545 003c FB69     		ldr	r3, [r7, #28]
 1546 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1547              		.loc 1 272 10
 1548 0040 3B76     		strb	r3, [r7, #24]
 273:User/Hardware/dm4310_drv.c **** 	data[5] = *(vbuf+1);
 1549              		.loc 1 273 10
 1550 0042 FB69     		ldr	r3, [r7, #28]
 1551 0044 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1552 0046 7B76     		strb	r3, [r7, #25]
 274:User/Hardware/dm4310_drv.c **** 	data[6] = *(vbuf+2);
 1553              		.loc 1 274 10
 1554 0048 FB69     		ldr	r3, [r7, #28]
 1555 004a 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 1556 004c BB76     		strb	r3, [r7, #26]
 275:User/Hardware/dm4310_drv.c **** 	data[7] = *(vbuf+3);
 1557              		.loc 1 275 10
 1558 004e FB69     		ldr	r3, [r7, #28]
 1559 0050 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1560 0052 FB76     		strb	r3, [r7, #27]
 276:User/Hardware/dm4310_drv.c **** 	
 277:User/Hardware/dm4310_drv.c **** 	canx_send_data(hcan, id, data, 8);
 1561              		.loc 1 277 2
 1562 0054 F98C     		ldrh	r1, [r7, #38]
 1563 0056 07F11402 		add	r2, r7, #20
 1564 005a 0823     		movs	r3, #8
 1565 005c F868     		ldr	r0, [r7, #12]
 1566 005e FFF7FEFF 		bl	canx_send_data
 278:User/Hardware/dm4310_drv.c **** }
 1567              		.loc 1 278 1
 1568 0062 00BF     		nop
 1569 0064 2837     		adds	r7, r7, #40
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 33


 1570              	.LCFI87:
 1571              		.cfi_def_cfa_offset 8
 1572 0066 BD46     		mov	sp, r7
 1573              	.LCFI88:
 1574              		.cfi_def_cfa_register 13
 1575              		@ sp needed
 1576 0068 80BD     		pop	{r7, pc}
 1577              		.cfi_endproc
 1578              	.LFE192:
 1580              		.section	.rodata
 1581              		.align	2
 1582              	.LC0:
 1583 0000 FFFFFFFF 		.ascii	"\377\377\377\377\377\377\377\374"
 1583      FFFFFFFC 
 1584              		.section	.text.CAN_Send_Enter,"ax",%progbits
 1585              		.align	1
 1586              		.global	CAN_Send_Enter
 1587              		.syntax unified
 1588              		.thumb
 1589              		.thumb_func
 1591              	CAN_Send_Enter:
 1592              	.LFB193:
 279:User/Hardware/dm4310_drv.c **** 
 280:User/Hardware/dm4310_drv.c **** //电机使能
 281:User/Hardware/dm4310_drv.c **** void CAN_Send_Enter(hcan_t* hcan,uint16_t motor_id)
 282:User/Hardware/dm4310_drv.c **** {
 1593              		.loc 1 282 1
 1594              		.cfi_startproc
 1595              		@ args = 0, pretend = 0, frame = 56
 1596              		@ frame_needed = 1, uses_anonymous_args = 0
 1597 0000 80B5     		push	{r7, lr}
 1598              	.LCFI89:
 1599              		.cfi_def_cfa_offset 8
 1600              		.cfi_offset 7, -8
 1601              		.cfi_offset 14, -4
 1602 0002 8EB0     		sub	sp, sp, #56
 1603              	.LCFI90:
 1604              		.cfi_def_cfa_offset 64
 1605 0004 00AF     		add	r7, sp, #0
 1606              	.LCFI91:
 1607              		.cfi_def_cfa_register 7
 1608 0006 7860     		str	r0, [r7, #4]
 1609 0008 0B46     		mov	r3, r1
 1610 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 283:User/Hardware/dm4310_drv.c **** 	FDCAN_TxHeaderTypeDef TxHeader;
 284:User/Hardware/dm4310_drv.c **** 
 285:User/Hardware/dm4310_drv.c **** 	TxHeader.Identifier = motor_id;                 // CAN ID
 1611              		.loc 1 285 22
 1612 000c 7B88     		ldrh	r3, [r7, #2]
 1613 000e 7B61     		str	r3, [r7, #20]
 286:User/Hardware/dm4310_drv.c ****   TxHeader.IdType =  FDCAN_STANDARD_ID ;        
 1614              		.loc 1 286 19
 1615 0010 0023     		movs	r3, #0
 1616 0012 BB61     		str	r3, [r7, #24]
 287:User/Hardware/dm4310_drv.c ****   TxHeader.TxFrameType = FDCAN_DATA_FRAME; 
 1617              		.loc 1 287 24
 1618 0014 0023     		movs	r3, #0
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 34


 1619 0016 FB61     		str	r3, [r7, #28]
 288:User/Hardware/dm4310_drv.c **** 	TxHeader.DataLength =FDCAN_DLC_BYTES_8;     // 发送长度：8byte
 1620              		.loc 1 288 22
 1621 0018 0823     		movs	r3, #8
 1622 001a 3B62     		str	r3, [r7, #32]
 289:User/Hardware/dm4310_drv.c **** 
 290:User/Hardware/dm4310_drv.c **** 		TxHeader.ErrorStateIndicator =  FDCAN_ESI_ACTIVE;
 1623              		.loc 1 290 32
 1624 001c 0023     		movs	r3, #0
 1625 001e 7B62     		str	r3, [r7, #36]
 291:User/Hardware/dm4310_drv.c ****   TxHeader.BitRateSwitch = FDCAN_BRS_OFF;//比特率切换关闭，不适用于经典CAN
 1626              		.loc 1 291 26
 1627 0020 0023     		movs	r3, #0
 1628 0022 BB62     		str	r3, [r7, #40]
 292:User/Hardware/dm4310_drv.c ****   TxHeader.FDFormat =  FDCAN_CLASSIC_CAN;            // CANFD
 1629              		.loc 1 292 21
 1630 0024 0023     		movs	r3, #0
 1631 0026 FB62     		str	r3, [r7, #44]
 293:User/Hardware/dm4310_drv.c ****   TxHeader.TxEventFifoControl =  FDCAN_NO_TX_EVENTS;  
 1632              		.loc 1 293 31
 1633 0028 0023     		movs	r3, #0
 1634 002a 3B63     		str	r3, [r7, #48]
 294:User/Hardware/dm4310_drv.c ****   TxHeader.MessageMarker = 0x00;//消息标记
 1635              		.loc 1 294 26
 1636 002c 0023     		movs	r3, #0
 1637 002e 7B63     		str	r3, [r7, #52]
 295:User/Hardware/dm4310_drv.c **** 	
 296:User/Hardware/dm4310_drv.c **** 	
 297:User/Hardware/dm4310_drv.c **** 	
 298:User/Hardware/dm4310_drv.c **** 	uint8_t enable_data[8]={0xff,
 1638              		.loc 1 298 10
 1639 0030 0F4A     		ldr	r2, .L44
 1640 0032 07F10C03 		add	r3, r7, #12
 1641 0036 92E80300 		ldm	r2, {r0, r1}
 1642 003a 83E80300 		stm	r3, {r0, r1}
 299:User/Hardware/dm4310_drv.c ****                                          0xff,
 300:User/Hardware/dm4310_drv.c ****                                          0xff,
 301:User/Hardware/dm4310_drv.c ****                                          0xff,
 302:User/Hardware/dm4310_drv.c ****                                          0xff,
 303:User/Hardware/dm4310_drv.c ****                                          0xff,
 304:User/Hardware/dm4310_drv.c ****                                          0xff,
 305:User/Hardware/dm4310_drv.c ****                                          0xfc};
 306:User/Hardware/dm4310_drv.c **** 
 307:User/Hardware/dm4310_drv.c **** HAL_FDCAN_AddMessageToTxFifoQ(hcan, &TxHeader, enable_data);
 1643              		.loc 1 307 1
 1644 003e 07F10C02 		add	r2, r7, #12
 1645 0042 07F11403 		add	r3, r7, #20
 1646 0046 1946     		mov	r1, r3
 1647 0048 7868     		ldr	r0, [r7, #4]
 1648 004a FFF7FEFF 		bl	HAL_FDCAN_AddMessageToTxFifoQ
 308:User/Hardware/dm4310_drv.c **** 																				 
 309:User/Hardware/dm4310_drv.c **** 		   // 发送CAN指令
 310:User/Hardware/dm4310_drv.c ****   if(HAL_FDCAN_AddMessageToTxFifoQ(hcan, &TxHeader, enable_data)
 1649              		.loc 1 310 6
 1650 004e 07F10C02 		add	r2, r7, #12
 1651 0052 07F11403 		add	r3, r7, #20
 1652 0056 1946     		mov	r1, r3
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 35


 1653 0058 7868     		ldr	r0, [r7, #4]
 1654 005a FFF7FEFF 		bl	HAL_FDCAN_AddMessageToTxFifoQ
 1655 005e 0346     		mov	r3, r0
 1656              		.loc 1 310 5 discriminator 1
 1657 0060 002B     		cmp	r3, #0
 1658 0062 01D0     		beq	.L43
 311:User/Hardware/dm4310_drv.c ****  != HAL_OK)
 312:User/Hardware/dm4310_drv.c ****   {
 313:User/Hardware/dm4310_drv.c ****         // 发送失败处理
 314:User/Hardware/dm4310_drv.c ****        Error_Handler();      
 1659              		.loc 1 314 8
 1660 0064 FFF7FEFF 		bl	Error_Handler
 1661              	.L43:
 315:User/Hardware/dm4310_drv.c ****   }																		 
 316:User/Hardware/dm4310_drv.c **** 																				 
 317:User/Hardware/dm4310_drv.c **** 																				 
 318:User/Hardware/dm4310_drv.c **** }
 1662              		.loc 1 318 1
 1663 0068 00BF     		nop
 1664 006a 3837     		adds	r7, r7, #56
 1665              	.LCFI92:
 1666              		.cfi_def_cfa_offset 8
 1667 006c BD46     		mov	sp, r7
 1668              	.LCFI93:
 1669              		.cfi_def_cfa_register 13
 1670              		@ sp needed
 1671 006e 80BD     		pop	{r7, pc}
 1672              	.L45:
 1673              		.align	2
 1674              	.L44:
 1675 0070 00000000 		.word	.LC0
 1676              		.cfi_endproc
 1677              	.LFE193:
 1679              		.section	.rodata
 1680              		.align	2
 1681              	.LC1:
 1682 0008 FFFFFFFF 		.ascii	"\377\377\377\377\377\377\377\375"
 1682      FFFFFFFD 
 1683              		.section	.text.CAN_Send_Exit,"ax",%progbits
 1684              		.align	1
 1685              		.global	CAN_Send_Exit
 1686              		.syntax unified
 1687              		.thumb
 1688              		.thumb_func
 1690              	CAN_Send_Exit:
 1691              	.LFB194:
 319:User/Hardware/dm4310_drv.c **** 
 320:User/Hardware/dm4310_drv.c **** //电机失能
 321:User/Hardware/dm4310_drv.c **** 
 322:User/Hardware/dm4310_drv.c **** void CAN_Send_Exit(hcan_t* hcan,uint16_t motor_id)
 323:User/Hardware/dm4310_drv.c **** {
 1692              		.loc 1 323 1
 1693              		.cfi_startproc
 1694              		@ args = 0, pretend = 0, frame = 56
 1695              		@ frame_needed = 1, uses_anonymous_args = 0
 1696 0000 80B5     		push	{r7, lr}
 1697              	.LCFI94:
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 36


 1698              		.cfi_def_cfa_offset 8
 1699              		.cfi_offset 7, -8
 1700              		.cfi_offset 14, -4
 1701 0002 8EB0     		sub	sp, sp, #56
 1702              	.LCFI95:
 1703              		.cfi_def_cfa_offset 64
 1704 0004 00AF     		add	r7, sp, #0
 1705              	.LCFI96:
 1706              		.cfi_def_cfa_register 7
 1707 0006 7860     		str	r0, [r7, #4]
 1708 0008 0B46     		mov	r3, r1
 1709 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 324:User/Hardware/dm4310_drv.c **** 	FDCAN_TxHeaderTypeDef TxHeader;
 325:User/Hardware/dm4310_drv.c **** 
 326:User/Hardware/dm4310_drv.c **** 	TxHeader.Identifier = motor_id;                 // CAN ID
 1710              		.loc 1 326 22
 1711 000c 7B88     		ldrh	r3, [r7, #2]
 1712 000e 7B61     		str	r3, [r7, #20]
 327:User/Hardware/dm4310_drv.c ****   TxHeader.IdType =  FDCAN_STANDARD_ID ;        
 1713              		.loc 1 327 19
 1714 0010 0023     		movs	r3, #0
 1715 0012 BB61     		str	r3, [r7, #24]
 328:User/Hardware/dm4310_drv.c ****   TxHeader.TxFrameType = FDCAN_DATA_FRAME; 
 1716              		.loc 1 328 24
 1717 0014 0023     		movs	r3, #0
 1718 0016 FB61     		str	r3, [r7, #28]
 329:User/Hardware/dm4310_drv.c **** 	TxHeader.DataLength =FDCAN_DLC_BYTES_8;     // 发送长度：8byte
 1719              		.loc 1 329 22
 1720 0018 0823     		movs	r3, #8
 1721 001a 3B62     		str	r3, [r7, #32]
 330:User/Hardware/dm4310_drv.c **** 
 331:User/Hardware/dm4310_drv.c **** 		TxHeader.ErrorStateIndicator =  FDCAN_ESI_ACTIVE;
 1722              		.loc 1 331 32
 1723 001c 0023     		movs	r3, #0
 1724 001e 7B62     		str	r3, [r7, #36]
 332:User/Hardware/dm4310_drv.c ****   TxHeader.BitRateSwitch = FDCAN_BRS_OFF;//比特率切换关闭，不适用于经典CAN
 1725              		.loc 1 332 26
 1726 0020 0023     		movs	r3, #0
 1727 0022 BB62     		str	r3, [r7, #40]
 333:User/Hardware/dm4310_drv.c ****   TxHeader.FDFormat =  FDCAN_CLASSIC_CAN;            // CANFD
 1728              		.loc 1 333 21
 1729 0024 0023     		movs	r3, #0
 1730 0026 FB62     		str	r3, [r7, #44]
 334:User/Hardware/dm4310_drv.c ****   TxHeader.TxEventFifoControl =  FDCAN_NO_TX_EVENTS;  
 1731              		.loc 1 334 31
 1732 0028 0023     		movs	r3, #0
 1733 002a 3B63     		str	r3, [r7, #48]
 335:User/Hardware/dm4310_drv.c ****   TxHeader.MessageMarker = 0x00;//消息标记
 1734              		.loc 1 335 26
 1735 002c 0023     		movs	r3, #0
 1736 002e 7B63     		str	r3, [r7, #52]
 336:User/Hardware/dm4310_drv.c **** 	
 337:User/Hardware/dm4310_drv.c **** 	
 338:User/Hardware/dm4310_drv.c **** 	
 339:User/Hardware/dm4310_drv.c **** 	uint8_t exit_data[8]={0xff,
 1737              		.loc 1 339 10
 1738 0030 0F4A     		ldr	r2, .L49
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 37


 1739 0032 07F10C03 		add	r3, r7, #12
 1740 0036 92E80300 		ldm	r2, {r0, r1}
 1741 003a 83E80300 		stm	r3, {r0, r1}
 340:User/Hardware/dm4310_drv.c ****                                          0xff,
 341:User/Hardware/dm4310_drv.c ****                                          0xff,
 342:User/Hardware/dm4310_drv.c ****                                          0xff,
 343:User/Hardware/dm4310_drv.c ****                                          0xff,
 344:User/Hardware/dm4310_drv.c ****                                          0xff,
 345:User/Hardware/dm4310_drv.c ****                                          0xff,
 346:User/Hardware/dm4310_drv.c ****                                          0xfd};
 347:User/Hardware/dm4310_drv.c **** 
 348:User/Hardware/dm4310_drv.c **** HAL_FDCAN_AddMessageToTxFifoQ(hcan, &TxHeader, exit_data);
 1742              		.loc 1 348 1
 1743 003e 07F10C02 		add	r2, r7, #12
 1744 0042 07F11403 		add	r3, r7, #20
 1745 0046 1946     		mov	r1, r3
 1746 0048 7868     		ldr	r0, [r7, #4]
 1747 004a FFF7FEFF 		bl	HAL_FDCAN_AddMessageToTxFifoQ
 349:User/Hardware/dm4310_drv.c **** 																				 
 350:User/Hardware/dm4310_drv.c **** 		   // 发送CAN指令
 351:User/Hardware/dm4310_drv.c ****   if(HAL_FDCAN_AddMessageToTxFifoQ(hcan, &TxHeader, exit_data)
 1748              		.loc 1 351 6
 1749 004e 07F10C02 		add	r2, r7, #12
 1750 0052 07F11403 		add	r3, r7, #20
 1751 0056 1946     		mov	r1, r3
 1752 0058 7868     		ldr	r0, [r7, #4]
 1753 005a FFF7FEFF 		bl	HAL_FDCAN_AddMessageToTxFifoQ
 1754 005e 0346     		mov	r3, r0
 1755              		.loc 1 351 5 discriminator 1
 1756 0060 002B     		cmp	r3, #0
 1757 0062 01D0     		beq	.L48
 352:User/Hardware/dm4310_drv.c ****  != HAL_OK)
 353:User/Hardware/dm4310_drv.c ****   {
 354:User/Hardware/dm4310_drv.c ****         // 发送失败处理
 355:User/Hardware/dm4310_drv.c ****        Error_Handler();      
 1758              		.loc 1 355 8
 1759 0064 FFF7FEFF 		bl	Error_Handler
 1760              	.L48:
 356:User/Hardware/dm4310_drv.c ****   }																		 
 357:User/Hardware/dm4310_drv.c **** 																				 
 358:User/Hardware/dm4310_drv.c **** 																				 
 359:User/Hardware/dm4310_drv.c **** }
 1761              		.loc 1 359 1
 1762 0068 00BF     		nop
 1763 006a 3837     		adds	r7, r7, #56
 1764              	.LCFI97:
 1765              		.cfi_def_cfa_offset 8
 1766 006c BD46     		mov	sp, r7
 1767              	.LCFI98:
 1768              		.cfi_def_cfa_register 13
 1769              		@ sp needed
 1770 006e 80BD     		pop	{r7, pc}
 1771              	.L50:
 1772              		.align	2
 1773              	.L49:
 1774 0070 08000000 		.word	.LC1
 1775              		.cfi_endproc
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 38


 1776              	.LFE194:
 1778              		.section	.rodata
 1779              		.align	2
 1780              	.LC2:
 1781 0010 FFFFFFFF 		.ascii	"\377\377\377\377\377\377\377\373"
 1781      FFFFFFFB 
 1782              		.section	.text.CAN_Send_Clear_Error,"ax",%progbits
 1783              		.align	1
 1784              		.global	CAN_Send_Clear_Error
 1785              		.syntax unified
 1786              		.thumb
 1787              		.thumb_func
 1789              	CAN_Send_Clear_Error:
 1790              	.LFB195:
 360:User/Hardware/dm4310_drv.c **** //清除错误帧
 361:User/Hardware/dm4310_drv.c **** void CAN_Send_Clear_Error(hcan_t* hcan,uint16_t motor_id)
 362:User/Hardware/dm4310_drv.c **** {
 1791              		.loc 1 362 1
 1792              		.cfi_startproc
 1793              		@ args = 0, pretend = 0, frame = 56
 1794              		@ frame_needed = 1, uses_anonymous_args = 0
 1795 0000 80B5     		push	{r7, lr}
 1796              	.LCFI99:
 1797              		.cfi_def_cfa_offset 8
 1798              		.cfi_offset 7, -8
 1799              		.cfi_offset 14, -4
 1800 0002 8EB0     		sub	sp, sp, #56
 1801              	.LCFI100:
 1802              		.cfi_def_cfa_offset 64
 1803 0004 00AF     		add	r7, sp, #0
 1804              	.LCFI101:
 1805              		.cfi_def_cfa_register 7
 1806 0006 7860     		str	r0, [r7, #4]
 1807 0008 0B46     		mov	r3, r1
 1808 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 363:User/Hardware/dm4310_drv.c **** 	FDCAN_TxHeaderTypeDef TxHeader;
 364:User/Hardware/dm4310_drv.c **** 
 365:User/Hardware/dm4310_drv.c **** 	TxHeader.Identifier = motor_id;                 // CAN ID
 1809              		.loc 1 365 22
 1810 000c 7B88     		ldrh	r3, [r7, #2]
 1811 000e 7B61     		str	r3, [r7, #20]
 366:User/Hardware/dm4310_drv.c ****   TxHeader.IdType =  FDCAN_STANDARD_ID ;        
 1812              		.loc 1 366 19
 1813 0010 0023     		movs	r3, #0
 1814 0012 BB61     		str	r3, [r7, #24]
 367:User/Hardware/dm4310_drv.c ****   TxHeader.TxFrameType = FDCAN_DATA_FRAME; 
 1815              		.loc 1 367 24
 1816 0014 0023     		movs	r3, #0
 1817 0016 FB61     		str	r3, [r7, #28]
 368:User/Hardware/dm4310_drv.c **** 	TxHeader.DataLength =FDCAN_DLC_BYTES_8;     // 发送长度：8byte
 1818              		.loc 1 368 22
 1819 0018 0823     		movs	r3, #8
 1820 001a 3B62     		str	r3, [r7, #32]
 369:User/Hardware/dm4310_drv.c **** 
 370:User/Hardware/dm4310_drv.c **** 		TxHeader.ErrorStateIndicator =  FDCAN_ESI_ACTIVE;
 1821              		.loc 1 370 32
 1822 001c 0023     		movs	r3, #0
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 39


 1823 001e 7B62     		str	r3, [r7, #36]
 371:User/Hardware/dm4310_drv.c ****   TxHeader.BitRateSwitch = FDCAN_BRS_OFF;//比特率切换关闭，不适用于经典CAN
 1824              		.loc 1 371 26
 1825 0020 0023     		movs	r3, #0
 1826 0022 BB62     		str	r3, [r7, #40]
 372:User/Hardware/dm4310_drv.c ****   TxHeader.FDFormat =  FDCAN_CLASSIC_CAN;            // CANFD
 1827              		.loc 1 372 21
 1828 0024 0023     		movs	r3, #0
 1829 0026 FB62     		str	r3, [r7, #44]
 373:User/Hardware/dm4310_drv.c ****   TxHeader.TxEventFifoControl =  FDCAN_NO_TX_EVENTS;  
 1830              		.loc 1 373 31
 1831 0028 0023     		movs	r3, #0
 1832 002a 3B63     		str	r3, [r7, #48]
 374:User/Hardware/dm4310_drv.c ****   TxHeader.MessageMarker = 0x00;//消息标记
 1833              		.loc 1 374 26
 1834 002c 0023     		movs	r3, #0
 1835 002e 7B63     		str	r3, [r7, #52]
 375:User/Hardware/dm4310_drv.c **** 	
 376:User/Hardware/dm4310_drv.c **** 	
 377:User/Hardware/dm4310_drv.c **** 	
 378:User/Hardware/dm4310_drv.c **** 	uint8_t clear_data[8]={0xff,
 1836              		.loc 1 378 10
 1837 0030 0F4A     		ldr	r2, .L54
 1838 0032 07F10C03 		add	r3, r7, #12
 1839 0036 92E80300 		ldm	r2, {r0, r1}
 1840 003a 83E80300 		stm	r3, {r0, r1}
 379:User/Hardware/dm4310_drv.c ****                                          0xff,
 380:User/Hardware/dm4310_drv.c ****                                          0xff,
 381:User/Hardware/dm4310_drv.c ****                                          0xff,
 382:User/Hardware/dm4310_drv.c ****                                          0xff,
 383:User/Hardware/dm4310_drv.c ****                                          0xff,
 384:User/Hardware/dm4310_drv.c ****                                          0xff,
 385:User/Hardware/dm4310_drv.c ****                                          0xfb};
 386:User/Hardware/dm4310_drv.c **** 
 387:User/Hardware/dm4310_drv.c **** HAL_FDCAN_AddMessageToTxFifoQ(hcan, &TxHeader, clear_data);
 1841              		.loc 1 387 1
 1842 003e 07F10C02 		add	r2, r7, #12
 1843 0042 07F11403 		add	r3, r7, #20
 1844 0046 1946     		mov	r1, r3
 1845 0048 7868     		ldr	r0, [r7, #4]
 1846 004a FFF7FEFF 		bl	HAL_FDCAN_AddMessageToTxFifoQ
 388:User/Hardware/dm4310_drv.c **** 																				 
 389:User/Hardware/dm4310_drv.c **** 		   // 发送CAN指令
 390:User/Hardware/dm4310_drv.c ****   if(HAL_FDCAN_AddMessageToTxFifoQ(hcan, &TxHeader, clear_data)
 1847              		.loc 1 390 6
 1848 004e 07F10C02 		add	r2, r7, #12
 1849 0052 07F11403 		add	r3, r7, #20
 1850 0056 1946     		mov	r1, r3
 1851 0058 7868     		ldr	r0, [r7, #4]
 1852 005a FFF7FEFF 		bl	HAL_FDCAN_AddMessageToTxFifoQ
 1853 005e 0346     		mov	r3, r0
 1854              		.loc 1 390 5 discriminator 1
 1855 0060 002B     		cmp	r3, #0
 1856 0062 01D0     		beq	.L53
 391:User/Hardware/dm4310_drv.c ****  != HAL_OK)
 392:User/Hardware/dm4310_drv.c ****   {
 393:User/Hardware/dm4310_drv.c ****         // 发送失败处理
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 40


 394:User/Hardware/dm4310_drv.c ****        Error_Handler();      
 1857              		.loc 1 394 8
 1858 0064 FFF7FEFF 		bl	Error_Handler
 1859              	.L53:
 395:User/Hardware/dm4310_drv.c ****   }																		 
 396:User/Hardware/dm4310_drv.c **** 																				 
 397:User/Hardware/dm4310_drv.c **** 																				 
 398:User/Hardware/dm4310_drv.c **** }
 1860              		.loc 1 398 1
 1861 0068 00BF     		nop
 1862 006a 3837     		adds	r7, r7, #56
 1863              	.LCFI102:
 1864              		.cfi_def_cfa_offset 8
 1865 006c BD46     		mov	sp, r7
 1866              	.LCFI103:
 1867              		.cfi_def_cfa_register 13
 1868              		@ sp needed
 1869 006e 80BD     		pop	{r7, pc}
 1870              	.L55:
 1871              		.align	2
 1872              	.L54:
 1873 0070 10000000 		.word	.LC2
 1874              		.cfi_endproc
 1875              	.LFE195:
 1877              		.section	.rodata
 1878              		.align	2
 1879              	.LC3:
 1880 0018 FFFFFFFF 		.ascii	"\377\377\377\377\377\377\377\376"
 1880      FFFFFFFE 
 1881              		.section	.text.CAN_Send_Save_Zero,"ax",%progbits
 1882              		.align	1
 1883              		.global	CAN_Send_Save_Zero
 1884              		.syntax unified
 1885              		.thumb
 1886              		.thumb_func
 1888              	CAN_Send_Save_Zero:
 1889              	.LFB196:
 399:User/Hardware/dm4310_drv.c **** //保存零点
 400:User/Hardware/dm4310_drv.c **** void CAN_Send_Save_Zero(hcan_t* hcan,uint16_t motor_id)
 401:User/Hardware/dm4310_drv.c **** {
 1890              		.loc 1 401 1
 1891              		.cfi_startproc
 1892              		@ args = 0, pretend = 0, frame = 56
 1893              		@ frame_needed = 1, uses_anonymous_args = 0
 1894 0000 80B5     		push	{r7, lr}
 1895              	.LCFI104:
 1896              		.cfi_def_cfa_offset 8
 1897              		.cfi_offset 7, -8
 1898              		.cfi_offset 14, -4
 1899 0002 8EB0     		sub	sp, sp, #56
 1900              	.LCFI105:
 1901              		.cfi_def_cfa_offset 64
 1902 0004 00AF     		add	r7, sp, #0
 1903              	.LCFI106:
 1904              		.cfi_def_cfa_register 7
 1905 0006 7860     		str	r0, [r7, #4]
 1906 0008 0B46     		mov	r3, r1
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 41


 1907 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 402:User/Hardware/dm4310_drv.c **** 	FDCAN_TxHeaderTypeDef TxHeader;
 403:User/Hardware/dm4310_drv.c **** 
 404:User/Hardware/dm4310_drv.c **** 	TxHeader.Identifier = motor_id;                 // CAN ID
 1908              		.loc 1 404 22
 1909 000c 7B88     		ldrh	r3, [r7, #2]
 1910 000e 7B61     		str	r3, [r7, #20]
 405:User/Hardware/dm4310_drv.c ****   TxHeader.IdType =  FDCAN_STANDARD_ID ;        
 1911              		.loc 1 405 19
 1912 0010 0023     		movs	r3, #0
 1913 0012 BB61     		str	r3, [r7, #24]
 406:User/Hardware/dm4310_drv.c ****   TxHeader.TxFrameType = FDCAN_DATA_FRAME; 
 1914              		.loc 1 406 24
 1915 0014 0023     		movs	r3, #0
 1916 0016 FB61     		str	r3, [r7, #28]
 407:User/Hardware/dm4310_drv.c **** 	TxHeader.DataLength =FDCAN_DLC_BYTES_8;     // 发送长度：8byte
 1917              		.loc 1 407 22
 1918 0018 0823     		movs	r3, #8
 1919 001a 3B62     		str	r3, [r7, #32]
 408:User/Hardware/dm4310_drv.c **** 
 409:User/Hardware/dm4310_drv.c **** 		TxHeader.ErrorStateIndicator =  FDCAN_ESI_ACTIVE;
 1920              		.loc 1 409 32
 1921 001c 0023     		movs	r3, #0
 1922 001e 7B62     		str	r3, [r7, #36]
 410:User/Hardware/dm4310_drv.c ****   TxHeader.BitRateSwitch = FDCAN_BRS_OFF;//比特率切换关闭，不适用于经典CAN
 1923              		.loc 1 410 26
 1924 0020 0023     		movs	r3, #0
 1925 0022 BB62     		str	r3, [r7, #40]
 411:User/Hardware/dm4310_drv.c ****   TxHeader.FDFormat =  FDCAN_CLASSIC_CAN;            // CANFD
 1926              		.loc 1 411 21
 1927 0024 0023     		movs	r3, #0
 1928 0026 FB62     		str	r3, [r7, #44]
 412:User/Hardware/dm4310_drv.c ****   TxHeader.TxEventFifoControl =  FDCAN_NO_TX_EVENTS;  
 1929              		.loc 1 412 31
 1930 0028 0023     		movs	r3, #0
 1931 002a 3B63     		str	r3, [r7, #48]
 413:User/Hardware/dm4310_drv.c ****   TxHeader.MessageMarker = 0x00;//消息标记
 1932              		.loc 1 413 26
 1933 002c 0023     		movs	r3, #0
 1934 002e 7B63     		str	r3, [r7, #52]
 414:User/Hardware/dm4310_drv.c **** 	
 415:User/Hardware/dm4310_drv.c **** 	
 416:User/Hardware/dm4310_drv.c **** 	
 417:User/Hardware/dm4310_drv.c **** 	uint8_t Save_Zero[8]={0xff,
 1935              		.loc 1 417 10
 1936 0030 0F4A     		ldr	r2, .L59
 1937 0032 07F10C03 		add	r3, r7, #12
 1938 0036 92E80300 		ldm	r2, {r0, r1}
 1939 003a 83E80300 		stm	r3, {r0, r1}
 418:User/Hardware/dm4310_drv.c ****                                          0xff,
 419:User/Hardware/dm4310_drv.c ****                                          0xff,
 420:User/Hardware/dm4310_drv.c ****                                          0xff,
 421:User/Hardware/dm4310_drv.c ****                                          0xff,
 422:User/Hardware/dm4310_drv.c ****                                          0xff,
 423:User/Hardware/dm4310_drv.c ****                                          0xff,
 424:User/Hardware/dm4310_drv.c ****                                          0xfe};
 425:User/Hardware/dm4310_drv.c **** 
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 42


 426:User/Hardware/dm4310_drv.c **** HAL_FDCAN_AddMessageToTxFifoQ(hcan, &TxHeader, Save_Zero);
 1940              		.loc 1 426 1
 1941 003e 07F10C02 		add	r2, r7, #12
 1942 0042 07F11403 		add	r3, r7, #20
 1943 0046 1946     		mov	r1, r3
 1944 0048 7868     		ldr	r0, [r7, #4]
 1945 004a FFF7FEFF 		bl	HAL_FDCAN_AddMessageToTxFifoQ
 427:User/Hardware/dm4310_drv.c **** 																				 
 428:User/Hardware/dm4310_drv.c **** 		   // 发送CAN指令
 429:User/Hardware/dm4310_drv.c ****   if(HAL_FDCAN_AddMessageToTxFifoQ(hcan, &TxHeader, Save_Zero)
 1946              		.loc 1 429 6
 1947 004e 07F10C02 		add	r2, r7, #12
 1948 0052 07F11403 		add	r3, r7, #20
 1949 0056 1946     		mov	r1, r3
 1950 0058 7868     		ldr	r0, [r7, #4]
 1951 005a FFF7FEFF 		bl	HAL_FDCAN_AddMessageToTxFifoQ
 1952 005e 0346     		mov	r3, r0
 1953              		.loc 1 429 5 discriminator 1
 1954 0060 002B     		cmp	r3, #0
 1955 0062 01D0     		beq	.L58
 430:User/Hardware/dm4310_drv.c ****  != HAL_OK)
 431:User/Hardware/dm4310_drv.c ****   {
 432:User/Hardware/dm4310_drv.c ****         // 发送失败处理
 433:User/Hardware/dm4310_drv.c ****        Error_Handler();      
 1956              		.loc 1 433 8
 1957 0064 FFF7FEFF 		bl	Error_Handler
 1958              	.L58:
 434:User/Hardware/dm4310_drv.c ****   }																		 
 435:User/Hardware/dm4310_drv.c **** 																				 
 436:User/Hardware/dm4310_drv.c **** 																				 
 437:User/Hardware/dm4310_drv.c **** }
 1959              		.loc 1 437 1
 1960 0068 00BF     		nop
 1961 006a 3837     		adds	r7, r7, #56
 1962              	.LCFI107:
 1963              		.cfi_def_cfa_offset 8
 1964 006c BD46     		mov	sp, r7
 1965              	.LCFI108:
 1966              		.cfi_def_cfa_register 13
 1967              		@ sp needed
 1968 006e 80BD     		pop	{r7, pc}
 1969              	.L60:
 1970              		.align	2
 1971              	.L59:
 1972 0070 18000000 		.word	.LC3
 1973              		.cfi_endproc
 1974              	.LFE196:
 1976              		.section	.text.speed_ctrl,"ax",%progbits
 1977              		.align	1
 1978              		.global	speed_ctrl
 1979              		.syntax unified
 1980              		.thumb
 1981              		.thumb_func
 1983              	speed_ctrl:
 1984              	.LFB197:
 438:User/Hardware/dm4310_drv.c **** 
 439:User/Hardware/dm4310_drv.c **** 
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 43


 440:User/Hardware/dm4310_drv.c **** 
 441:User/Hardware/dm4310_drv.c **** 
 442:User/Hardware/dm4310_drv.c **** 
 443:User/Hardware/dm4310_drv.c **** 
 444:User/Hardware/dm4310_drv.c **** 
 445:User/Hardware/dm4310_drv.c **** 
 446:User/Hardware/dm4310_drv.c **** 
 447:User/Hardware/dm4310_drv.c **** 
 448:User/Hardware/dm4310_drv.c **** 
 449:User/Hardware/dm4310_drv.c **** 
 450:User/Hardware/dm4310_drv.c **** 
 451:User/Hardware/dm4310_drv.c **** 
 452:User/Hardware/dm4310_drv.c **** 
 453:User/Hardware/dm4310_drv.c **** 
 454:User/Hardware/dm4310_drv.c **** 
 455:User/Hardware/dm4310_drv.c **** 
 456:User/Hardware/dm4310_drv.c **** /**
 457:User/Hardware/dm4310_drv.c **** ************************************************************************
 458:User/Hardware/dm4310_drv.c **** * @brief:      	speed_ctrl: 速度控制函数
 459:User/Hardware/dm4310_drv.c **** * @param[in]:   hcan: 		指向CAN_HandleTypeDef结构的指针，用于指定CAN总线
 460:User/Hardware/dm4310_drv.c **** * @param[in]:   motor_id: 电机ID，指定目标电机
 461:User/Hardware/dm4310_drv.c **** * @param[in]:   vel: 			速度给定值
 462:User/Hardware/dm4310_drv.c **** * @retval:     	void
 463:User/Hardware/dm4310_drv.c **** * @details:    	通过CAN总线向电机发送速度控制命令
 464:User/Hardware/dm4310_drv.c **** ************************************************************************
 465:User/Hardware/dm4310_drv.c **** **/
 466:User/Hardware/dm4310_drv.c **** void speed_ctrl(hcan_t* hcan,uint16_t motor_id, float vel)
 467:User/Hardware/dm4310_drv.c **** {
 1985              		.loc 1 467 1
 1986              		.cfi_startproc
 1987              		@ args = 0, pretend = 0, frame = 32
 1988              		@ frame_needed = 1, uses_anonymous_args = 0
 1989 0000 80B5     		push	{r7, lr}
 1990              	.LCFI109:
 1991              		.cfi_def_cfa_offset 8
 1992              		.cfi_offset 7, -8
 1993              		.cfi_offset 14, -4
 1994 0002 88B0     		sub	sp, sp, #32
 1995              	.LCFI110:
 1996              		.cfi_def_cfa_offset 40
 1997 0004 00AF     		add	r7, sp, #0
 1998              	.LCFI111:
 1999              		.cfi_def_cfa_register 7
 2000 0006 F860     		str	r0, [r7, #12]
 2001 0008 0B46     		mov	r3, r1
 2002 000a 87ED010A 		vstr.32	s0, [r7, #4]
 2003 000e 7B81     		strh	r3, [r7, #10]	@ movhi
 468:User/Hardware/dm4310_drv.c **** 	uint16_t id;
 469:User/Hardware/dm4310_drv.c **** 	uint8_t *vbuf;
 470:User/Hardware/dm4310_drv.c **** 	uint8_t data[4];
 471:User/Hardware/dm4310_drv.c **** 	
 472:User/Hardware/dm4310_drv.c **** 	id = motor_id + SPEED_MODE;
 2004              		.loc 1 472 5
 2005 0010 7B89     		ldrh	r3, [r7, #10]	@ movhi
 2006 0012 03F50073 		add	r3, r3, #512
 2007 0016 FB83     		strh	r3, [r7, #30]	@ movhi
 473:User/Hardware/dm4310_drv.c **** 	vbuf=(uint8_t*)&vel;
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 44


 2008              		.loc 1 473 6
 2009 0018 3B1D     		adds	r3, r7, #4
 2010 001a BB61     		str	r3, [r7, #24]
 474:User/Hardware/dm4310_drv.c **** 	
 475:User/Hardware/dm4310_drv.c **** 	data[0] = *vbuf;
 2011              		.loc 1 475 12
 2012 001c BB69     		ldr	r3, [r7, #24]
 2013 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2014              		.loc 1 475 10
 2015 0020 3B75     		strb	r3, [r7, #20]
 476:User/Hardware/dm4310_drv.c **** 	data[1] = *(vbuf+1);
 2016              		.loc 1 476 10
 2017 0022 BB69     		ldr	r3, [r7, #24]
 2018 0024 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2019 0026 7B75     		strb	r3, [r7, #21]
 477:User/Hardware/dm4310_drv.c **** 	data[2] = *(vbuf+2);
 2020              		.loc 1 477 10
 2021 0028 BB69     		ldr	r3, [r7, #24]
 2022 002a 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 2023 002c BB75     		strb	r3, [r7, #22]
 478:User/Hardware/dm4310_drv.c **** 	data[3] = *(vbuf+3);
 2024              		.loc 1 478 10
 2025 002e BB69     		ldr	r3, [r7, #24]
 2026 0030 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2027 0032 FB75     		strb	r3, [r7, #23]
 479:User/Hardware/dm4310_drv.c **** 	
 480:User/Hardware/dm4310_drv.c **** 	canx_send_data(hcan, id, data, 4);
 2028              		.loc 1 480 2
 2029 0034 F98B     		ldrh	r1, [r7, #30]
 2030 0036 07F11402 		add	r2, r7, #20
 2031 003a 0423     		movs	r3, #4
 2032 003c F868     		ldr	r0, [r7, #12]
 2033 003e FFF7FEFF 		bl	canx_send_data
 481:User/Hardware/dm4310_drv.c **** }
 2034              		.loc 1 481 1
 2035 0042 00BF     		nop
 2036 0044 2037     		adds	r7, r7, #32
 2037              	.LCFI112:
 2038              		.cfi_def_cfa_offset 8
 2039 0046 BD46     		mov	sp, r7
 2040              	.LCFI113:
 2041              		.cfi_def_cfa_register 13
 2042              		@ sp needed
 2043 0048 80BD     		pop	{r7, pc}
 2044              		.cfi_endproc
 2045              	.LFE197:
 2047              		.text
 2048              	.Letext0:
 2049              		.file 2 "D:/MSYS2/mingw64/arm-none-eabi/include/machine/_default_types.h"
 2050              		.file 3 "D:/MSYS2/mingw64/arm-none-eabi/include/sys/_stdint.h"
 2051              		.file 4 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h723xx.h"
 2052              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h7xx.h"
 2053              		.file 6 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 2054              		.file 7 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_fdcan.h"
 2055              		.file 8 "User/BSP/can_receive_send.h"
 2056              		.file 9 "User/Hardware/dm4310_drv.h"
 2057              		.file 10 "Core/Inc/main.h"
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 45


ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 46


DEFINED SYMBOLS
                            *ABS*:00000000 dm4310_drv.c
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:24     .bss.arm_motor:00000000 arm_motor
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:21     .bss.arm_motor:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:31     .bss.pos_motor:00000000 pos_motor
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:28     .bss.pos_motor:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:38     .bss.vel_motor:00000000 vel_motor
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:35     .bss.vel_motor:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:45     .bss.tor_motor:00000000 tor_motor
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:42     .bss.tor_motor:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:48     .text.Hex_To_Float:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:54     .text.Hex_To_Float:00000000 Hex_To_Float
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:96     .text.FloatTohex:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:102    .text.FloatTohex:00000000 FloatTohex
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:142    .text.float_to_uint:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:148    .text.float_to_uint:00000000 float_to_uint
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:217    .text.uint_to_float:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:223    .text.uint_to_float:00000000 uint_to_float
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:291    .text.arm_motor_init:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:297    .text.arm_motor_init:00000000 arm_motor_init
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:345    .text.enable_motor_mode:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:351    .text.enable_motor_mode:00000000 enable_motor_mode
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:427    .text.disable_motor_mode:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:433    .text.disable_motor_mode:00000000 disable_motor_mode
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:504    .text.dm4310_fbdata:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:510    .text.dm4310_fbdata:00000000 dm4310_fbdata
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:672    .text.dm8009_fbdata:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:678    .text.dm8009_fbdata:00000000 dm8009_fbdata
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:839    .text.dm8009_fbdata:000000fc $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:847    .text.dm10010l_fbdata:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:853    .text.dm10010l_fbdata:00000000 dm10010l_fbdata
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1014   .text.dm10010l_fbdata:000000fc $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1020   .text.set_DM_pos_vel:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1026   .text.set_DM_pos_vel:00000000 set_DM_pos_vel
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1088   .text.set_DM_pos_vel:00000048 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1093   .text.set_DM_vel:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1099   .text.set_DM_vel:00000000 set_DM_vel
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1148   .text.set_DM_vel:00000030 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1153   .text.set_DM_mit:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1159   .text.set_DM_mit:00000000 set_DM_mit
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1260   .text.set_DM_mit:00000090 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1265   .text.set_DM_mode:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1271   .text.set_DM_mode:00000000 set_DM_mode
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1322   .text.set_DM_mode:00000030 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1327   .text.mit_ctrl:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1333   .text.mit_ctrl:00000000 mit_ctrl
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1483   .text.mit_ctrl:00000118 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1489   .text.pos_speed_ctrl:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1495   .text.pos_speed_ctrl:00000000 pos_speed_ctrl
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1581   .rodata:00000000 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1585   .text.CAN_Send_Enter:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1591   .text.CAN_Send_Enter:00000000 CAN_Send_Enter
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1675   .text.CAN_Send_Enter:00000070 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1684   .text.CAN_Send_Exit:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1690   .text.CAN_Send_Exit:00000000 CAN_Send_Exit
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1774   .text.CAN_Send_Exit:00000070 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1783   .text.CAN_Send_Clear_Error:00000000 $t
ARM GAS  C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s 			page 47


C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1789   .text.CAN_Send_Clear_Error:00000000 CAN_Send_Clear_Error
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1873   .text.CAN_Send_Clear_Error:00000070 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1882   .text.CAN_Send_Save_Zero:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1888   .text.CAN_Send_Save_Zero:00000000 CAN_Send_Save_Zero
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1972   .text.CAN_Send_Save_Zero:00000070 $d
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1977   .text.speed_ctrl:00000000 $t
C:\Users\23671\AppData\Local\Temp\ccTTTJVW.s:1983   .text.speed_ctrl:00000000 speed_ctrl

UNDEFINED SYMBOLS
canx_send_data
HAL_FDCAN_AddMessageToTxFifoQ
Error_Handler
